"""greenbyteapi.

This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
"""

from apimatic_core.authentication.multiple.single_auth import (
    Single,
)
from apimatic_core.configurations.endpoint_configuration import (
    EndpointConfiguration,
)
from apimatic_core.request_builder import RequestBuilder
from apimatic_core.response_handler import ResponseHandler
from apimatic_core.types.array_serialization_format import (
    SerializationFormats,
)
from apimatic_core.types.parameter import Parameter

from greenbyteapi.api_helper import APIHelper
from greenbyteapi.configuration import Server
from greenbyteapi.controllers.base_controller import (
    BaseController,
)
from greenbyteapi.exceptions.api_exception import (
    APIException,
)
from greenbyteapi.exceptions.problem_details_exception import (
    ProblemDetailsException,
)
from greenbyteapi.http.http_method_enum import (
    HttpMethodEnum,
)
from greenbyteapi.models.device_access import (
    DeviceAccess,
)
from greenbyteapi.models.downtime_event import (
    DowntimeEvent,
)
from greenbyteapi.models.hse_incidents_response import (
    HseIncidentsResponse,
)
from greenbyteapi.models.organization import (
    Organization,
)
from greenbyteapi.models.personnel import Personnel
from greenbyteapi.models.site_access import (
    SiteAccess,
)
from greenbyteapi.models.task import Task
from greenbyteapi.models.task_category import (
    TaskCategory,
)
from greenbyteapi.models.task_comment import (
    TaskComment,
)
from greenbyteapi.models.tasks_files_response import (
    TasksFilesResponse,
)
from greenbyteapi.models.worklog_response import (
    WorklogResponse,
)


class PlanController(BaseController):
    """A Controller to access Endpoints in the greenbyteapi API."""

    def __init__(self, config):
        """Initialize PlanController object."""
        super(PlanController, self).__init__(config)

    def list_tasks(self,
                   timestamp_start,
                   timestamp_end,
                   device_ids=None,
                   site_ids=None,
                   category_ids=None,
                   state=None,
                   fields=None,
                   page_size=50,
                   page=1,
                   use_utc=False):
        """Perform a GET request to /tasks.

        Gets a list of tasks.
        _üîê This endpoint requires the **Plan** endpoint permission._

        Args:
            timestamp_start (datetime): The beginning of the time interval to
                get data for (inclusive), in [RFC 3339, section
                5.6](https://tools.ietf.org/html/rfc3339#section-5.6)
                **date-time** format:  * Timestamps ending with 'Z' are
                treated as UTC. Example: "2020-01-01T00:00:00Z" * Time zone
                (UTC) offset timestamps ending with '+HH:mm'/"-HH:mm" are also
                supported. Example: "2020-01-01T02:00:00-02:00" * Other
                timestamps are treated as being in the time zone configured in
                the Greenbyte Platform. Example: "2020-01-01T00:00:00"  The
                start timestamp **is** included in the time interval: for
                example, to select the full month of March 2020, set
                `timestampStart` to "2020-03-01T00:00:00" and `timestampEnd`
                to "2020-04-01T00:00:00".  Timestamps selected in the portal
                will by default be in UTC.
            timestamp_end (datetime): The end of the time interval to get data
                for (exclusive), in [RFC 3339, section
                5.6](https://tools.ietf.org/html/rfc3339#section-5.6)
                **date-time** format:  * Timestamps ending with 'Z' are
                treated as UTC. Example: "2020-01-01T00:00:00Z" * Time zone
                (UTC) offset timestamps ending with '+HH:mm'/"-HH:mm" are also
                supported. Example: "2020-01-01T02:00:00-02:00" * Other
                timestamps are treated as being in the time zone configured in
                the Greenbyte Platform. Example: "2020-01-01T00:00:00"  The
                end timestamp is **not** included in the time interval: for
                example, to select the full month of March 2020, set
                `timestampStart` to "2020-03-01T00:00:00" and `timestampEnd`
                to "2020-04-01T00:00:00".  Timestamps selected in the portal
                will by default be in UTC.
            device_ids (List[int], optional): What devices to get tasks for.
            site_ids (List[int], optional): What sites to get tasks for.
            category_ids (List[int], optional): What task categories to
                include.
            state (TaskStateEnum, optional): What state of tasks to get:
                resolved and unresolved. If not set, both resolved and
                unresolved tasks are included.
            fields (List[str], optional): Which fields to include in the
                response. Valid fields are those defined in the `Task` schema
                (See Response Type). By default all fields are included.
            page_size (int, optional): The number of items to return per page.
            page (int, optional): Which page to return when the number of
                items exceed the page size.
            use_utc (bool, optional): Set to true to get timestamps in UTC.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A list of
                tasks matching the filter parameters.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/tasks")
            .http_method(HttpMethodEnum.GET)
            .query_param(Parameter()
                         .key("timestampStart")
                         .value(APIHelper.when_defined(APIHelper.RFC3339DateTime,
                             timestamp_start)))
            .query_param(Parameter()
                         .key("timestampEnd")
                         .value(APIHelper.when_defined(APIHelper.RFC3339DateTime,
                             timestamp_end)))
            .query_param(Parameter()
                         .key("deviceIds")
                         .value(device_ids))
            .query_param(Parameter()
                         .key("siteIds")
                         .value(site_ids))
            .query_param(Parameter()
                         .key("categoryIds")
                         .value(category_ids))
            .query_param(Parameter()
                         .key("state")
                         .value(state))
            .query_param(Parameter()
                         .key("fields")
                         .value(fields))
            .query_param(Parameter()
                         .key("pageSize")
                         .value(page_size))
            .query_param(Parameter()
                         .key("page")
                         .value(page))
            .query_param(Parameter()
                         .key("useUtc")
                         .value(use_utc))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .array_serialization_format(SerializationFormats.CSV)
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(Task.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def get_task(self,
                 task_id,
                 use_utc=False):
        """Perform a GET request to /tasks/{taskId}.

        Get a single task by ID.
        _üîê This endpoint requires the **Plan** endpoint permission._

        Args:
            task_id (int): The id of the task to get.
            use_utc (bool, optional): Set to true to get timestamps in UTC.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A single
                task.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/tasks/{taskId}")
            .http_method(HttpMethodEnum.GET)
            .template_param(Parameter()
                            .key("taskId")
                            .value(task_id)
                            .should_encode(True))
            .query_param(Parameter()
                         .key("useUtc")
                         .value(use_utc))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(Task.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("404",
                "The requested resource could not be found.",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def list_task_categories(self):
        """Perform a GET request to /task-categories.

        Gets a list of task categories.
        _üîê This endpoint requires the **Plan** endpoint permission._

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A list of
                task categories.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/task-categories")
            .http_method(HttpMethodEnum.GET)
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(TaskCategory.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def list_comments_for_multiple_tasks(self,
                                         task_ids,
                                         fields=None,
                                         page_size=50,
                                         page=1,
                                         use_utc=False):
        """Perform a GET request to /tasks-comments.

        Gets a list of comments belonging to one or more tasks with given
        taskIds.
        _üîê This endpoint requires the **Plan** endpoint permission._

        Args:
            task_ids (List[int]): An array of taskIds.
            fields (List[str], optional): Which fields to include in the
                response. Valid fields are those defined in the `TaskComment`
                schema (See Response Type). By default all fields are included.
            page_size (int, optional): The number of items to return per page.
            page (int, optional): Which page to return when the number of
                items exceed the page size.
            use_utc (bool, optional): Set to true to get timestamps in UTC.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A list of
                comments belonging to the task.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/tasks-comments")
            .http_method(HttpMethodEnum.GET)
            .query_param(Parameter()
                         .key("taskIds")
                         .value(task_ids))
            .query_param(Parameter()
                         .key("fields")
                         .value(fields))
            .query_param(Parameter()
                         .key("pageSize")
                         .value(page_size))
            .query_param(Parameter()
                         .key("page")
                         .value(page))
            .query_param(Parameter()
                         .key("useUtc")
                         .value(use_utc))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .array_serialization_format(SerializationFormats.CSV)
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(TaskComment.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def list_task_files(self,
                        task_id,
                        fields=None,
                        page_size=50,
                        page=1,
                        use_utc=False):
        """Perform a GET request to /tasks/{taskId}/files.

        Gets a list of files belonging to a task.
        _üîê This endpoint requires the **Plan** endpoint permission._

        Args:
            task_id (int): The id of the task.
            fields (List[str], optional): Which fields to include in the
                response. Valid fields are those defined in the `TaskFile`
                schema (See Response Type). By default all fields are included.
            page_size (int, optional): The number of items to return per page.
            page (int, optional): Which page to return when the number of
                items exceed the page size.
            use_utc (bool, optional): Set to true to get timestamps in UTC.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A list
                with information about files belonging to the task.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/tasks/{taskId}/files")
            .http_method(HttpMethodEnum.GET)
            .template_param(Parameter()
                            .key("taskId")
                            .value(task_id)
                            .should_encode(True))
            .query_param(Parameter()
                         .key("fields")
                         .value(fields))
            .query_param(Parameter()
                         .key("pageSize")
                         .value(page_size))
            .query_param(Parameter()
                         .key("page")
                         .value(page))
            .query_param(Parameter()
                         .key("useUtc")
                         .value(use_utc))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .array_serialization_format(SerializationFormats.CSV)
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(TasksFilesResponse.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("404",
                "The requested resource could not be found.",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def download_task_file(self,
                           task_id,
                           file_id):
        """Perform a GET request to /tasks/{taskId}/files/{fileId}/content.

        Downloads a file belonging to a task.
        _üîê This endpoint requires the **Plan** endpoint permission._

        Args:
            task_id (int): The id of the task.
            file_id (int): The id of the file.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. The
                contents of a file linked to the task.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/tasks/{taskId}/files/{fileId}/content")
            .http_method(HttpMethodEnum.GET)
            .template_param(Parameter()
                            .key("taskId")
                            .value(task_id)
                            .should_encode(True))
            .template_param(Parameter()
                            .key("fileId")
                            .value(file_id)
                            .should_encode(True))
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("404",
                "The requested resource could not be found.",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).endpoint_configuration(
            EndpointConfiguration()
            .has_binary_response(True),
        ).execute()

    def list_site_accesses(self,
                           timestamp_start,
                           timestamp_end,
                           device_ids=None,
                           site_ids=None,
                           fields=None,
                           page_size=50,
                           page=1,
                           use_utc=False):
        """Perform a GET request to /site-accesses.

        Gets a list of site accesses.
        _üîê This endpoint requires the **Plan** endpoint permission._

        Args:
            timestamp_start (datetime): The beginning of the time interval to
                get data for (inclusive), in [RFC 3339, section
                5.6](https://tools.ietf.org/html/rfc3339#section-5.6)
                **date-time** format:  * Timestamps ending with 'Z' are
                treated as UTC. Example: "2020-01-01T00:00:00Z" * Time zone
                (UTC) offset timestamps ending with '+HH:mm'/"-HH:mm" are also
                supported. Example: "2020-01-01T02:00:00-02:00" * Other
                timestamps are treated as being in the time zone configured in
                the Greenbyte Platform. Example: "2020-01-01T00:00:00"  The
                start timestamp **is** included in the time interval: for
                example, to select the full month of March 2020, set
                `timestampStart` to "2020-03-01T00:00:00" and `timestampEnd`
                to "2020-04-01T00:00:00".  Timestamps selected in the portal
                will by default be in UTC.
            timestamp_end (datetime): The end of the time interval to get data
                for (exclusive), in [RFC 3339, section
                5.6](https://tools.ietf.org/html/rfc3339#section-5.6)
                **date-time** format:  * Timestamps ending with 'Z' are
                treated as UTC. Example: "2020-01-01T00:00:00Z" * Time zone
                (UTC) offset timestamps ending with '+HH:mm'/"-HH:mm" are also
                supported. Example: "2020-01-01T02:00:00-02:00" * Other
                timestamps are treated as being in the time zone configured in
                the Greenbyte Platform. Example: "2020-01-01T00:00:00"  The
                end timestamp is **not** included in the time interval: for
                example, to select the full month of March 2020, set
                `timestampStart` to "2020-03-01T00:00:00" and `timestampEnd`
                to "2020-04-01T00:00:00".  Timestamps selected in the portal
                will by default be in UTC.
            device_ids (List[int], optional): What devices to get site
                accesses for.
            site_ids (List[int], optional): What sites to get site accesses
                for.
            fields (List[str], optional): Which fields to include in the
                response. Valid fields are those defined in the `SiteAccess`
                schema (See Response Type). By default all fields are included.
            page_size (int, optional): The number of items to return per page.
            page (int, optional): Which page to return when the number of
                items exceed the page size.
            use_utc (bool, optional): Set to true to get timestamps in UTC.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A list of
                site accesses matching the filter parameters.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/site-accesses")
            .http_method(HttpMethodEnum.GET)
            .query_param(Parameter()
                         .key("timestampStart")
                         .value(APIHelper.when_defined(APIHelper.RFC3339DateTime,
                             timestamp_start)))
            .query_param(Parameter()
                         .key("timestampEnd")
                         .value(APIHelper.when_defined(APIHelper.RFC3339DateTime,
                             timestamp_end)))
            .query_param(Parameter()
                         .key("deviceIds")
                         .value(device_ids))
            .query_param(Parameter()
                         .key("siteIds")
                         .value(site_ids))
            .query_param(Parameter()
                         .key("fields")
                         .value(fields))
            .query_param(Parameter()
                         .key("pageSize")
                         .value(page_size))
            .query_param(Parameter()
                         .key("page")
                         .value(page))
            .query_param(Parameter()
                         .key("useUtc")
                         .value(use_utc))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .array_serialization_format(SerializationFormats.CSV)
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(SiteAccess.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def get_site_access(self,
                        site_access_id,
                        use_utc=False):
        """Perform a GET request to /site-accesses/{siteAccessId}.

        Gets a specific site access.
        _üîê This endpoint requires the **Plan** endpoint permission._

        Args:
            site_access_id (int): The id of the site access.
            use_utc (bool, optional): Set to true to get timestamps in UTC.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A single
                site access object.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/site-accesses/{siteAccessId}")
            .http_method(HttpMethodEnum.GET)
            .template_param(Parameter()
                            .key("siteAccessId")
                            .value(site_access_id)
                            .should_encode(True))
            .query_param(Parameter()
                         .key("useUtc")
                         .value(use_utc))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(SiteAccess.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("404",
                "The requested resource could not be found.",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def list_device_accesses_for_multiple_site_accesses(self,
                                                        site_access_ids,
                                                        fields=None,
                                                        page_size=50,
                                                        page=1,
                                                        use_utc=False):
        """Perform a GET request to /device-accesses.

        Gets a list of device accesses belonging to site accesses with
        specified SiteAccessIds.
        _üîê This endpoint requires the **Plan** endpoint permission._

        Args:
            site_access_ids (List[int]): An array of siteAccessIds.
            fields (List[str], optional): Which fields to include in the
                response. Valid fields are those defined in the `DeviceAccess`
                schema (See Response Type). By default all fields are included.
            page_size (int, optional): The number of items to return per page.
            page (int, optional): Which page to return when the number of
                items exceed the page size.
            use_utc (bool, optional): Set to true to get timestamps in UTC.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A list of
                device accesses.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/device-accesses")
            .http_method(HttpMethodEnum.GET)
            .query_param(Parameter()
                         .key("siteAccessIds")
                         .value(site_access_ids))
            .query_param(Parameter()
                         .key("fields")
                         .value(fields))
            .query_param(Parameter()
                         .key("pageSize")
                         .value(page_size))
            .query_param(Parameter()
                         .key("page")
                         .value(page))
            .query_param(Parameter()
                         .key("useUtc")
                         .value(use_utc))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .array_serialization_format(SerializationFormats.CSV)
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(DeviceAccess.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def get_device_access(self,
                          device_access_id,
                          use_utc=False):
        """Perform a GET request to /device-accesses/{deviceAccessId}.

        Get a single device access by ID.
        _üîê This endpoint requires the **Plan** endpoint permission._

        Args:
            device_access_id (int): The id of the device access to get.
            use_utc (bool, optional): Set to true to get timestamps in UTC.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A single
                device access.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/device-accesses/{deviceAccessId}")
            .http_method(HttpMethodEnum.GET)
            .template_param(Parameter()
                            .key("deviceAccessId")
                            .value(device_access_id)
                            .should_encode(True))
            .query_param(Parameter()
                         .key("useUtc")
                         .value(use_utc))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(DeviceAccess.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("404",
                "The requested resource could not be found.",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def list_downtime_events(self,
                             timestamp_start,
                             timestamp_end,
                             device_ids=None,
                             site_ids=None,
                             fields=None,
                             page_size=50,
                             page=1,
                             use_utc=False):
        """Perform a GET request to /downtime-events.

        Gets a list of downtime events.
        _üîê This endpoint requires the **Plan** endpoint permission._

        Args:
            timestamp_start (datetime): The beginning of the time interval to
                get data for (inclusive), in [RFC 3339, section
                5.6](https://tools.ietf.org/html/rfc3339#section-5.6)
                **date-time** format:  * Timestamps ending with 'Z' are
                treated as UTC. Example: "2020-01-01T00:00:00Z" * Time zone
                (UTC) offset timestamps ending with '+HH:mm'/"-HH:mm" are also
                supported. Example: "2020-01-01T02:00:00-02:00" * Other
                timestamps are treated as being in the time zone configured in
                the Greenbyte Platform. Example: "2020-01-01T00:00:00"  The
                start timestamp **is** included in the time interval: for
                example, to select the full month of March 2020, set
                `timestampStart` to "2020-03-01T00:00:00" and `timestampEnd`
                to "2020-04-01T00:00:00".  Timestamps selected in the portal
                will by default be in UTC.
            timestamp_end (datetime): The end of the time interval to get data
                for (exclusive), in [RFC 3339, section
                5.6](https://tools.ietf.org/html/rfc3339#section-5.6)
                **date-time** format:  * Timestamps ending with 'Z' are
                treated as UTC. Example: "2020-01-01T00:00:00Z" * Time zone
                (UTC) offset timestamps ending with '+HH:mm'/"-HH:mm" are also
                supported. Example: "2020-01-01T02:00:00-02:00" * Other
                timestamps are treated as being in the time zone configured in
                the Greenbyte Platform. Example: "2020-01-01T00:00:00"  The
                end timestamp is **not** included in the time interval: for
                example, to select the full month of March 2020, set
                `timestampStart` to "2020-03-01T00:00:00" and `timestampEnd`
                to "2020-04-01T00:00:00".  Timestamps selected in the portal
                will by default be in UTC.
            device_ids (List[int], optional): What devices to get downtime
                events for.
            site_ids (List[int], optional): What sites to get downtime events
                for.
            fields (List[str], optional): Which fields to include in the
                response. Valid fields are those defined in the
                `DowntimeEvent` schema (See Response Type). By default all
                fields are included.
            page_size (int, optional): The number of items to return per page.
            page (int, optional): Which page to return when the number of
                items exceed the page size.
            use_utc (bool, optional): Set to true to get timestamps in UTC.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A list of
                downtime events matching the filter parameters.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/downtime-events")
            .http_method(HttpMethodEnum.GET)
            .query_param(Parameter()
                         .key("timestampStart")
                         .value(APIHelper.when_defined(APIHelper.RFC3339DateTime,
                             timestamp_start)))
            .query_param(Parameter()
                         .key("timestampEnd")
                         .value(APIHelper.when_defined(APIHelper.RFC3339DateTime,
                             timestamp_end)))
            .query_param(Parameter()
                         .key("deviceIds")
                         .value(device_ids))
            .query_param(Parameter()
                         .key("siteIds")
                         .value(site_ids))
            .query_param(Parameter()
                         .key("fields")
                         .value(fields))
            .query_param(Parameter()
                         .key("pageSize")
                         .value(page_size))
            .query_param(Parameter()
                         .key("page")
                         .value(page))
            .query_param(Parameter()
                         .key("useUtc")
                         .value(use_utc))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .array_serialization_format(SerializationFormats.CSV)
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(DowntimeEvent.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def get_downtime_event(self,
                           downtime_event_id,
                           use_utc=False):
        """Perform a GET request to /downtime-events/{downtimeEventId}.

        Gets a single downtime event by ID.
        _üîê This endpoint requires the **Plan** endpoint permission._

        Args:
            downtime_event_id (int): The id of the downtime event to get.
            use_utc (bool, optional): Set to true to get timestamps in UTC.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A single
                downtime event.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/downtime-events/{downtimeEventId}")
            .http_method(HttpMethodEnum.GET)
            .template_param(Parameter()
                            .key("downtimeEventId")
                            .value(downtime_event_id)
                            .should_encode(True))
            .query_param(Parameter()
                         .key("useUtc")
                         .value(use_utc))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(DowntimeEvent.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("404",
                "The requested resource could not be found.",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def list_personnel(self,
                       fields=None,
                       page_size=50,
                       page=1):
        """Perform a GET request to /personnel.

        Gets a list of personnel.
        _üîê This endpoint requires the **Plan** endpoint permission._

        Args:
            fields (List[str], optional): Which fields to include in the
                response. Valid fields are those defined in the `Personnel`
                schema (See Response Type). By default all fields are included.
            page_size (int, optional): The number of items to return per page.
            page (int, optional): Which page to return when the number of
                items exceed the page size.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A list of
                personnel matching the filter parameters.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/personnel")
            .http_method(HttpMethodEnum.GET)
            .query_param(Parameter()
                         .key("fields")
                         .value(fields))
            .query_param(Parameter()
                         .key("pageSize")
                         .value(page_size))
            .query_param(Parameter()
                         .key("page")
                         .value(page))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .array_serialization_format(SerializationFormats.CSV)
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(Personnel.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def get_personnel(self,
                      personnel_id):
        """Perform a GET request to /personnel/{personnelId}.

        Gets a single personnel by ID.
        _üîê This endpoint requires the **Plan** endpoint permission._

        Args:
            personnel_id (int): The id of the personnel to get.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A single
                personnel matching the personnel ID.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/personnel/{personnelId}")
            .http_method(HttpMethodEnum.GET)
            .template_param(Parameter()
                            .key("personnelId")
                            .value(personnel_id)
                            .should_encode(True))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(Personnel.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("404",
                "The requested resource could not be found.",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def list_organizations(self):
        """Perform a GET request to /organizations.

        Gets a list of organizations.
        _üîê This endpoint requires the **Plan** endpoint permission._

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A list of
                organizations.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/organizations")
            .http_method(HttpMethodEnum.GET)
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(Organization.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def list_hse_incidents(self,
                           timestamp_start,
                           timestamp_end,
                           site_ids=None,
                           state=None,
                           category=None,
                           use_utc=False):
        """Perform a GET request to /hse-incidents.

        Gets a list of HSE incidents.
        _üîê This endpoint requires the **Plan** endpoint permission._
        _This is a beta feature. Some details might change before it is
        released as a stable version._

        Args:
            timestamp_start (datetime): The beginning of the time interval to
                get data for (inclusive), in [RFC 3339, section
                5.6](https://tools.ietf.org/html/rfc3339#section-5.6)
                **date-time** format:  * Timestamps ending with 'Z' are
                treated as UTC. Example: "2020-01-01T00:00:00Z" * Time zone
                (UTC) offset timestamps ending with '+HH:mm'/"-HH:mm" are also
                supported. Example: "2020-01-01T02:00:00-02:00" * Other
                timestamps are treated as being in the time zone configured in
                the Greenbyte Platform. Example: "2020-01-01T00:00:00"  The
                start timestamp **is** included in the time interval: for
                example, to select the full month of March 2020, set
                `timestampStart` to "2020-03-01T00:00:00" and `timestampEnd`
                to "2020-04-01T00:00:00".  Timestamps selected in the portal
                will by default be in UTC.
            timestamp_end (datetime): The end of the time interval to get data
                for (exclusive), in [RFC 3339, section
                5.6](https://tools.ietf.org/html/rfc3339#section-5.6)
                **date-time** format:  * Timestamps ending with 'Z' are
                treated as UTC. Example: "2020-01-01T00:00:00Z" * Time zone
                (UTC) offset timestamps ending with '+HH:mm'/"-HH:mm" are also
                supported. Example: "2020-01-01T02:00:00-02:00" * Other
                timestamps are treated as being in the time zone configured in
                the Greenbyte Platform. Example: "2020-01-01T00:00:00"  The
                end timestamp is **not** included in the time interval: for
                example, to select the full month of March 2020, set
                `timestampStart` to "2020-03-01T00:00:00" and `timestampEnd`
                to "2020-04-01T00:00:00".  Timestamps selected in the portal
                will by default be in UTC.
            site_ids (List[int], optional): Which sites to get HSE incidents
                for.
            state (StateEnum, optional): Retrieve HSE incidents with state:
                resolved or unresolved. If not set, both resolved and
                unresolved HSE incidents are included.
            category (HSECategoryEnum, optional): Retrieve HSE incidents with
                a specific category. If not set, HSE incidents of all
                categories are included.
            use_utc (bool, optional): Set to true to get timestamps in UTC.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A list of
                HSE incidents matching the filter parameters.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/hse-incidents")
            .http_method(HttpMethodEnum.GET)
            .query_param(Parameter()
                         .key("timestampStart")
                         .value(APIHelper.when_defined(APIHelper.RFC3339DateTime,
                             timestamp_start)))
            .query_param(Parameter()
                         .key("timestampEnd")
                         .value(APIHelper.when_defined(APIHelper.RFC3339DateTime,
                             timestamp_end)))
            .query_param(Parameter()
                         .key("siteIds")
                         .value(site_ids))
            .query_param(Parameter()
                         .key("state")
                         .value(state))
            .query_param(Parameter()
                         .key("category")
                         .value(category))
            .query_param(Parameter()
                         .key("useUtc")
                         .value(use_utc))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .array_serialization_format(SerializationFormats.CSV)
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(HseIncidentsResponse.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def get_hse_incident(self,
                         hse_incident_id,
                         use_utc=False):
        """Perform a GET request to /hse-incidents/{hseIncidentId}.

        Get a single HSE incident by ID.
        _üîê This endpoint requires the **Plan** endpoint permission._
        _This is a beta feature. Some details might change before it is
        released as a stable version._

        Args:
            hse_incident_id (int): The id of the HSE incident to get.
            use_utc (bool, optional): Set to true to get timestamps in UTC.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A single
                HSE incident.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/hse-incidents/{hseIncidentId}")
            .http_method(HttpMethodEnum.GET)
            .template_param(Parameter()
                            .key("hseIncidentId")
                            .value(hse_incident_id)
                            .should_encode(True))
            .query_param(Parameter()
                         .key("useUtc")
                         .value(use_utc))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(HseIncidentsResponse.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("404",
                "The requested resource could not be found.",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def list_worklog_items(self,
                           timestamp_start,
                           timestamp_end,
                           site_ids=None,
                           use_utc=False):
        """Perform a GET request to /worklog.

        Gets a list of worklog items.
        _üîê This endpoint requires the **Plan** endpoint permission._
        _This is a beta feature. Some details might change before it is
        released as a stable version._

        Args:
            timestamp_start (datetime): The beginning of the time interval to
                get data for (inclusive), in [RFC 3339, section
                5.6](https://tools.ietf.org/html/rfc3339#section-5.6)
                **date-time** format:  * Timestamps ending with 'Z' are
                treated as UTC. Example: "2020-01-01T00:00:00Z" * Time zone
                (UTC) offset timestamps ending with '+HH:mm'/"-HH:mm" are also
                supported. Example: "2020-01-01T02:00:00-02:00" * Other
                timestamps are treated as being in the time zone configured in
                the Greenbyte Platform. Example: "2020-01-01T00:00:00"  The
                start timestamp **is** included in the time interval: for
                example, to select the full month of March 2020, set
                `timestampStart` to "2020-03-01T00:00:00" and `timestampEnd`
                to "2020-04-01T00:00:00".  Timestamps selected in the portal
                will by default be in UTC.
            timestamp_end (datetime): The end of the time interval to get data
                for (exclusive), in [RFC 3339, section
                5.6](https://tools.ietf.org/html/rfc3339#section-5.6)
                **date-time** format:  * Timestamps ending with 'Z' are
                treated as UTC. Example: "2020-01-01T00:00:00Z" * Time zone
                (UTC) offset timestamps ending with '+HH:mm'/"-HH:mm" are also
                supported. Example: "2020-01-01T02:00:00-02:00" * Other
                timestamps are treated as being in the time zone configured in
                the Greenbyte Platform. Example: "2020-01-01T00:00:00"  The
                end timestamp is **not** included in the time interval: for
                example, to select the full month of March 2020, set
                `timestampStart` to "2020-03-01T00:00:00" and `timestampEnd`
                to "2020-04-01T00:00:00".  Timestamps selected in the portal
                will by default be in UTC.
            site_ids (List[int], optional): What sites to get worklog items
                for.
            use_utc (bool, optional): Set to true to get timestamps in UTC.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A list of
                worklog items matching the filter parameters.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/worklog")
            .http_method(HttpMethodEnum.GET)
            .query_param(Parameter()
                         .key("timestampStart")
                         .value(APIHelper.when_defined(APIHelper.RFC3339DateTime,
                             timestamp_start)))
            .query_param(Parameter()
                         .key("timestampEnd")
                         .value(APIHelper.when_defined(APIHelper.RFC3339DateTime,
                             timestamp_end)))
            .query_param(Parameter()
                         .key("siteIds")
                         .value(site_ids))
            .query_param(Parameter()
                         .key("useUtc")
                         .value(use_utc))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .array_serialization_format(SerializationFormats.CSV)
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(WorklogResponse.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()

    def get_worklog_item(self,
                         worklog_item_id,
                         use_utc=False):
        """Perform a GET request to /worklog/{worklogItemId}.

        Get a single worklog item by ID.
        _üîê This endpoint requires the **Plan** endpoint permission._
        _This is a beta feature. Some details might change before it is
        released as a stable version._

        Args:
            worklog_item_id (int): The id of the worklog item to get.
            use_utc (bool, optional): Set to true to get timestamps in UTC.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers. A single
                worklog item.

        Raises:
            APIException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """
        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path("/worklog/{worklogItemId}")
            .http_method(HttpMethodEnum.GET)
            .template_param(Parameter()
                            .key("worklogItemId")
                            .value(worklog_item_id)
                            .should_encode(True))
            .query_param(Parameter()
                         .key("useUtc")
                         .value(use_utc))
            .header_param(Parameter()
                          .key("accept")
                          .value("application/json"))
            .auth(Single("ApiKeyHeaderAuth")),
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(WorklogResponse.from_dictionary)
            .is_api_response(True)
            .local_error("400",
                "The request cannot be fulfilled due to bad syntax.",
                ProblemDetailsException)
            .local_error("401",
                "The request is missing a valid API key.\n",
                APIException)
            .local_error("403",
                "One of the following:\n* The API key does not authorize access"
                " to the requested endpoint because of a missing endpoint permi"
                "ssion.\n* The API key does not authorize access to the request"
                "ed data. Devices, sites or data signals can be limited.\n",
                APIException)
            .local_error("404",
                "The requested resource could not be found.",
                APIException)
            .local_error("405",
                "The HTTP method is not allowed for the endpoint.",
                APIException)
            .local_error("429",
                "The API key has been used in too many requests in a given amou"
                "nt\nof time. The following headers will be set in the response"
                ":\n* `X-Rate-Limit-Limit` ‚Äì The rate limit period (for example"
                "\n  '1m', '12h', or '1d').\n* `X-Rate-Limit-Remaining` ‚Äì The r"
                "emaining number of requests\n  for this period.\n* `X-Rate-Lim"
                "it-Reset` ‚Äì The UTC timestamp string (in ISO 8601\n  format) w"
                "hen the remaining number of requests resets.\n\nThe limit is c"
                "urrently 1,000 requests/minute per API key and IP\naddress.\n",
                ProblemDetailsException),
        ).execute()
