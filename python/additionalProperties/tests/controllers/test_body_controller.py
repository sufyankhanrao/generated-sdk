# -*- coding: utf-8 -*-

"""
additionalpropertiestester

This file was automatically generated by APIMATIC v3.0 (
 https://www.apimatic.io ).
"""

import json
import dateutil.parser

from tests.controllers.controller_test_base import ControllerTestBase
from apimatic_core.utilities.comparison_helper import ComparisonHelper
from additionalpropertiestester.api_helper import APIHelper
from additionalpropertiestester.models.simple_model import SimpleModel
from additionalpropertiestester.models.date_additional_properties import DateAdditionalProperties
from additionalpropertiestester.models.date_time_additional_properties import DateTimeAdditionalProperties
from additionalpropertiestester.models.uuid_additional_properties import UUIDAdditionalProperties
from additionalpropertiestester.models.array_of_string_additional_properties import ArrayOfStringAdditionalProperties
from additionalpropertiestester.models.map_of_array_additional_properties import MapOfArrayAdditionalProperties
from additionalpropertiestester.models.parent_string_type import ChildNumberType
from additionalpropertiestester.models.parent_string_type import ChildStringType
from additionalpropertiestester.models.non_inherit_enabled_number import NonInheritEnabledNumber
from additionalpropertiestester.models.non_inherit_enabled_any import NonInheritEnabledAny
from additionalpropertiestester.models.one_of_additional_properties import OneOfAdditionalProperties


class BodyControllerTests(ControllerTestBase):

    controller = None

    @classmethod
    def setUpClass(cls):
        super(BodyControllerTests, cls).setUpClass()
        cls.controller = cls.client.body
        cls.response_catcher = cls.controller.http_call_back

    # Test the UploadSimpleModel endpoint with SimpleModel containing AnotherComplexModel as additional property
    def test_upload_with_another_complex_model(self):
        # Parameters for the API call
        body = APIHelper.json_deserialize('{"requiredProperty":"Another required property","anotherComplexMod'
            'el":{"name":"Another Complex Model","job":"Worker"}}', SimpleModel.from_dictionary)

        # Perform the API call through the SDK function
        result = self.controller.upload_simple_model(body)

        # Test response code
        assert self.response_catcher.response.status_code == 200
        
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize('{"requiredProperty":"Another required property","anotherComplexMod'
            'el":{"name":"Another Complex Model","job":"Worker"}}')
        received_body = APIHelper.json_deserialize(self.response_catcher.response.text)
        assert ComparisonHelper.match_body(expected_body, received_body, check_values = True)

    # Test the UploadDateAdditionalProperties endpoint with DateAdditionalProperties containing Date as additional property
    def test_upload_date_additional_properties(self):
        # Parameters for the API call
        body = APIHelper.json_deserialize('{"requiredProperty":"2023-11-01","additionalProperty1":"2024-11-01'
            '"}', DateAdditionalProperties.from_dictionary)

        # Perform the API call through the SDK function
        result = self.controller.upload_date_additional_properties(body)

        # Test response code
        assert self.response_catcher.response.status_code == 200
        
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize('{"requiredProperty":"2023-11-01","additionalProperty1":"2024-11-01'
            '"}')
        received_body = APIHelper.json_deserialize(self.response_catcher.response.text)
        assert ComparisonHelper.match_body(expected_body, received_body, check_values = True)

    # Test the UploadDateTimeAdditionalProperties endpoint with DateTimeAdditionalProperties containing DateTime as additional properties.
    def test_upload_date_time_additional_properties(self):
        # Parameters for the API call
        body = APIHelper.json_deserialize('{"requiredProperty":"2023-11-01T00:00:00Z","additionalProperty1":"'
            '2024-11-01T00:00:00Z"}', DateTimeAdditionalProperties.from_dictionary)

        # Perform the API call through the SDK function
        result = self.controller.upload_date_time_additional_properties(body)

        # Test response code
        assert self.response_catcher.response.status_code == 200
        
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize('{"requiredProperty":"2023-11-01T00:00:00Z","additionalProperty1":"'
            '2024-11-01T00:00:00Z"}')
        received_body = APIHelper.json_deserialize(self.response_catcher.response.text)
        assert ComparisonHelper.match_body(expected_body, received_body, check_values = True)

    # Test the UploadUUIDAdditionalProperties endpoint with UUIDAdditionalProperties containing UUID as additional properties.
    def test_upload_uuid_additional_properties(self):
        # Parameters for the API call
        body = APIHelper.json_deserialize('{"requiredProperty":"123e4567-e89b-12d3-a456-426614174000","additi'
            'onalUUID1":"987e6543-e21b-12d3-a456-426614174000","additionalUUID2'
            '":"456e1234-e87b-12d3-a456-426614174000"}', UUIDAdditionalProperties.from_dictionary)

        # Perform the API call through the SDK function
        result = self.controller.upload_uuid_additional_properties(body)

        # Test response code
        assert self.response_catcher.response.status_code == 200
        
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize('{"requiredProperty":"123e4567-e89b-12d3-a456-426614174000","additi'
            'onalUUID1":"987e6543-e21b-12d3-a456-426614174000","additionalUUID2'
            '":"456e1234-e87b-12d3-a456-426614174000"}')
        received_body = APIHelper.json_deserialize(self.response_catcher.response.text)
        assert ComparisonHelper.match_body(expected_body, received_body, check_values = True)

    # Test the UploadArrayOfStringAdditionalProperties endpoint with an array of strings and additional properties.
    def test_upload_array_of_string_additional_properties(self):
        # Parameters for the API call
        body = APIHelper.json_deserialize('{"requiredProperty":["string1","string2"],"additionalProperty1":["'
            'additionalString1","additionalString2"],"additionalProperty2":["an'
            'otherString1","anotherString2"]}', ArrayOfStringAdditionalProperties.from_dictionary)

        # Perform the API call through the SDK function
        result = self.controller.upload_array_of_string_additional_properties(body)

        # Test response code
        assert self.response_catcher.response.status_code == 200
        
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize('{"requiredProperty":["string1","string2"],"additionalProperty1":["'
            'additionalString1","additionalString2"],"additionalProperty2":["an'
            'otherString1","anotherString2"]}')
        received_body = APIHelper.json_deserialize(self.response_catcher.response.text)
        assert ComparisonHelper.match_body(expected_body, received_body, check_values = True)

    # Test the UploadMapOfArrayAdditionalProperties endpoint with nested arrays of numbers in additional properties.
    def test_upload_map_of_array_additional_properties(self):
        # Parameters for the API call
        body = APIHelper.json_deserialize('{"requiredProperty":{"key1":1.1,"key2":2.2},"additionalProperty1":'
            '{"key1":3.3,"key2":4.4},"additionalProperty2":{"key1":5.5}}', MapOfArrayAdditionalProperties.from_dictionary)

        # Perform the API call through the SDK function
        result = self.controller.upload_map_of_array_additional_properties(body)

        # Test response code
        assert self.response_catcher.response.status_code == 200
        
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize('{"requiredProperty":{"key1":1.1,"key2":2.2},"additionalProperty1":'
            '{"key1":3.3,"key2":4.4},"additionalProperty2":{"key1":5.5}}')
        received_body = APIHelper.json_deserialize(self.response_catcher.response.text)
        assert ComparisonHelper.match_body(expected_body, received_body, check_values = True)

    # Valid ChildNumberType object with number-typed additional properties.
    def test_upload_child_number_type_valid(self):
        # Parameters for the API call
        body = APIHelper.json_deserialize('{"name":"Test User","type":"CompDiff","company":"APIMatic","additi'
            'onalProperty1":12345,"additionalProperty2":54321}', ChildNumberType.from_dictionary)

        # Perform the API call through the SDK function
        result = self.controller.upload_child_number_type(body)

        # Test response code
        assert self.response_catcher.response.status_code == 200
        
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize('{"name":"Test User","type":"CompDiff","company":"APIMatic"}')
        received_body = APIHelper.json_deserialize(self.response_catcher.response.text)
        assert ComparisonHelper.match_body(expected_body, received_body, check_values = True)

    # Valid ChildStringType object with string-typed additional properties.
    def test_upload_child_string_type_valid(self):
        # Parameters for the API call
        body = APIHelper.json_deserialize('{"name":"Test User","type":"CompSame","company":"OpenAI","addition'
            'alProperty1":"Additional Info 1","additionalProperty2":"Additional'
            ' Info 2"}', ChildStringType.from_dictionary)

        # Perform the API call through the SDK function
        result = self.controller.upload_child_string_type(body)

        # Test response code
        assert self.response_catcher.response.status_code == 200
        
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize('{"name":"Test User","type":"CompSame","company":"OpenAI","addition'
            'alProperty1":"Additional Info 1","additionalProperty2":"Additional'
            ' Info 2"}')
        received_body = APIHelper.json_deserialize(self.response_catcher.response.text)
        assert ComparisonHelper.match_body(expected_body, received_body, check_values = True)

    # Valid NonInheritEnabledNumber object with number-typed additional properties.
    def test_upload_non_inherit_enabled_number_valid(self):
        # Parameters for the API call
        body = APIHelper.json_deserialize('{"email":"test@example.com","additionalProperty1":42.1,"additional'
            'Property2":100.5}', NonInheritEnabledNumber.from_dictionary)

        # Perform the API call through the SDK function
        result = self.controller.upload_non_inherit_enabled_number(body)

        # Test response code
        assert self.response_catcher.response.status_code == 200
        
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize('{"email":"test@example.com","additionalProperty1":42.1,"additional'
            'Property2":100.5}')
        received_body = APIHelper.json_deserialize(self.response_catcher.response.text)
        assert ComparisonHelper.match_body(expected_body, received_body, check_values = True)

    # Valid NonInheritEnabledAny object with diverse additional properties of mixed types.
    def test_upload_non_inherit_enabled_any_valid(self):
        # Parameters for the API call
        body = APIHelper.json_deserialize('{"email":"user@example.com","stringProperty":"Some text","numberPr'
            'operty":123,"booleanProperty":true,"objectProperty":{"key":"value"'
            '},"arrayProperty":[1,2,3],"parentStringType":{"name":"Test User","'
            'type":"CompSame","company":"OpenAI","additionalProperty1":"Additio'
            'nal Info 1","additionalProperty2":"Additional Info 2"}}', NonInheritEnabledAny.from_dictionary)

        # Perform the API call through the SDK function
        result = self.controller.upload_non_inherit_enabled_any(body)

        # Test response code
        assert self.response_catcher.response.status_code == 200
        
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize('{"email":"user@example.com","stringProperty":"Some text","numberPr'
            'operty":123,"booleanProperty":true,"objectProperty":{"key":"value"'
            '},"arrayProperty":[1,2,3],"parentStringType":{"name":"Test User","'
            'type":"CompSame","company":"OpenAI","additionalProperty1":"Additio'
            'nal Info 1","additionalProperty2":"Additional Info 2"}}')
        received_body = APIHelper.json_deserialize(self.response_catcher.response.text)
        assert ComparisonHelper.match_body(expected_body, received_body, check_values = True)

    # Valid OneOfAdditionalProperties as a additional property.
    def test_upload_one_of_additional_properties(self):
        # Parameters for the API call
        body = APIHelper.json_deserialize('{"requiredProperty":{"name":"Complex Model Name","age":"30","extra'
            'Detail":"Additional detail as per ComplexModel"},"additionalProper'
            'ty":{"name":"Additional property Complex Model Name","age":"300","'
            'extraDetail":"Additional property Additional detail as per Complex'
            'Model"}}', OneOfAdditionalProperties.from_dictionary)

        # Perform the API call through the SDK function
        result = self.controller.upload_one_of_additional_properties(body)

        # Test response code
        assert self.response_catcher.response.status_code == 200
        
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize('{"requiredProperty":{"name":"Complex Model Name","age":"30","extra'
            'Detail":"Additional detail as per ComplexModel"},"additionalProper'
            'ty":{"name":"Additional property Complex Model Name","age":"300","'
            'extraDetail":"Additional property Additional detail as per Complex'
            'Model"}}')
        received_body = APIHelper.json_deserialize(self.response_catcher.response.text)
        assert ComparisonHelper.match_body(expected_body, received_body, check_values = True)

    # Valid OneOfComplexModel as an AnotherComplexModel object.
    def test_upload_one_of_complex_model_as_another_complex_model(self):
        # Parameters for the API call
        body = APIHelper.json_deserialize('{"requiredProperty":{"name":"Another Complex Model Name","job":"En'
            'gineer","something":"Specific detail as per AnotherComplexModel"},'
            '"additionalProperty":{"name":"Additional property Another Complex '
            'Model Name","job":"Additional property Engineer","something":"Addi'
            'tional property Specific detail as per AnotherComplexModel"}}', OneOfAdditionalProperties.from_dictionary)

        # Perform the API call through the SDK function
        result = self.controller.upload_one_of_additional_properties(body)

        # Test response code
        assert self.response_catcher.response.status_code == 200
        
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize('{"requiredProperty":{"name":"Another Complex Model Name","job":"En'
            'gineer","something":"Specific detail as per AnotherComplexModel"},'
            '"additionalProperty":{"name":"Additional property Another Complex '
            'Model Name","job":"Additional property Engineer","something":"Addi'
            'tional property Specific detail as per AnotherComplexModel"}}')
        received_body = APIHelper.json_deserialize(self.response_catcher.response.text)
        assert ComparisonHelper.match_body(expected_body, received_body, check_values = True)

