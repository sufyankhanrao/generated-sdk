# -*- coding: utf-8 -*-

"""
goeapi

This file was automatically generated by APIMATIC v3.0 (
 https://www.apimatic.io ).
"""
from goeapi.api_helper import APIHelper
from goeapi.models.goal_profile import GoalProfile


class UnifiedPortfolioAdviceInputModelV4(object):

    """Implementation of the 'UnifiedPortfolioAdviceInputModelV4' model.

    Attributes:
        is_new_goal_priority (bool): If the investor/end user changes the
            priority of any of the goals within the plan,             in
            between the re-allocation dates, this should be set to ‘true’.    
            For new plans, this needs to be ‘true’.
        is_new_risk_profile (bool): If the risk profile of the investor/end
            user  has changed, this should be set to ‘true’.                  
            For new plans, this needs to be set to ‘true’.
        is_new_investment_tenure (bool): If the investor/end user changes the
            goal investment tenure of any of the goals within the plan,       
            in between re-allocation dates, this should be set to ‘true’.For
            new plans, this needs to be ‘true’.
        is_near_term_volatility (bool): When the near-term volatility
            indicator flashes, this is set to ‘true’. For first time calls to
            GOE,                                                 this needs to
            be set to ‘true’.
        is_new_goal (bool): If the investor/end user changes the goal amount
            in between the re-allocation dates,              this is set to
            ‘true’. For retirement scenarios, this would be a change in the
            retirement income goal,                  while for a capital
            accumulation goal, this would be a change in the lump sum
            accumulation target.                      For new plans, this
            needs to be set to ‘true’.
        cashflow_date (str): Cashflow date of the plan - this is typically the
            date (year is ignored) on which infusions/withdrawals would happen
            for the goals.                                                    
            Format is "dd-mm-yyyy". <br>                                      
            If the cashflowDate parameter is set to null, the algorithm would
            consider the first reallocation date as the cashflow date.
        get_path (bool): If this parameter is set to False, GOE would not
            compute the portfolio path ,wealth path and cashflow
            recommendations.
        reallocation_freq (ReallocationFreq5): Describes the frequency of
            re-allocation. If set to 'yearly',             GOE would assume
            the re-allocation to happen once a year.
        initial_investment (float): Defines the lump sum initial welath of the
            plan.
        current_wealth (float): Current wealth of the plan/combined goal when
            the GOE is being called or executed At the time of initial
            onboarding, currentWealth is null. On subsequent dates,
            currentWealth would be the portfolio account value at the time.
        current_portfolio_id (int): Current portfolio index that the combined
            plan is allocated to; if algo is getting executed for the first
            time (onboarding call), it should be null.        For cases where
            updated probability is needed in between the scheduled
            re-allocation dates, this parameter should be set to the portfolio
            index the investor is assigned to.
        infusions (List[float]): Net cash flow array for the plan/combined
            goal. Positive in the case of infusions; negative in            
            case of withdrawals; zero in case of no cashflows; frequency
            depends on ‘infusionType’.            For subsequent calls, the
            infusions array needs to be adjusted based on the time that has
            elapsed.
        risk_profile (RiskProfile7): Defines the user’s risk profile. Note
            that Risk Profiles are mapped to portfolio access. For example, a
            Conservative investor has access to portfolios 1-8 (or 50% Equity)
            while an Aggressive investor has access to all 16 portfolios (up
            to 90% Equity). <br> On a default basis, GOE is configured for
            three Risk Profile levels, but it can be customized for up to five
            levels.
        infusion_type (str): Indicates the frequency of cash flows –
            Determines the cash flow array.
        curr_date (str): This is an optional parameter that can be used to
            simulate the current date being the specified value. <br>         
            GOE will process the request as if you are making the API call on
            the specified date. If not passed, the current system date will be
            used as the current date.
        loss_threshold (float): Loss threshold value – the wealth amount that
            the investor does not want to end up below at the end of the goal
            tenure.<br>                                                 If not
            passed or value is ‘null’, the GOE algo would calculate the loss
            threshold. If a number value is passed, GOE would consider that
            amount as the loss threshold.<br>                                 
            If loss threshold is not available, this needs to be passed as
            ‘null’, and GOE would calculate the loss threshold and return as a
            part of the response ‘loss threshold’. <br>                       
            This amount needs to be stored, and should be passed as
            ‘lossThreshold’ on subsequent GOE calls.
        goal_profile_list (List[GoalProfile]): List of goal profiles
        additional_properties (Dict[str, Any]): The additional properties for
            the model.

    """

    # Create a mapping from Model property names to API property names
    _names = {
        "is_new_goal_priority": 'isNewGoalPriority',
        "is_new_risk_profile": 'isNewRiskProfile',
        "is_new_investment_tenure": 'isNewInvestmentTenure',
        "is_new_goal": 'isNewGoal',
        "get_path": 'getPath',
        "reallocation_freq": 'reallocationFreq',
        "initial_investment": 'initialInvestment',
        "current_wealth": 'currentWealth',
        "current_portfolio_id": 'currentPortfolioId',
        "infusions": 'infusions',
        "risk_profile": 'riskProfile',
        "infusion_type": 'infusionType',
        "goal_profile_list": 'goalProfileList',
        "is_near_term_volatility": 'isNearTermVolatility',
        "cashflow_date": 'cashflowDate',
        "curr_date": 'currDate',
        "loss_threshold": 'lossThreshold'
    }

    _optionals = [
        'is_near_term_volatility',
        'cashflow_date',
        'curr_date',
        'loss_threshold',
    ]

    _nullables = [
        'cashflow_date',
        'current_wealth',
        'current_portfolio_id',
        'loss_threshold',
    ]

    def __init__(self,
                 is_new_goal_priority=None,
                 is_new_risk_profile=None,
                 is_new_investment_tenure=None,
                 is_new_goal=None,
                 get_path=None,
                 reallocation_freq=None,
                 initial_investment=None,
                 current_wealth=None,
                 current_portfolio_id=None,
                 infusions=None,
                 risk_profile=None,
                 infusion_type=None,
                 goal_profile_list=None,
                 is_near_term_volatility=False,
                 cashflow_date=APIHelper.SKIP,
                 curr_date='System Date',
                 loss_threshold=APIHelper.SKIP,
                 additional_properties=None):
        """Constructor for the UnifiedPortfolioAdviceInputModelV4 class"""

        # Initialize members of the class
        self.is_new_goal_priority = is_new_goal_priority 
        self.is_new_risk_profile = is_new_risk_profile 
        self.is_new_investment_tenure = is_new_investment_tenure 
        self.is_near_term_volatility = is_near_term_volatility 
        self.is_new_goal = is_new_goal 
        if cashflow_date is not APIHelper.SKIP:
            self.cashflow_date = cashflow_date 
        self.get_path = get_path 
        self.reallocation_freq = reallocation_freq 
        self.initial_investment = initial_investment 
        self.current_wealth = current_wealth 
        self.current_portfolio_id = current_portfolio_id 
        self.infusions = infusions 
        self.risk_profile = risk_profile 
        self.infusion_type = infusion_type 
        self.curr_date = curr_date 
        if loss_threshold is not APIHelper.SKIP:
            self.loss_threshold = loss_threshold 
        self.goal_profile_list = goal_profile_list 

        # Add additional model properties to the instance
        if additional_properties is None:
            additional_properties = {}
        self.additional_properties = additional_properties

    @classmethod
    def from_dictionary(cls,
                        dictionary):
        """Creates an instance of this model from a dictionary

        Args:
            dictionary (dictionary): A dictionary representation of the object
            as obtained from the deserialization of the server's response. The
            keys MUST match property names in the API description.

        Returns:
            object: An instance of this structure class.

        """

        if not isinstance(dictionary, dict) or dictionary is None:
            return None

        # Extract variables from the dictionary
        is_new_goal_priority = dictionary.get("isNewGoalPriority") if "isNewGoalPriority" in dictionary.keys() else None
        is_new_risk_profile = dictionary.get("isNewRiskProfile") if "isNewRiskProfile" in dictionary.keys() else None
        is_new_investment_tenure = dictionary.get("isNewInvestmentTenure") if "isNewInvestmentTenure" in dictionary.keys() else None
        is_new_goal = dictionary.get("isNewGoal") if "isNewGoal" in dictionary.keys() else None
        get_path = dictionary.get("getPath") if "getPath" in dictionary.keys() else None
        reallocation_freq = dictionary.get("reallocationFreq") if dictionary.get("reallocationFreq") else None
        initial_investment = dictionary.get("initialInvestment") if dictionary.get("initialInvestment") else None
        current_wealth = dictionary.get("currentWealth") if dictionary.get("currentWealth") else None
        current_portfolio_id = dictionary.get("currentPortfolioId") if dictionary.get("currentPortfolioId") else None
        infusions = dictionary.get("infusions") if dictionary.get("infusions") else None
        risk_profile = dictionary.get("riskProfile") if dictionary.get("riskProfile") else None
        infusion_type = dictionary.get("infusionType") if dictionary.get("infusionType") else None
        goal_profile_list = None
        if dictionary.get('goalProfileList') is not None:
            goal_profile_list = [GoalProfile.from_dictionary(x) for x in dictionary.get('goalProfileList')]
        is_near_term_volatility = dictionary.get("isNearTermVolatility") if dictionary.get("isNearTermVolatility") else False
        cashflow_date = dictionary.get("cashflowDate") if "cashflowDate" in dictionary.keys() else APIHelper.SKIP
        curr_date = dictionary.get("currDate") if dictionary.get("currDate") else 'System Date'
        loss_threshold = dictionary.get("lossThreshold") if "lossThreshold" in dictionary.keys() else APIHelper.SKIP
        additional_properties = APIHelper.get_additional_properties(
            dictionary={k: v for k, v in dictionary.items() if k not in cls._names.values()},
            unboxing_function=lambda value: value)
        # Return an object of this model
        return cls(is_new_goal_priority,
                   is_new_risk_profile,
                   is_new_investment_tenure,
                   is_new_goal,
                   get_path,
                   reallocation_freq,
                   initial_investment,
                   current_wealth,
                   current_portfolio_id,
                   infusions,
                   risk_profile,
                   infusion_type,
                   goal_profile_list,
                   is_near_term_volatility,
                   cashflow_date,
                   curr_date,
                   loss_threshold,
                   additional_properties)

    def __repr__(self):
        return (f'{self.__class__.__name__}('
                f'is_new_goal_priority={self.is_new_goal_priority!r}, '
                f'is_new_risk_profile={self.is_new_risk_profile!r}, '
                f'is_new_investment_tenure={self.is_new_investment_tenure!r}, '
                f'is_near_term_volatility={(self.is_near_term_volatility if hasattr(self, "is_near_term_volatility") else None)!r}, '
                f'is_new_goal={self.is_new_goal!r}, '
                f'cashflow_date={(self.cashflow_date if hasattr(self, "cashflow_date") else None)!r}, '
                f'get_path={self.get_path!r}, '
                f'reallocation_freq={self.reallocation_freq!r}, '
                f'initial_investment={self.initial_investment!r}, '
                f'current_wealth={self.current_wealth!r}, '
                f'current_portfolio_id={self.current_portfolio_id!r}, '
                f'infusions={self.infusions!r}, '
                f'risk_profile={self.risk_profile!r}, '
                f'infusion_type={self.infusion_type!r}, '
                f'curr_date={(self.curr_date if hasattr(self, "curr_date") else None)!r}, '
                f'loss_threshold={(self.loss_threshold if hasattr(self, "loss_threshold") else None)!r}, '
                f'goal_profile_list={self.goal_profile_list!r}, '
                f'additional_properties={self.additional_properties!r})')

    def __str__(self):
        return (f'{self.__class__.__name__}('
                f'is_new_goal_priority={self.is_new_goal_priority!s}, '
                f'is_new_risk_profile={self.is_new_risk_profile!s}, '
                f'is_new_investment_tenure={self.is_new_investment_tenure!s}, '
                f'is_near_term_volatility={(self.is_near_term_volatility if hasattr(self, "is_near_term_volatility") else None)!s}, '
                f'is_new_goal={self.is_new_goal!s}, '
                f'cashflow_date={(self.cashflow_date if hasattr(self, "cashflow_date") else None)!s}, '
                f'get_path={self.get_path!s}, '
                f'reallocation_freq={self.reallocation_freq!s}, '
                f'initial_investment={self.initial_investment!s}, '
                f'current_wealth={self.current_wealth!s}, '
                f'current_portfolio_id={self.current_portfolio_id!s}, '
                f'infusions={self.infusions!s}, '
                f'risk_profile={self.risk_profile!s}, '
                f'infusion_type={self.infusion_type!s}, '
                f'curr_date={(self.curr_date if hasattr(self, "curr_date") else None)!s}, '
                f'loss_threshold={(self.loss_threshold if hasattr(self, "loss_threshold") else None)!s}, '
                f'goal_profile_list={self.goal_profile_list!s}, '
                f'additional_properties={self.additional_properties!s})')
