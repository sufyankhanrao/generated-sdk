# -*- coding: utf-8 -*-

"""
goeapi

This file was automatically generated by APIMATIC v3.0 (
 https://www.apimatic.io ).
"""
from goeapi.api_helper import APIHelper
from goeapi.models.account import Account
from goeapi.models.goal_profile_simulation_engine import GoalProfileSimulationEngine
from goeapi.models.household_2 import Household2
from goeapi.models.tax_rates_2 import TaxRates2


class GoeSimulationEngineInputModel(object):

    """Implementation of the 'GoeSimulationEngineInputModel' model.

    Attributes:
        reallocate (bool): Set as “true” when a newportfolio is needed.
        is_new_goal_priority (bool): If investor/end user changes the goal
            priority of any of the goals within the plan, in between the
            re-allocation dates, this is set to ‘true’. <br>                  
            For new plans, this needs to be ‘true’.
        reallocation_freq (ReallocationFreq): Describes the frequency of
            re-allocation.
        current_portfolio_id (int): Displays the current portfolio assigned to
            a user. For the firsttime user, this should be set as “null”.
        curr_date (str): The date on which GOE-SOFT call is made.<br>         
            Valid input format is date –‘dd-mm-yyyy’.
        risk_profile (RiskProfile4): Defines the user’s risk profile, which is
            mapped to one or more portfolios.This is customizable.
        compute_social_security (bool): When set to true computes the social
            security. <br>                 Mandatory fields (part of
            memberList) needed for social security are: “DOB”,
            “currentSalary”, “socialSecurityStartAge”
        use_social_security_for_goals (bool): When set to “true” uses Social
            Security to meet the withdrawals. <br>             If set to
            “false”, and when 'computeSocialSecurity' is set as 'true' - only
            computes the Social Security but does not use it to fulfil the
            goals. <br>            In cases social security (post-tax) is
            greater than the withdrawal amount, the social security is
            collected into the taxable accounts. <br>             If no
            taxable accounts are present, SocialSecurity left – after meeting
            the goals – is ignored.
        cashflow_date (str): Cashflow date of the goal - this is the date
            (year is ignored) on which infusions/withdrawals would be realized
            for the goal. <br>            This parameter is optional.  If not
            passed or value is null,             the algorithm would consider
            the first reallocation date as the cashflow date.
        is_new_risk_profile (bool): If the risk profile of the investor has
            changed, this is set to ‘true’. <br>                              
            For first time calls to GOE, this needs to be set to ‘true’.
        is_new_investment_tenure (bool): If investor/end user changes the goal
            investment tenure after onboarding and before the next immediate
            re-allocation date, <br>                                     this
            is set to ‘true’. For first time calls to GOE, this needs to be
            set to ‘true’.
        is_new_goal (bool): If the end user changes the goal amount /
            infusions / withdrawals, in between the re-allocation dates, <br> 
            this is set to ‘true’. For retirement scenarios, this would be a
            change in retirement income goal, <br>                     while
            for a capital accumulation goal, this would be a change in the
            lumpsum accumulation target. <br>                     For first
            time calls to GOE, this needs to be set to ‘true’.
        loss_threshold (float): Loss threshold value – the wealth amount that
            the investor does not want to end up below at the end of the goal
            tenure. <br>                     This is an optional parameter. If
            not passed or value is ‘null’, the GOE algo would calculate the
            loss threshold. <br>                     If a number value is
            passed, GOE would consider that amount as the loss threshold. 
            <br>                     If loss threshold is not available, this
            needs to be passed as ‘null’, <br>                     and GOE
            would calculate the loss threshold and return as a part of the
            response (‘loss threshold’). <br>                     This amount
            needs to be stored, and should be passed as ‘lossThreshold’ on
            subsequent GOE calls.<br>                     Valid Input:
            non-negative values.
        infusion_type (InfusionType3): Defines if the infusions are at the
            yearly level or monthly level.
        cola_rate (float): Defines the Cost-of-Living Adjustment to be used
            for Social Security amount computations.<br>             When
            passed as “null”, this is assumed to be 0%.
        tax_rates (TaxRates2): Consists of tax rates applicable pre &
            post-retirement.
        household (Household2): contains all information about all the
            participants within the household.                         For
            MVP, only a single member is allowed.
        accounts (List[Account]): Details of different accounts associated
            with unique memberID in the household.
        goal_profile_list (List[GoalProfileSimulationEngine]): Details related
            to the withdrawals associated with the plan where a plan is
            defined as a collection of goals.
        additional_properties (Dict[str, Any]): The additional properties for
            the model.

    """

    # Create a mapping from Model property names to API property names
    _names = {
        "reallocation_freq": 'reallocationFreq',
        "current_portfolio_id": 'currentPortfolioId',
        "risk_profile": 'riskProfile',
        "compute_social_security": 'computeSocialSecurity',
        "use_social_security_for_goals": 'useSocialSecurityForGoals',
        "is_new_risk_profile": 'isNewRiskProfile',
        "infusion_type": 'infusionType',
        "cola_rate": 'colaRate',
        "tax_rates": 'taxRates',
        "household": 'household',
        "accounts": 'accounts',
        "goal_profile_list": 'goalProfileList',
        "reallocate": 'reallocate',
        "is_new_goal_priority": 'isNewGoalPriority',
        "curr_date": 'currDate',
        "cashflow_date": 'cashflowDate',
        "is_new_investment_tenure": 'isNewInvestmentTenure',
        "is_new_goal": 'isNewGoal',
        "loss_threshold": 'lossThreshold'
    }

    _optionals = [
        'reallocate',
        'is_new_goal_priority',
        'curr_date',
        'cashflow_date',
        'is_new_investment_tenure',
        'is_new_goal',
        'loss_threshold',
    ]

    _nullables = [
        'current_portfolio_id',
        'curr_date',
        'cashflow_date',
    ]

    def __init__(self,
                 reallocation_freq=None,
                 current_portfolio_id=None,
                 risk_profile=None,
                 compute_social_security=None,
                 use_social_security_for_goals=None,
                 is_new_risk_profile=None,
                 infusion_type=None,
                 cola_rate=None,
                 tax_rates=None,
                 household=None,
                 accounts=None,
                 goal_profile_list=None,
                 reallocate=False,
                 is_new_goal_priority=APIHelper.SKIP,
                 curr_date=APIHelper.SKIP,
                 cashflow_date=APIHelper.SKIP,
                 is_new_investment_tenure=APIHelper.SKIP,
                 is_new_goal=APIHelper.SKIP,
                 loss_threshold=APIHelper.SKIP,
                 additional_properties=None):
        """Constructor for the GoeSimulationEngineInputModel class"""

        # Initialize members of the class
        self.reallocate = reallocate 
        if is_new_goal_priority is not APIHelper.SKIP:
            self.is_new_goal_priority = is_new_goal_priority 
        self.reallocation_freq = reallocation_freq 
        self.current_portfolio_id = current_portfolio_id 
        if curr_date is not APIHelper.SKIP:
            self.curr_date = curr_date 
        self.risk_profile = risk_profile 
        self.compute_social_security = compute_social_security 
        self.use_social_security_for_goals = use_social_security_for_goals 
        if cashflow_date is not APIHelper.SKIP:
            self.cashflow_date = cashflow_date 
        self.is_new_risk_profile = is_new_risk_profile 
        if is_new_investment_tenure is not APIHelper.SKIP:
            self.is_new_investment_tenure = is_new_investment_tenure 
        if is_new_goal is not APIHelper.SKIP:
            self.is_new_goal = is_new_goal 
        if loss_threshold is not APIHelper.SKIP:
            self.loss_threshold = loss_threshold 
        self.infusion_type = infusion_type 
        self.cola_rate = cola_rate 
        self.tax_rates = tax_rates 
        self.household = household 
        self.accounts = accounts 
        self.goal_profile_list = goal_profile_list 

        # Add additional model properties to the instance
        if additional_properties is None:
            additional_properties = {}
        self.additional_properties = additional_properties

    @classmethod
    def from_dictionary(cls,
                        dictionary):
        """Creates an instance of this model from a dictionary

        Args:
            dictionary (dictionary): A dictionary representation of the object
            as obtained from the deserialization of the server's response. The
            keys MUST match property names in the API description.

        Returns:
            object: An instance of this structure class.

        """

        if not isinstance(dictionary, dict) or dictionary is None:
            return None

        # Extract variables from the dictionary
        reallocation_freq = dictionary.get("reallocationFreq") if dictionary.get("reallocationFreq") else None
        current_portfolio_id = dictionary.get("currentPortfolioId") if dictionary.get("currentPortfolioId") else None
        risk_profile = dictionary.get("riskProfile") if dictionary.get("riskProfile") else None
        compute_social_security = dictionary.get("computeSocialSecurity") if "computeSocialSecurity" in dictionary.keys() else None
        use_social_security_for_goals = dictionary.get("useSocialSecurityForGoals") if "useSocialSecurityForGoals" in dictionary.keys() else None
        is_new_risk_profile = dictionary.get("isNewRiskProfile") if "isNewRiskProfile" in dictionary.keys() else None
        infusion_type = dictionary.get("infusionType") if dictionary.get("infusionType") else None
        cola_rate = dictionary.get("colaRate") if dictionary.get("colaRate") else None
        tax_rates = TaxRates2.from_dictionary(dictionary.get('taxRates')) if dictionary.get('taxRates') else None
        household = Household2.from_dictionary(dictionary.get('household')) if dictionary.get('household') else None
        accounts = None
        if dictionary.get('accounts') is not None:
            accounts = [Account.from_dictionary(x) for x in dictionary.get('accounts')]
        goal_profile_list = None
        if dictionary.get('goalProfileList') is not None:
            goal_profile_list = [GoalProfileSimulationEngine.from_dictionary(x) for x in dictionary.get('goalProfileList')]
        reallocate = dictionary.get("reallocate") if dictionary.get("reallocate") else False
        is_new_goal_priority = dictionary.get("isNewGoalPriority") if "isNewGoalPriority" in dictionary.keys() else APIHelper.SKIP
        curr_date = dictionary.get("currDate") if "currDate" in dictionary.keys() else APIHelper.SKIP
        cashflow_date = dictionary.get("cashflowDate") if "cashflowDate" in dictionary.keys() else APIHelper.SKIP
        is_new_investment_tenure = dictionary.get("isNewInvestmentTenure") if "isNewInvestmentTenure" in dictionary.keys() else APIHelper.SKIP
        is_new_goal = dictionary.get("isNewGoal") if "isNewGoal" in dictionary.keys() else APIHelper.SKIP
        loss_threshold = dictionary.get("lossThreshold") if dictionary.get("lossThreshold") else APIHelper.SKIP
        additional_properties = APIHelper.get_additional_properties(
            dictionary={k: v for k, v in dictionary.items() if k not in cls._names.values()},
            unboxing_function=lambda value: value)
        # Return an object of this model
        return cls(reallocation_freq,
                   current_portfolio_id,
                   risk_profile,
                   compute_social_security,
                   use_social_security_for_goals,
                   is_new_risk_profile,
                   infusion_type,
                   cola_rate,
                   tax_rates,
                   household,
                   accounts,
                   goal_profile_list,
                   reallocate,
                   is_new_goal_priority,
                   curr_date,
                   cashflow_date,
                   is_new_investment_tenure,
                   is_new_goal,
                   loss_threshold,
                   additional_properties)

    def __repr__(self):
        return (f'{self.__class__.__name__}('
                f'reallocate={(self.reallocate if hasattr(self, "reallocate") else None)!r}, '
                f'is_new_goal_priority={(self.is_new_goal_priority if hasattr(self, "is_new_goal_priority") else None)!r}, '
                f'reallocation_freq={self.reallocation_freq!r}, '
                f'current_portfolio_id={self.current_portfolio_id!r}, '
                f'curr_date={(self.curr_date if hasattr(self, "curr_date") else None)!r}, '
                f'risk_profile={self.risk_profile!r}, '
                f'compute_social_security={self.compute_social_security!r}, '
                f'use_social_security_for_goals={self.use_social_security_for_goals!r}, '
                f'cashflow_date={(self.cashflow_date if hasattr(self, "cashflow_date") else None)!r}, '
                f'is_new_risk_profile={self.is_new_risk_profile!r}, '
                f'is_new_investment_tenure={(self.is_new_investment_tenure if hasattr(self, "is_new_investment_tenure") else None)!r}, '
                f'is_new_goal={(self.is_new_goal if hasattr(self, "is_new_goal") else None)!r}, '
                f'loss_threshold={(self.loss_threshold if hasattr(self, "loss_threshold") else None)!r}, '
                f'infusion_type={self.infusion_type!r}, '
                f'cola_rate={self.cola_rate!r}, '
                f'tax_rates={self.tax_rates!r}, '
                f'household={self.household!r}, '
                f'accounts={self.accounts!r}, '
                f'goal_profile_list={self.goal_profile_list!r}, '
                f'additional_properties={self.additional_properties!r})')

    def __str__(self):
        return (f'{self.__class__.__name__}('
                f'reallocate={(self.reallocate if hasattr(self, "reallocate") else None)!s}, '
                f'is_new_goal_priority={(self.is_new_goal_priority if hasattr(self, "is_new_goal_priority") else None)!s}, '
                f'reallocation_freq={self.reallocation_freq!s}, '
                f'current_portfolio_id={self.current_portfolio_id!s}, '
                f'curr_date={(self.curr_date if hasattr(self, "curr_date") else None)!s}, '
                f'risk_profile={self.risk_profile!s}, '
                f'compute_social_security={self.compute_social_security!s}, '
                f'use_social_security_for_goals={self.use_social_security_for_goals!s}, '
                f'cashflow_date={(self.cashflow_date if hasattr(self, "cashflow_date") else None)!s}, '
                f'is_new_risk_profile={self.is_new_risk_profile!s}, '
                f'is_new_investment_tenure={(self.is_new_investment_tenure if hasattr(self, "is_new_investment_tenure") else None)!s}, '
                f'is_new_goal={(self.is_new_goal if hasattr(self, "is_new_goal") else None)!s}, '
                f'loss_threshold={(self.loss_threshold if hasattr(self, "loss_threshold") else None)!s}, '
                f'infusion_type={self.infusion_type!s}, '
                f'cola_rate={self.cola_rate!s}, '
                f'tax_rates={self.tax_rates!s}, '
                f'household={self.household!s}, '
                f'accounts={self.accounts!s}, '
                f'goal_profile_list={self.goal_profile_list!s}, '
                f'additional_properties={self.additional_properties!s})')
