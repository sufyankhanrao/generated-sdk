# -*- coding: utf-8 -*-

"""
goeapi

This file was automatically generated by APIMATIC v3.0 (
 https://www.apimatic.io ).
"""

from goeapi.api_helper import APIHelper
from goeapi.configuration import Server
from goeapi.http.api_response import ApiResponse
from goeapi.apis.base_api import BaseApi
from apimatic_core.request_builder import RequestBuilder
from apimatic_core.response_handler import ResponseHandler
from apimatic_core.types.parameter import Parameter
from goeapi.http.http_method_enum import HttpMethodEnum
from goeapi.models.sign_in_output_model import SignInOutputModel
from goeapi.models.forgot_password_output_model import ForgotPasswordOutputModel
from goeapi.models.change_password_output_model import ChangePasswordOutputModel
from goeapi.models.refresh_token_output_model import RefreshTokenOutputModel
from goeapi.exceptions.validation_message_two_exception import ValidationMessageTwoException
from goeapi.exceptions.internal_server_message_1_exception import InternalServerMessage1Exception
from goeapi.exceptions.refresh_token_status_exception import RefreshTokenStatusException


class AuthApi(BaseApi):

    """A Controller to access Endpoints in the goeapi API."""
    def __init__(self, config):
        super(AuthApi, self).__init__(config)

    def sign_in(self,
                body):
        """Does a POST request to /signIn.

        Okta signin

        Args:
            body (SignInInputModel): The request body parameter.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers.
                Successful response

        Raises:
            ApiException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """

        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path('/signIn')
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                          .key('Content-Type')
                          .value('application/json'))
            .body_param(Parameter()
                        .value(body)
                        .is_required(True))
            .header_param(Parameter()
                          .key('accept')
                          .value('application/json'))
            .body_serializer(APIHelper.json_serialize)
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(SignInOutputModel.from_dictionary)
            .is_api_response(True)
            .local_error('400', 'Bad Request', ValidationMessageTwoException)
            .local_error('500', 'Internal Server Error', InternalServerMessage1Exception)
        ).execute()

    def forgot_password(self,
                        body):
        """Does a POST request to /forgotPassword.

        Okta forgot password

        Args:
            body (ForgotPasswordInputModel): The request body parameter.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers.
                Successful response

        Raises:
            ApiException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """

        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path('/forgotPassword')
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                          .key('Content-Type')
                          .value('application/json'))
            .body_param(Parameter()
                        .value(body)
                        .is_required(True))
            .header_param(Parameter()
                          .key('accept')
                          .value('application/json'))
            .body_serializer(APIHelper.json_serialize)
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(ForgotPasswordOutputModel.from_dictionary)
            .is_api_response(True)
            .local_error('400', 'Bad Request', ValidationMessageTwoException)
            .local_error('500', 'Internal Server Error', InternalServerMessage1Exception)
        ).execute()

    def change_password(self,
                        body):
        """Does a POST request to /changePassword.

        Okta forgot password

        Args:
            body (ChangePasswordInputModel): The request body parameter.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers.
                Successful response

        Raises:
            ApiException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """

        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path('/changePassword')
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                          .key('Content-Type')
                          .value('application/json'))
            .body_param(Parameter()
                        .value(body)
                        .is_required(True))
            .header_param(Parameter()
                          .key('accept')
                          .value('application/json'))
            .body_serializer(APIHelper.json_serialize)
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(ChangePasswordOutputModel.from_dictionary)
            .is_api_response(True)
            .local_error('400', 'Bad Request', ValidationMessageTwoException)
            .local_error('500', 'Internal Server Error', InternalServerMessage1Exception)
        ).execute()

    def refresh_token(self,
                      body):
        """Does a POST request to /refreshToken.

        Okta refresh token

        Args:
            body (RefreshTokenInputModel): The request body parameter.

        Returns:
            ApiResponse: An object with the response value as well as other
                useful information such as status codes and headers.
                Successful response

        Raises:
            ApiException: When an error occurs while fetching the data from
                the remote API. This exception includes the HTTP Response
                code, an error message, and the HTTP body that was received in
                the request.

        """

        return super().new_api_call_builder.request(
            RequestBuilder().server(Server.DEFAULT)
            .path('/refreshToken')
            .http_method(HttpMethodEnum.POST)
            .header_param(Parameter()
                          .key('Content-Type')
                          .value('application/json'))
            .body_param(Parameter()
                        .value(body)
                        .is_required(True))
            .header_param(Parameter()
                          .key('accept')
                          .value('application/json'))
            .body_serializer(APIHelper.json_serialize)
        ).response(
            ResponseHandler()
            .deserializer(APIHelper.json_deserialize)
            .deserialize_into(RefreshTokenOutputModel.from_dictionary)
            .is_api_response(True)
            .local_error('400', 'Bad Request', RefreshTokenStatusException)
            .local_error('500', 'Internal Server Error', InternalServerMessage1Exception)
        ).execute()
