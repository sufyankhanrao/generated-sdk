"""
 webhooksandcallbacksapi

 This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
"""
from __future__ import annotations

from typing import Union

from webhooksandcallbacksapi.api_helper import (
    APIHelper,
)
from webhooksandcallbacksapi.events.unknown_event import (
    UnknownEvent,
)
from webhooksandcallbacksapi.http.request import (
    Request,
)
from webhooksandcallbacksapi.models.order_created_event import (
    OrderCreatedEvent,
)
from webhooksandcallbacksapi.utilities.union_type_lookup import (
    UnionTypeLookUp,
)

Webhooks1EventType = Union[OrderCreatedEvent, UnknownEvent]

class Webhooks1Handler:
    """
     Handles the Webhooks1 Events
    """

    @staticmethod
    def parse_event(request: Request) -> Webhooks1EventType:
        """
         Parse the event.

        :return: OrderCreatedEvent for successful parsing; UnknownEvent for unknown
                 events.
        :rtype: Union[OrderCreatedEvent, UnknownEvent]
        """
        # Deserialize payload
        try:
            union = UnionTypeLookUp.get("Webhooks1")
            return APIHelper.deserialize_union_type(union, request.raw_body)
        except Exception as e:
            return UnknownEvent([
                "Deserialization failed.",
                str(e),
            ])
