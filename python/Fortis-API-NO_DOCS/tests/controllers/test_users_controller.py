
"""
fortisapi

This file was automatically generated by APIMATIC v3.0 (
 https://www.apimatic.io ).
"""

# ruff: noqa: PLR0915, W291
from apimatic_core.utilities.comparison_helper import (
    ComparisonHelper,
)

from fortisapi.api_helper import APIHelper
from tests.controllers.controller_test_base import (
    ControllerTestBase,
)


class UsersControllerTests(ControllerTestBase):
    """
    Endpoint tests for validating the API behavior.

    Ensures controller methods execute correctly and produce the expected
    responses using the shared test client and response catcher.
    """

    controller = None

    @classmethod
    def setUpClass(cls):
        """
        Initialize the shared test client and controller for all test methods.
        """
        super().setUpClass()
        cls.controller = cls.client.users
        cls.response_catcher = cls.controller.http_call_back

    def test_create_a_new_api_key(self):
        """
        Create a new API key.
        """
        # Parameters for the API call
        user_id = "11e95f8ec39de8fbdb0a4f1a"
        expand = None

        # Perform the API call through the SDK function
        result = self.controller.create_a_new_api_key(
            user_id,
            expand,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 201
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"UserApiKey\",\"data\":{\"user_api_key\":\"234bas8dfn82"
            "38f923w2\"}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_list_all_user(self):
        """
        List all User.
        """
        # Parameters for the API call
        page = None
        order = None
        filter_by = None
        expand = None
        format = None
        typeahead = None
        fields = None

        # Perform the API call through the SDK function
        result = self.controller.list_all_user(
            page,
            order,
            filter_by,
            expand,
            format,
            typeahead,
            fields,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 200
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"UsersCollection\",\"list\":[{\"account_number\":\"5454"
            "545454545454\",\"branding_domain_url\":\"{branding_domain_url}\","
            "\"cell_phone\":\"3339998822\",\"company_name\":\"Fortis Payment Sy"
            "stems, LLC\",\"contact_id\":\"Sample contact ID\",\"date_of_birth"
            "\":\"2021-12-01\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ema"
            "il\":\"email@domain.com\",\"email_trx_receipt\":true,\"home_phone"
            "\":\"3339998822\",\"first_name\":\"John\",\"last_name\":\"Smith\","
            "\"locale\":\"en-US\",\"office_phone\":\"3339998822\",\"office_ext_"
            "phone\":\"5\",\"primary_location_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"requires_new_password\":null,\"terms_condition_code\":\"2022030"
            "8\",\"tz\":\"America/New_York\",\"ui_prefs\":{\"entry_page\":\"das"
            "hboard\",\"page_size\":2,\"report_export_type\":\"csv\",\"process_"
            "method\":\"virtual_terminal\",\"default_terminal\":\"11e95f8ec39de"
            "8fbdb0a4f1a\"},\"username\":\"{user_name}\",\"user_api_key\":\"234"
            "bas8dfn8238f923w2\",\"user_hash_key\":null,\"user_type_code\":100,"
            "\"password\":null,\"zip\":\"48375\",\"location_id\":\"11e95f8ec39d"
            "e8fbdb0a4f1a\",\"status_code\":1,\"api_only\":false,\"is_invitatio"
            "n\":false,\"address\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal"
            "_code\":\"48375\",\"country\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"status\":true,\"login_attempts\":0,\"last_login_ts\":142"
            "2040992,\"created_ts\":1422040992,\"modified_ts\":1422040992,\"cre"
            "ated_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"terms_accepted_ts\":"
            "1422040992,\"terms_agree_ip\":\"192.168.0.10\",\"current_date_time"
            "\":\"2019-03-11T10:38:26-0700\",\"current_login\":1422040992,\"log"
            "_api_response_body_ts\":1422040992,\"locations\":[{\"id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":142"
            "2040992,\"account_number\":\"5454545454545454\",\"address\":{\"cit"
            "y\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"48375\",\"country"
            "\":\"US\"},\"branding_domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"c"
            "ontact_email_trx_receipt_default\":true,\"default_ach\":\"11e608a7"
            "d515f1e093242bb2\",\"default_cc\":\"11e608a442a5f1e092242dda\",\"e"
            "mail_reply_to\":\"email@domain.com\",\"fax\":\"3339998822\",\"loca"
            "tion_api_id\":\"location-111111\",\"location_api_key\":\"AE34BBCAA"
            "DF4AE34BBCAADF4\",\"location_c1\":\"custom 1\",\"location_c2\":\"c"
            "ustom 2\",\"location_c3\":\"custom data 3\",\"name\":\"Sample Comp"
            "any Headquarters\",\"office_phone\":\"2481234567\",\"office_ext_ph"
            "one\":\"1021021209\",\"tz\":\"America/New_York\",\"parent_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"show_contact_notes\":true,\"show_conta"
            "ct_files\":true,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"location_type\":\"merchant\",\"ticket_hash_key\":\"A5F443CADF4AE"
            "34BBCAADF4\"}],\"primary_location\":{\"id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"acco"
            "unt_number\":\"5454545454545454\",\"address\":{\"city\":\"Novi\","
            "\"state\":\"MI\",\"postal_code\":\"48375\",\"country\":\"US\"},\"b"
            "randing_domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_email_t"
            "rx_receipt_default\":true,\"default_ach\":\"11e608a7d515f1e093242b"
            "b2\",\"default_cc\":\"11e608a442a5f1e092242dda\",\"email_reply_to"
            "\":\"email@domain.com\",\"fax\":\"3339998822\",\"location_api_id\""
            ":\"location-111111\",\"location_api_key\":\"AE34BBCAADF4AE34BBCAAD"
            "F4\",\"location_c1\":\"custom 1\",\"location_c2\":\"custom 2\",\"l"
            "ocation_c3\":\"custom data 3\",\"name\":\"Sample Company Headquart"
            "ers\",\"office_phone\":\"2481234567\",\"office_ext_phone\":\"10210"
            "21209\",\"tz\":\"America/New_York\",\"parent_id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"show_contact_notes\":true,\"show_contact_files\":tr"
            "ue,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"location_typ"
            "e\":\"merchant\",\"ticket_hash_key\":\"A5F443CADF4AE34BBCAADF4\"},"
            "\"received_emails\":[{\"subject\":\"Payment Receipt - 12skiestech"
            "\",\"body\":\"This email is being sent from a server.\",\"source_a"
            "ddress\":\"\\\"12skiestech A7t3qi\\\" <noreply@zeamster.email>\","
            "\"return_path\":\"\\\"12skiestech A7t3qi\\\" <noreply@zeamster.ema"
            "il>\",\"provider_id\":\"0100017e67bcc530-e1dd23b4-8a39-4a5b-8d5d-6"
            "8d51c4c942f-000000\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "reason_sent\":\"Contact Email\",\"reason_model\":\"Transaction\","
            "\"reason_model_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"reply_to\":\""
            "\\\"Zeamster\\\" <emma.p@zeamster.com>\",\"id\":\"11e95f8ec39de8fb"
            "db0a4f1a\",\"created_ts\":1422040992}],\"contact\":{\"location_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_number\":\"54545433332\""
            ",\"contact_api_id\":\"137\",\"first_name\":\"John\",\"last_name\":"
            "\"Smith\",\"cell_phone\":\"3339998822\",\"balance\":245.36,\"addre"
            "ss\":{\"city\":\"Novi\",\"state\":\"Michigan\",\"postal_code\":\"4"
            "8375\",\"country\":\"US\"},\"company_name\":\"Fortis Payment Syste"
            "ms, LLC\",\"header_message\":\"This is a sample message for you\","
            "\"date_of_birth\":\"2021-12-01\",\"email_trx_receipt\":true,\"home"
            "_phone\":\"3339998822\",\"office_phone\":\"3339998822\",\"office_p"
            "hone_ext\":\"5\",\"header_message_type\":0,\"update_if_exists\":1,"
            "\"contact_c1\":\"any\",\"contact_c2\":\"anything\",\"contact_c3\":"
            "\"something\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\""
            ":\"email@domain.com\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"create"
            "d_ts\":1422040992,\"modified_ts\":1422040992,\"active\":true,\"cre"
            "ated_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"},\"isDeletable\":true,"
            "\"active_notification_alerts\":[{\"location_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"date_start\":\"2021-12-01 10:10:00\",\"date_end\":\""
            "2021-12-01 10:10:00\",\"user_location\":true,\"user_contact\":true"
            ",\"include_children\":true,\"alert_type\":1,\"alert_type_id\":1,\""
            "id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modi"
            "fied_ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1"
            "a\",\"modified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}],\"location"
            "_users\":[{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"user_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"location_api_id\":null,\"id\":\""
            "11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts"
            "\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"m"
            "odified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}],\"auth_roles\":[{"
            "\"user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"auth_role_code\":110,\""
            "code\":83931,\"created_ts\":1422040992,\"modified_ts\":1422040992,"
            "\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_i"
            "d\":\"11e95f8ec39de8fbdb0a4f1a\"}],\"changelogs\":[{\"id\":\"11e95"
            "f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"action\":\"CREAT"
            "E\",\"model\":\"TransactionRequest\",\"model_id\":\"11ec829598f0d4"
            "008be9aba4\",\"user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_"
            "details\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"field\":\"next_run_ts\",\"old_value"
            "\":\"1643616000\"}],\"user\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"username\":\"email@domain.com\",\"first_name\":\"Bob\",\"last_na"
            "me\":\"Fairview\"}}],\"resources\":{\"title\":\"My terminal\",\"pr"
            "iv\":null,\"resource_name\":\"v2.addons.iframe.get\",\"id\":5693,"
            "\"last_used_date\":1422040992,\"created_ts\":1422040992,\"modified"
            "_ts\":1422040992},\"domain\":{\"url\":\"fortispayrbyn9y.sandbox.ze"
            "amster.com\",\"title\":\"Test Brand Domain Title 2\",\"logo\":\"\""
            ",\"support_email\":\"email@domain.com\",\"allow_contact_signup\":t"
            "rue,\"allow_contact_registration\":true,\"allow_contact_login\":tr"
            "ue,\"registration_fields\":[\"account_number\"],\"company_name\":n"
            "ull,\"nav_color\":null,\"button_primary_color\":null,\"logo_backgr"
            "ound_color\":null,\"icon_background_color\":null,\"menu_text_backg"
            "round_color\":null,\"menu_text_color\":null,\"right_menu_backgroun"
            "d_color\":null,\"right_menu_text_color\":null,\"button_primary_tex"
            "t_color\":null,\"nav_logo\":null,\"fav_icon\":null,\"aes_key\":nul"
            "l,\"help_text\":null,\"email_reply_to\":\"email@domain.com\",\"ema"
            "il\":\"email@domain.com\",\"custom_javascript\":null,\"custom_them"
            "e\":null,\"custom_css\":null,\"contact_user_default_entry_page\":"
            "\"dashboard\",\"contact_user_default_auth_roles\":[null],\"custom_"
            "stylesheet_url\":\"https://127.0.0.1/receiver\",\"id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":142204"
            "0992},\"created_user\":{\"account_number\":\"5454545454545454\",\""
            "branding_domain_url\":\"{branding_domain_url}\",\"cell_phone\":\"3"
            "339998822\",\"company_name\":\"Fortis Payment Systems, LLC\",\"con"
            "tact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"date_of_birth\":\"2021-12"
            "-01\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email"
            "@domain.com\",\"email_trx_receipt\":true,\"home_phone\":\"33399988"
            "22\",\"first_name\":\"John\",\"last_name\":\"Smith\",\"locale\":\""
            "en-US\",\"office_phone\":\"3339998822\",\"office_ext_phone\":\"5\""
            ",\"primary_location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_n"
            "ew_password\":null,\"terms_condition_code\":\"20220308\",\"tz\":\""
            "America/New_York\",\"ui_prefs\":{\"entry_page\":\"dashboard\",\"pa"
            "ge_size\":2,\"report_export_type\":\"csv\",\"process_method\":\"vi"
            "rtual_terminal\",\"default_terminal\":\"11e95f8ec39de8fbdb0a4f1a\""
            "},\"username\":\"{user_name}\",\"user_api_key\":\"234bas8dfn8238f9"
            "23w2\",\"user_hash_key\":null,\"user_type_code\":100,\"password\":"
            "null,\"zip\":\"48375\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"status_code\":1,\"api_only\":false,\"is_invitation\":false,\""
            "address\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"48"
            "375\",\"country\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"st"
            "atus\":true,\"login_attempts\":0,\"last_login_ts\":1422040992,\"cr"
            "eated_ts\":1422040992,\"modified_ts\":1422040992,\"created_user_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"terms_accepted_ts\":1422040992,"
            "\"terms_agree_ip\":\"192.168.0.10\",\"current_date_time\":\"2019-0"
            "3-11T10:38:26-0700\",\"current_login\":1422040992,\"log_api_respon"
            "se_body_ts\":1422040992},\"location_marketplaces\":[{\"location_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"marketplace_id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"location_api_id\":null,\"user_id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1"
            "422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}],\"ema"
            "il_blacklist\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"isBlackliste"
            "d\":true,\"detail\":true,\"created_ts\":1422040992},\"helppage\":{"
            "\"user_type_code\":100,\"body\":\"Sample Body\",\"title\":\"Sample"
            " Title\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":142204"
            "0992,\"modified_ts\":1422040992,\"created_user_id\":\"11e95f8ec39d"
            "e8fbdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}}"
            "],\"links\":{\"type\":\"Links\",\"first\":\"/v1/endpoint?page[size"
            "]=10&page[number]=1\",\"previous\":\"/v1/endpoint?page[size]=10&pa"
            "ge[number]=5\",\"next\":\"/v1/endpoint?page[size]=10&page[number]="
            "7\",\"last\":\"/v1/endpoint?page[size]=10&page[number]=42\"},\"pag"
            "ination\":{\"type\":\"Pagination\",\"total_count\":423,\"page_coun"
            "t\":42,\"page_number\":6,\"page_size\":10},\"sort\":{\"type\":\"So"
            "rting\",\"fields\":[{\"field\":\"last_name\",\"order\":\"asc\"}]}}"
            "",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_delete_a_user_record(self):
        """
        Delete a user record.
        """
        # Parameters for the API call
        user_id = "11e95f8ec39de8fbdb0a4f1a"

        # Perform the API call through the SDK function
        result = self.controller.delete_a_user_record(
            user_id,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 204
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"User\",\"data\":{\"account_number\":\"5454545454545454"
            "\",\"branding_domain_url\":\"{branding_domain_url}\",\"cell_phone"
            "\":\"3339998822\",\"company_name\":\"Fortis Payment Systems, LLC\""
            ",\"contact_id\":\"Sample contact ID\",\"date_of_birth\":\"2021-12-"
            "01\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@"
            "domain.com\",\"email_trx_receipt\":true,\"home_phone\":\"333999882"
            "2\",\"first_name\":\"John\",\"last_name\":\"Smith\",\"locale\":\"e"
            "n-US\",\"office_phone\":\"3339998822\",\"office_ext_phone\":\"5\","
            "\"primary_location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_ne"
            "w_password\":null,\"terms_condition_code\":\"20220308\",\"tz\":\"A"
            "merica/New_York\",\"ui_prefs\":{\"entry_page\":\"dashboard\",\"pag"
            "e_size\":2,\"report_export_type\":\"csv\",\"process_method\":\"vir"
            "tual_terminal\",\"default_terminal\":\"11e95f8ec39de8fbdb0a4f1a\"}"
            ",\"username\":\"{user_name}\",\"user_api_key\":\"234bas8dfn8238f92"
            "3w2\",\"user_hash_key\":null,\"user_type_code\":100,\"password\":n"
            "ull,\"zip\":\"48375\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"status_code\":1,\"api_only\":false,\"is_invitation\":false,\"ad"
            "dress\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"4837"
            "5\",\"country\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"stat"
            "us\":true,\"login_attempts\":0,\"last_login_ts\":1422040992,\"crea"
            "ted_ts\":1422040992,\"modified_ts\":1422040992,\"created_user_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\",\"terms_accepted_ts\":1422040992,\"t"
            "erms_agree_ip\":\"192.168.0.10\",\"current_date_time\":\"2019-03-1"
            "1T10:38:26-0700\",\"current_login\":1422040992,\"log_api_response_"
            "body_ts\":1422040992,\"locations\":[{\"id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"acco"
            "unt_number\":\"5454545454545454\",\"address\":{\"city\":\"Novi\","
            "\"state\":\"MI\",\"postal_code\":\"48375\",\"country\":\"US\"},\"b"
            "randing_domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_email_t"
            "rx_receipt_default\":true,\"default_ach\":\"11e608a7d515f1e093242b"
            "b2\",\"default_cc\":\"11e608a442a5f1e092242dda\",\"email_reply_to"
            "\":\"email@domain.com\",\"fax\":\"3339998822\",\"location_api_id\""
            ":\"location-111111\",\"location_api_key\":\"AE34BBCAADF4AE34BBCAAD"
            "F4\",\"location_c1\":\"custom 1\",\"location_c2\":\"custom 2\",\"l"
            "ocation_c3\":\"custom data 3\",\"name\":\"Sample Company Headquart"
            "ers\",\"office_phone\":\"2481234567\",\"office_ext_phone\":\"10210"
            "21209\",\"tz\":\"America/New_York\",\"parent_id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"show_contact_notes\":true,\"show_contact_files\":tr"
            "ue,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"location_typ"
            "e\":\"merchant\",\"ticket_hash_key\":\"A5F443CADF4AE34BBCAADF4\"}]"
            ",\"primary_location\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"creat"
            "ed_ts\":1422040992,\"modified_ts\":1422040992,\"account_number\":"
            "\"5454545454545454\",\"address\":{\"city\":\"Novi\",\"state\":\"MI"
            "\",\"postal_code\":\"48375\",\"country\":\"US\"},\"branding_domain"
            "_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_email_trx_receipt_def"
            "ault\":true,\"default_ach\":\"11e608a7d515f1e093242bb2\",\"default"
            "_cc\":\"11e608a442a5f1e092242dda\",\"email_reply_to\":\"email@doma"
            "in.com\",\"fax\":\"3339998822\",\"location_api_id\":\"location-111"
            "111\",\"location_api_key\":\"AE34BBCAADF4AE34BBCAADF4\",\"location"
            "_c1\":\"custom 1\",\"location_c2\":\"custom 2\",\"location_c3\":\""
            "custom data 3\",\"name\":\"Sample Company Headquarters\",\"office_"
            "phone\":\"2481234567\",\"office_ext_phone\":\"1021021209\",\"tz\":"
            "\"America/New_York\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "show_contact_notes\":true,\"show_contact_files\":true,\"created_us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"location_type\":\"merchant"
            "\",\"ticket_hash_key\":\"A5F443CADF4AE34BBCAADF4\"},\"received_ema"
            "ils\":[{\"subject\":\"Payment Receipt - 12skiestech\",\"body\":\"T"
            "his email is being sent from a server.\",\"source_address\":\"\\\""
            "12skiestech A7t3qi\\\" <noreply@zeamster.email>\",\"return_path\":"
            "\"\\\"12skiestech A7t3qi\\\" <noreply@zeamster.email>\",\"provider"
            "_id\":\"0100017e67bcc530-e1dd23b4-8a39-4a5b-8d5d-68d51c4c942f-0000"
            "00\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"reason_sent\":\""
            "Contact Email\",\"reason_model\":\"Transaction\",\"reason_model_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"reply_to\":\"\\\"Zeamster\\\" <e"
            "mma.p@zeamster.com>\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"create"
            "d_ts\":1422040992}],\"contact\":{\"location_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"account_number\":\"54545433332\",\"contact_api_id\":"
            "\"137\",\"first_name\":\"John\",\"last_name\":\"Smith\",\"cell_pho"
            "ne\":\"3339998822\",\"balance\":245.36,\"address\":{\"city\":\"Nov"
            "i\",\"state\":\"Michigan\",\"postal_code\":\"48375\",\"country\":"
            "\"US\"},\"company_name\":\"Fortis Payment Systems, LLC\",\"header_"
            "message\":\"This is a sample message for you\",\"date_of_birth\":"
            "\"2021-12-01\",\"email_trx_receipt\":true,\"home_phone\":\"3339998"
            "822\",\"office_phone\":\"3339998822\",\"office_phone_ext\":\"5\","
            "\"header_message_type\":0,\"update_if_exists\":1,\"contact_c1\":\""
            "any\",\"contact_c2\":\"anything\",\"contact_c3\":\"something\",\"p"
            "arent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.c"
            "om\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992"
            ",\"modified_ts\":1422040992,\"active\":true,\"created_user_id\":\""
            "11e95f8ec39de8fbdb0a4f1a\"},\"isDeletable\":true,\"active_notifica"
            "tion_alerts\":[{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"dat"
            "e_start\":\"2021-12-01 10:10:00\",\"date_end\":\"2021-12-01 10:10:"
            "00\",\"user_location\":true,\"user_contact\":true,\"include_childr"
            "en\":true,\"alert_type\":1,\"alert_type_id\":1,\"id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040"
            "992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\"}],\"location_users\":[{\"loca"
            "tion_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"user_id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"location_api_id\":null,\"id\":\"11e95f8ec39de8fbdb"
            "0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"cr"
            "eated_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\"}],\"auth_roles\":[{\"user_id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"auth_role_code\":110,\"code\":83931,\"cre"
            "ated_ts\":1422040992,\"modified_ts\":1422040992,\"created_user_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\"}],\"changelogs\":[{\"id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"created_ts\":1422040992,\"action\":\"CREATE\",\"model\":\"T"
            "ransactionRequest\",\"model_id\":\"11ec829598f0d4008be9aba4\",\"us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_details\":[{\"id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"field\":\"next_run_ts\",\"old_value\":\"1643616000\""
            "}],\"user\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"username\":\"em"
            "ail@domain.com\",\"first_name\":\"Bob\",\"last_name\":\"Fairview\""
            "}}],\"resources\":{\"title\":\"My terminal\",\"priv\":null,\"resou"
            "rce_name\":\"v2.addons.iframe.get\",\"id\":5693,\"last_used_date\""
            ":1422040992,\"created_ts\":1422040992,\"modified_ts\":1422040992},"
            "\"domain\":{\"url\":\"fortispayrbyn9y.sandbox.zeamster.com\",\"tit"
            "le\":\"Test Brand Domain Title 2\",\"logo\":\"\",\"support_email\""
            ":\"email@domain.com\",\"allow_contact_signup\":true,\"allow_contac"
            "t_registration\":true,\"allow_contact_login\":true,\"registration_"
            "fields\":[\"account_number\"],\"company_name\":null,\"nav_color\":"
            "null,\"button_primary_color\":null,\"logo_background_color\":null,"
            "\"icon_background_color\":null,\"menu_text_background_color\":null"
            ",\"menu_text_color\":null,\"right_menu_background_color\":null,\"r"
            "ight_menu_text_color\":null,\"button_primary_text_color\":null,\"n"
            "av_logo\":null,\"fav_icon\":null,\"aes_key\":null,\"help_text\":nu"
            "ll,\"email_reply_to\":\"email@domain.com\",\"email\":\"email@domai"
            "n.com\",\"custom_javascript\":null,\"custom_theme\":null,\"custom_"
            "css\":null,\"contact_user_default_entry_page\":\"dashboard\",\"con"
            "tact_user_default_auth_roles\":[null],\"custom_stylesheet_url\":\""
            "https://127.0.0.1/receiver\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"created_ts\":1422040992,\"modified_ts\":1422040992},\"created_us"
            "er\":{\"account_number\":\"5454545454545454\",\"branding_domain_ur"
            "l\":\"{branding_domain_url}\",\"cell_phone\":\"3339998822\",\"comp"
            "any_name\":\"Fortis Payment Systems, LLC\",\"contact_id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"date_of_birth\":\"2021-12-01\",\"domain_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"e"
            "mail_trx_receipt\":true,\"home_phone\":\"3339998822\",\"first_name"
            "\":\"John\",\"last_name\":\"Smith\",\"locale\":\"en-US\",\"office_"
            "phone\":\"3339998822\",\"office_ext_phone\":\"5\",\"primary_locati"
            "on_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_new_password\":nul"
            "l,\"terms_condition_code\":\"20220308\",\"tz\":\"America/New_York"
            "\",\"ui_prefs\":{\"entry_page\":\"dashboard\",\"page_size\":2,\"re"
            "port_export_type\":\"csv\",\"process_method\":\"virtual_terminal\""
            ",\"default_terminal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"username\":"
            "\"{user_name}\",\"user_api_key\":\"234bas8dfn8238f923w2\",\"user_h"
            "ash_key\":null,\"user_type_code\":100,\"password\":null,\"zip\":\""
            "48375\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status_code"
            "\":1,\"api_only\":false,\"is_invitation\":false,\"address\":{\"cit"
            "y\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"48375\",\"country"
            "\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\":true,\"l"
            "ogin_attempts\":0,\"last_login_ts\":1422040992,\"created_ts\":1422"
            "040992,\"modified_ts\":1422040992,\"created_user_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"terms_accepted_ts\":1422040992,\"terms_agree_ip"
            "\":\"192.168.0.10\",\"current_date_time\":\"2019-03-11T10:38:26-07"
            "00\",\"current_login\":1422040992,\"log_api_response_body_ts\":142"
            "2040992},\"location_marketplaces\":[{\"location_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"marketplace_id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "location_api_id\":null,\"user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"crea"
            "ted_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}],\"email_blacklist\":{"
            "\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"isBlacklisted\":true,\"detai"
            "l\":true,\"created_ts\":1422040992},\"helppage\":{\"user_type_code"
            "\":100,\"body\":\"Sample Body\",\"title\":\"Sample Title\",\"id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_"
            "ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"modified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_view_single_user_record(self):
        """
        View single user record.
        """
        # Parameters for the API call
        user_id = "11e95f8ec39de8fbdb0a4f1a"
        expand = None
        fields = None

        # Perform the API call through the SDK function
        result = self.controller.view_single_user_record(
            user_id,
            expand,
            fields,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 200
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"User\",\"data\":{\"account_number\":\"5454545454545454"
            "\",\"branding_domain_url\":\"{branding_domain_url}\",\"cell_phone"
            "\":\"3339998822\",\"company_name\":\"Fortis Payment Systems, LLC\""
            ",\"contact_id\":\"Sample contact ID\",\"date_of_birth\":\"2021-12-"
            "01\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@"
            "domain.com\",\"email_trx_receipt\":true,\"home_phone\":\"333999882"
            "2\",\"first_name\":\"John\",\"last_name\":\"Smith\",\"locale\":\"e"
            "n-US\",\"office_phone\":\"3339998822\",\"office_ext_phone\":\"5\","
            "\"primary_location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_ne"
            "w_password\":null,\"terms_condition_code\":\"20220308\",\"tz\":\"A"
            "merica/New_York\",\"ui_prefs\":{\"entry_page\":\"dashboard\",\"pag"
            "e_size\":2,\"report_export_type\":\"csv\",\"process_method\":\"vir"
            "tual_terminal\",\"default_terminal\":\"11e95f8ec39de8fbdb0a4f1a\"}"
            ",\"username\":\"{user_name}\",\"user_api_key\":\"234bas8dfn8238f92"
            "3w2\",\"user_hash_key\":null,\"user_type_code\":100,\"password\":n"
            "ull,\"zip\":\"48375\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"status_code\":1,\"api_only\":false,\"is_invitation\":false,\"ad"
            "dress\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"4837"
            "5\",\"country\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"stat"
            "us\":true,\"login_attempts\":0,\"last_login_ts\":1422040992,\"crea"
            "ted_ts\":1422040992,\"modified_ts\":1422040992,\"created_user_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\",\"terms_accepted_ts\":1422040992,\"t"
            "erms_agree_ip\":\"192.168.0.10\",\"current_date_time\":\"2019-03-1"
            "1T10:38:26-0700\",\"current_login\":1422040992,\"log_api_response_"
            "body_ts\":1422040992,\"locations\":[{\"id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"acco"
            "unt_number\":\"5454545454545454\",\"address\":{\"city\":\"Novi\","
            "\"state\":\"MI\",\"postal_code\":\"48375\",\"country\":\"US\"},\"b"
            "randing_domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_email_t"
            "rx_receipt_default\":true,\"default_ach\":\"11e608a7d515f1e093242b"
            "b2\",\"default_cc\":\"11e608a442a5f1e092242dda\",\"email_reply_to"
            "\":\"email@domain.com\",\"fax\":\"3339998822\",\"location_api_id\""
            ":\"location-111111\",\"location_api_key\":\"AE34BBCAADF4AE34BBCAAD"
            "F4\",\"location_c1\":\"custom 1\",\"location_c2\":\"custom 2\",\"l"
            "ocation_c3\":\"custom data 3\",\"name\":\"Sample Company Headquart"
            "ers\",\"office_phone\":\"2481234567\",\"office_ext_phone\":\"10210"
            "21209\",\"tz\":\"America/New_York\",\"parent_id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"show_contact_notes\":true,\"show_contact_files\":tr"
            "ue,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"location_typ"
            "e\":\"merchant\",\"ticket_hash_key\":\"A5F443CADF4AE34BBCAADF4\"}]"
            ",\"primary_location\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"creat"
            "ed_ts\":1422040992,\"modified_ts\":1422040992,\"account_number\":"
            "\"5454545454545454\",\"address\":{\"city\":\"Novi\",\"state\":\"MI"
            "\",\"postal_code\":\"48375\",\"country\":\"US\"},\"branding_domain"
            "_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_email_trx_receipt_def"
            "ault\":true,\"default_ach\":\"11e608a7d515f1e093242bb2\",\"default"
            "_cc\":\"11e608a442a5f1e092242dda\",\"email_reply_to\":\"email@doma"
            "in.com\",\"fax\":\"3339998822\",\"location_api_id\":\"location-111"
            "111\",\"location_api_key\":\"AE34BBCAADF4AE34BBCAADF4\",\"location"
            "_c1\":\"custom 1\",\"location_c2\":\"custom 2\",\"location_c3\":\""
            "custom data 3\",\"name\":\"Sample Company Headquarters\",\"office_"
            "phone\":\"2481234567\",\"office_ext_phone\":\"1021021209\",\"tz\":"
            "\"America/New_York\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "show_contact_notes\":true,\"show_contact_files\":true,\"created_us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"location_type\":\"merchant"
            "\",\"ticket_hash_key\":\"A5F443CADF4AE34BBCAADF4\"},\"received_ema"
            "ils\":[{\"subject\":\"Payment Receipt - 12skiestech\",\"body\":\"T"
            "his email is being sent from a server.\",\"source_address\":\"\\\""
            "12skiestech A7t3qi\\\" <noreply@zeamster.email>\",\"return_path\":"
            "\"\\\"12skiestech A7t3qi\\\" <noreply@zeamster.email>\",\"provider"
            "_id\":\"0100017e67bcc530-e1dd23b4-8a39-4a5b-8d5d-68d51c4c942f-0000"
            "00\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"reason_sent\":\""
            "Contact Email\",\"reason_model\":\"Transaction\",\"reason_model_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"reply_to\":\"\\\"Zeamster\\\" <e"
            "mma.p@zeamster.com>\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"create"
            "d_ts\":1422040992}],\"contact\":{\"location_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"account_number\":\"54545433332\",\"contact_api_id\":"
            "\"137\",\"first_name\":\"John\",\"last_name\":\"Smith\",\"cell_pho"
            "ne\":\"3339998822\",\"balance\":245.36,\"address\":{\"city\":\"Nov"
            "i\",\"state\":\"Michigan\",\"postal_code\":\"48375\",\"country\":"
            "\"US\"},\"company_name\":\"Fortis Payment Systems, LLC\",\"header_"
            "message\":\"This is a sample message for you\",\"date_of_birth\":"
            "\"2021-12-01\",\"email_trx_receipt\":true,\"home_phone\":\"3339998"
            "822\",\"office_phone\":\"3339998822\",\"office_phone_ext\":\"5\","
            "\"header_message_type\":0,\"update_if_exists\":1,\"contact_c1\":\""
            "any\",\"contact_c2\":\"anything\",\"contact_c3\":\"something\",\"p"
            "arent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.c"
            "om\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992"
            ",\"modified_ts\":1422040992,\"active\":true,\"created_user_id\":\""
            "11e95f8ec39de8fbdb0a4f1a\"},\"isDeletable\":true,\"active_notifica"
            "tion_alerts\":[{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"dat"
            "e_start\":\"2021-12-01 10:10:00\",\"date_end\":\"2021-12-01 10:10:"
            "00\",\"user_location\":true,\"user_contact\":true,\"include_childr"
            "en\":true,\"alert_type\":1,\"alert_type_id\":1,\"id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040"
            "992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\"}],\"location_users\":[{\"loca"
            "tion_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"user_id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"location_api_id\":null,\"id\":\"11e95f8ec39de8fbdb"
            "0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"cr"
            "eated_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\"}],\"auth_roles\":[{\"user_id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"auth_role_code\":110,\"code\":83931,\"cre"
            "ated_ts\":1422040992,\"modified_ts\":1422040992,\"created_user_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\"}],\"changelogs\":[{\"id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"created_ts\":1422040992,\"action\":\"CREATE\",\"model\":\"T"
            "ransactionRequest\",\"model_id\":\"11ec829598f0d4008be9aba4\",\"us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_details\":[{\"id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"field\":\"next_run_ts\",\"old_value\":\"1643616000\""
            "}],\"user\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"username\":\"em"
            "ail@domain.com\",\"first_name\":\"Bob\",\"last_name\":\"Fairview\""
            "}}],\"resources\":{\"title\":\"My terminal\",\"priv\":null,\"resou"
            "rce_name\":\"v2.addons.iframe.get\",\"id\":5693,\"last_used_date\""
            ":1422040992,\"created_ts\":1422040992,\"modified_ts\":1422040992},"
            "\"domain\":{\"url\":\"fortispayrbyn9y.sandbox.zeamster.com\",\"tit"
            "le\":\"Test Brand Domain Title 2\",\"logo\":\"\",\"support_email\""
            ":\"email@domain.com\",\"allow_contact_signup\":true,\"allow_contac"
            "t_registration\":true,\"allow_contact_login\":true,\"registration_"
            "fields\":[\"account_number\"],\"company_name\":null,\"nav_color\":"
            "null,\"button_primary_color\":null,\"logo_background_color\":null,"
            "\"icon_background_color\":null,\"menu_text_background_color\":null"
            ",\"menu_text_color\":null,\"right_menu_background_color\":null,\"r"
            "ight_menu_text_color\":null,\"button_primary_text_color\":null,\"n"
            "av_logo\":null,\"fav_icon\":null,\"aes_key\":null,\"help_text\":nu"
            "ll,\"email_reply_to\":\"email@domain.com\",\"email\":\"email@domai"
            "n.com\",\"custom_javascript\":null,\"custom_theme\":null,\"custom_"
            "css\":null,\"contact_user_default_entry_page\":\"dashboard\",\"con"
            "tact_user_default_auth_roles\":[null],\"custom_stylesheet_url\":\""
            "https://127.0.0.1/receiver\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"created_ts\":1422040992,\"modified_ts\":1422040992},\"created_us"
            "er\":{\"account_number\":\"5454545454545454\",\"branding_domain_ur"
            "l\":\"{branding_domain_url}\",\"cell_phone\":\"3339998822\",\"comp"
            "any_name\":\"Fortis Payment Systems, LLC\",\"contact_id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"date_of_birth\":\"2021-12-01\",\"domain_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"e"
            "mail_trx_receipt\":true,\"home_phone\":\"3339998822\",\"first_name"
            "\":\"John\",\"last_name\":\"Smith\",\"locale\":\"en-US\",\"office_"
            "phone\":\"3339998822\",\"office_ext_phone\":\"5\",\"primary_locati"
            "on_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_new_password\":nul"
            "l,\"terms_condition_code\":\"20220308\",\"tz\":\"America/New_York"
            "\",\"ui_prefs\":{\"entry_page\":\"dashboard\",\"page_size\":2,\"re"
            "port_export_type\":\"csv\",\"process_method\":\"virtual_terminal\""
            ",\"default_terminal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"username\":"
            "\"{user_name}\",\"user_api_key\":\"234bas8dfn8238f923w2\",\"user_h"
            "ash_key\":null,\"user_type_code\":100,\"password\":null,\"zip\":\""
            "48375\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status_code"
            "\":1,\"api_only\":false,\"is_invitation\":false,\"address\":{\"cit"
            "y\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"48375\",\"country"
            "\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\":true,\"l"
            "ogin_attempts\":0,\"last_login_ts\":1422040992,\"created_ts\":1422"
            "040992,\"modified_ts\":1422040992,\"created_user_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"terms_accepted_ts\":1422040992,\"terms_agree_ip"
            "\":\"192.168.0.10\",\"current_date_time\":\"2019-03-11T10:38:26-07"
            "00\",\"current_login\":1422040992,\"log_api_response_body_ts\":142"
            "2040992},\"location_marketplaces\":[{\"location_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"marketplace_id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "location_api_id\":null,\"user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"crea"
            "ted_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}],\"email_blacklist\":{"
            "\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"isBlacklisted\":true,\"detai"
            "l\":true,\"created_ts\":1422040992},\"helppage\":{\"user_type_code"
            "\":100,\"body\":\"Sample Body\",\"title\":\"Sample Title\",\"id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_"
            "ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"modified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_view_self_record(self):
        """
        View self record.
        """
        # Parameters for the API call
        expand = None
        fields = None

        # Perform the API call through the SDK function
        result = self.controller.view_self_record(
            expand,
            fields,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 200
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"User\",\"data\":{\"account_number\":\"5454545454545454"
            "\",\"branding_domain_url\":\"{branding_domain_url}\",\"cell_phone"
            "\":\"3339998822\",\"company_name\":\"Fortis Payment Systems, LLC\""
            ",\"contact_id\":\"Sample contact ID\",\"date_of_birth\":\"2021-12-"
            "01\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@"
            "domain.com\",\"email_trx_receipt\":true,\"home_phone\":\"333999882"
            "2\",\"first_name\":\"John\",\"last_name\":\"Smith\",\"locale\":\"e"
            "n-US\",\"office_phone\":\"3339998822\",\"office_ext_phone\":\"5\","
            "\"primary_location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_ne"
            "w_password\":null,\"terms_condition_code\":\"20220308\",\"tz\":\"A"
            "merica/New_York\",\"ui_prefs\":{\"entry_page\":\"dashboard\",\"pag"
            "e_size\":2,\"report_export_type\":\"csv\",\"process_method\":\"vir"
            "tual_terminal\",\"default_terminal\":\"11e95f8ec39de8fbdb0a4f1a\"}"
            ",\"username\":\"{user_name}\",\"user_api_key\":\"234bas8dfn8238f92"
            "3w2\",\"user_hash_key\":null,\"user_type_code\":100,\"password\":n"
            "ull,\"zip\":\"48375\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"status_code\":1,\"api_only\":false,\"is_invitation\":false,\"ad"
            "dress\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"4837"
            "5\",\"country\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"stat"
            "us\":true,\"login_attempts\":0,\"last_login_ts\":1422040992,\"crea"
            "ted_ts\":1422040992,\"modified_ts\":1422040992,\"created_user_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\",\"terms_accepted_ts\":1422040992,\"t"
            "erms_agree_ip\":\"192.168.0.10\",\"current_date_time\":\"2019-03-1"
            "1T10:38:26-0700\",\"current_login\":1422040992,\"log_api_response_"
            "body_ts\":1422040992,\"locations\":[{\"id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"acco"
            "unt_number\":\"5454545454545454\",\"address\":{\"city\":\"Novi\","
            "\"state\":\"MI\",\"postal_code\":\"48375\",\"country\":\"US\"},\"b"
            "randing_domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_email_t"
            "rx_receipt_default\":true,\"default_ach\":\"11e608a7d515f1e093242b"
            "b2\",\"default_cc\":\"11e608a442a5f1e092242dda\",\"email_reply_to"
            "\":\"email@domain.com\",\"fax\":\"3339998822\",\"location_api_id\""
            ":\"location-111111\",\"location_api_key\":\"AE34BBCAADF4AE34BBCAAD"
            "F4\",\"location_c1\":\"custom 1\",\"location_c2\":\"custom 2\",\"l"
            "ocation_c3\":\"custom data 3\",\"name\":\"Sample Company Headquart"
            "ers\",\"office_phone\":\"2481234567\",\"office_ext_phone\":\"10210"
            "21209\",\"tz\":\"America/New_York\",\"parent_id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"show_contact_notes\":true,\"show_contact_files\":tr"
            "ue,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"location_typ"
            "e\":\"merchant\",\"ticket_hash_key\":\"A5F443CADF4AE34BBCAADF4\"}]"
            ",\"primary_location\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"creat"
            "ed_ts\":1422040992,\"modified_ts\":1422040992,\"account_number\":"
            "\"5454545454545454\",\"address\":{\"city\":\"Novi\",\"state\":\"MI"
            "\",\"postal_code\":\"48375\",\"country\":\"US\"},\"branding_domain"
            "_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_email_trx_receipt_def"
            "ault\":true,\"default_ach\":\"11e608a7d515f1e093242bb2\",\"default"
            "_cc\":\"11e608a442a5f1e092242dda\",\"email_reply_to\":\"email@doma"
            "in.com\",\"fax\":\"3339998822\",\"location_api_id\":\"location-111"
            "111\",\"location_api_key\":\"AE34BBCAADF4AE34BBCAADF4\",\"location"
            "_c1\":\"custom 1\",\"location_c2\":\"custom 2\",\"location_c3\":\""
            "custom data 3\",\"name\":\"Sample Company Headquarters\",\"office_"
            "phone\":\"2481234567\",\"office_ext_phone\":\"1021021209\",\"tz\":"
            "\"America/New_York\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "show_contact_notes\":true,\"show_contact_files\":true,\"created_us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"location_type\":\"merchant"
            "\",\"ticket_hash_key\":\"A5F443CADF4AE34BBCAADF4\"},\"received_ema"
            "ils\":[{\"subject\":\"Payment Receipt - 12skiestech\",\"body\":\"T"
            "his email is being sent from a server.\",\"source_address\":\"\\\""
            "12skiestech A7t3qi\\\" <noreply@zeamster.email>\",\"return_path\":"
            "\"\\\"12skiestech A7t3qi\\\" <noreply@zeamster.email>\",\"provider"
            "_id\":\"0100017e67bcc530-e1dd23b4-8a39-4a5b-8d5d-68d51c4c942f-0000"
            "00\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"reason_sent\":\""
            "Contact Email\",\"reason_model\":\"Transaction\",\"reason_model_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"reply_to\":\"\\\"Zeamster\\\" <e"
            "mma.p@zeamster.com>\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"create"
            "d_ts\":1422040992}],\"contact\":{\"location_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"account_number\":\"54545433332\",\"contact_api_id\":"
            "\"137\",\"first_name\":\"John\",\"last_name\":\"Smith\",\"cell_pho"
            "ne\":\"3339998822\",\"balance\":245.36,\"address\":{\"city\":\"Nov"
            "i\",\"state\":\"Michigan\",\"postal_code\":\"48375\",\"country\":"
            "\"US\"},\"company_name\":\"Fortis Payment Systems, LLC\",\"header_"
            "message\":\"This is a sample message for you\",\"date_of_birth\":"
            "\"2021-12-01\",\"email_trx_receipt\":true,\"home_phone\":\"3339998"
            "822\",\"office_phone\":\"3339998822\",\"office_phone_ext\":\"5\","
            "\"header_message_type\":0,\"update_if_exists\":1,\"contact_c1\":\""
            "any\",\"contact_c2\":\"anything\",\"contact_c3\":\"something\",\"p"
            "arent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.c"
            "om\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992"
            ",\"modified_ts\":1422040992,\"active\":true,\"created_user_id\":\""
            "11e95f8ec39de8fbdb0a4f1a\"},\"isDeletable\":true,\"active_notifica"
            "tion_alerts\":[{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"dat"
            "e_start\":\"2021-12-01 10:10:00\",\"date_end\":\"2021-12-01 10:10:"
            "00\",\"user_location\":true,\"user_contact\":true,\"include_childr"
            "en\":true,\"alert_type\":1,\"alert_type_id\":1,\"id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040"
            "992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\"}],\"location_users\":[{\"loca"
            "tion_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"user_id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"location_api_id\":null,\"id\":\"11e95f8ec39de8fbdb"
            "0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"cr"
            "eated_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\"}],\"auth_roles\":[{\"user_id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"auth_role_code\":110,\"code\":83931,\"cre"
            "ated_ts\":1422040992,\"modified_ts\":1422040992,\"created_user_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\"}],\"changelogs\":[{\"id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"created_ts\":1422040992,\"action\":\"CREATE\",\"model\":\"T"
            "ransactionRequest\",\"model_id\":\"11ec829598f0d4008be9aba4\",\"us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_details\":[{\"id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"field\":\"next_run_ts\",\"old_value\":\"1643616000\""
            "}],\"user\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"username\":\"em"
            "ail@domain.com\",\"first_name\":\"Bob\",\"last_name\":\"Fairview\""
            "}}],\"resources\":{\"title\":\"My terminal\",\"priv\":null,\"resou"
            "rce_name\":\"v2.addons.iframe.get\",\"id\":5693,\"last_used_date\""
            ":1422040992,\"created_ts\":1422040992,\"modified_ts\":1422040992},"
            "\"domain\":{\"url\":\"fortispayrbyn9y.sandbox.zeamster.com\",\"tit"
            "le\":\"Test Brand Domain Title 2\",\"logo\":\"\",\"support_email\""
            ":\"email@domain.com\",\"allow_contact_signup\":true,\"allow_contac"
            "t_registration\":true,\"allow_contact_login\":true,\"registration_"
            "fields\":[\"account_number\"],\"company_name\":null,\"nav_color\":"
            "null,\"button_primary_color\":null,\"logo_background_color\":null,"
            "\"icon_background_color\":null,\"menu_text_background_color\":null"
            ",\"menu_text_color\":null,\"right_menu_background_color\":null,\"r"
            "ight_menu_text_color\":null,\"button_primary_text_color\":null,\"n"
            "av_logo\":null,\"fav_icon\":null,\"aes_key\":null,\"help_text\":nu"
            "ll,\"email_reply_to\":\"email@domain.com\",\"email\":\"email@domai"
            "n.com\",\"custom_javascript\":null,\"custom_theme\":null,\"custom_"
            "css\":null,\"contact_user_default_entry_page\":\"dashboard\",\"con"
            "tact_user_default_auth_roles\":[null],\"custom_stylesheet_url\":\""
            "https://127.0.0.1/receiver\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"created_ts\":1422040992,\"modified_ts\":1422040992},\"created_us"
            "er\":{\"account_number\":\"5454545454545454\",\"branding_domain_ur"
            "l\":\"{branding_domain_url}\",\"cell_phone\":\"3339998822\",\"comp"
            "any_name\":\"Fortis Payment Systems, LLC\",\"contact_id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"date_of_birth\":\"2021-12-01\",\"domain_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"e"
            "mail_trx_receipt\":true,\"home_phone\":\"3339998822\",\"first_name"
            "\":\"John\",\"last_name\":\"Smith\",\"locale\":\"en-US\",\"office_"
            "phone\":\"3339998822\",\"office_ext_phone\":\"5\",\"primary_locati"
            "on_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_new_password\":nul"
            "l,\"terms_condition_code\":\"20220308\",\"tz\":\"America/New_York"
            "\",\"ui_prefs\":{\"entry_page\":\"dashboard\",\"page_size\":2,\"re"
            "port_export_type\":\"csv\",\"process_method\":\"virtual_terminal\""
            ",\"default_terminal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"username\":"
            "\"{user_name}\",\"user_api_key\":\"234bas8dfn8238f923w2\",\"user_h"
            "ash_key\":null,\"user_type_code\":100,\"password\":null,\"zip\":\""
            "48375\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status_code"
            "\":1,\"api_only\":false,\"is_invitation\":false,\"address\":{\"cit"
            "y\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"48375\",\"country"
            "\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\":true,\"l"
            "ogin_attempts\":0,\"last_login_ts\":1422040992,\"created_ts\":1422"
            "040992,\"modified_ts\":1422040992,\"created_user_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"terms_accepted_ts\":1422040992,\"terms_agree_ip"
            "\":\"192.168.0.10\",\"current_date_time\":\"2019-03-11T10:38:26-07"
            "00\",\"current_login\":1422040992,\"log_api_response_body_ts\":142"
            "2040992},\"location_marketplaces\":[{\"location_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"marketplace_id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "location_api_id\":null,\"user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"crea"
            "ted_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}],\"email_blacklist\":{"
            "\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"isBlacklisted\":true,\"detai"
            "l\":true,\"created_ts\":1422040992},\"helppage\":{\"user_type_code"
            "\":100,\"body\":\"Sample Body\",\"title\":\"Sample Title\",\"id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_"
            "ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"modified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_remove_verification(self):
        """
        Remove the pending user.
        """
        # Parameters for the API call
        user_id = None

        # Perform the API call through the SDK function
        result = self.controller.remove_verification(
            user_id,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 204
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"RemoveVerification\",\"data\":{\"id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"hash\":\"1"
            "23456781234567812345678\",\"created_ts\":1422040992}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_send_verification(self):
        """
        Send an verification email to the pending user.
        """
        # Parameters for the API call
        user_id = None

        # Perform the API call through the SDK function
        result = self.controller.send_verification(
            user_id,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 201
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"SendVerification\",\"data\":{\"id\":\"11e95f8ec39de8fb"
            "db0a4f1a\",\"user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"hash\":\"123"
            "456781234567812345678\",\"created_ts\":1422040992}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

