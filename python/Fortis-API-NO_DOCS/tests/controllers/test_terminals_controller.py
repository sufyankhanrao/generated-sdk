
"""
fortisapi

This file was automatically generated by APIMATIC v3.0 (
 https://www.apimatic.io ).
"""

# ruff: noqa: PLR0915, W291
from apimatic_core.utilities.comparison_helper import (
    ComparisonHelper,
)

from fortisapi.api_helper import APIHelper
from tests.controllers.controller_test_base import (
    ControllerTestBase,
)


class TerminalsControllerTests(ControllerTestBase):
    """
    Endpoint tests for validating the API behavior.

    Ensures controller methods execute correctly and produce the expected
    responses using the shared test client and response catcher.
    """

    controller = None

    @classmethod
    def setUpClass(cls):
        """
        Initialize the shared test client and controller for all test methods.
        """
        super().setUpClass()
        cls.controller = cls.client.terminals
        cls.response_catcher = cls.controller.http_call_back

    def test_list_all_terminals_related(self):
        """
        List all terminals related.
        """
        # Parameters for the API call
        page = None
        order = None
        filter_by = None
        expand = None
        format = None
        typeahead = None
        fields = None

        # Perform the API call through the SDK function
        result = self.controller.list_all_terminals_related(
            page,
            order,
            filter_by,
            expand,
            format,
            typeahead,
            fields,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 200
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"TerminalsCollection\",\"list\":[{\"location_id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"default_product_transaction_id\":\"11e95"
            "f8ec39de8fbdb0a4f1a\",\"terminal_application_id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"terminal_cvm_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"te"
            "rminal_manufacturer_code\":\"1\",\"title\":\"My terminal\",\"mac_a"
            "ddress\":\"3D:F2:C9:A6:B3:4F\",\"local_ip_address\":\"192.168.0.10"
            "\",\"port\":10009,\"serial_number\":\"1234567890\",\"terminal_numb"
            "er\":\"973456789012367\",\"terminal_timeouts\":{\"card_entry_timeo"
            "ut\":47,\"device_terms_prompt_timeout\":30,\"overall_timeout\":125"
            ",\"pin_entry_timeout\":40,\"signature_input_timeout\":35,\"signatu"
            "re_submit_timeout\":38,\"status_display_time\":12,\"tip_cashback_t"
            "imeout\":25,\"transaction_timeout\":17},\"tip_percents\":{\"percen"
            "t_1\":0,\"percent_2\":2,\"percent_3\":99},\"header_line_1\":\"line"
            " 1 sample\",\"header_line_2\":\"line 2 sample\",\"header_line_3\":"
            "\"line 3 sample\",\"header_line_4\":\"line 4 sample\",\"header_lin"
            "e_5\":\"line 5 sample\",\"trailer_line_1\":\"trailer 1 sample\",\""
            "trailer_line_2\":\"trailer 2 sample\",\"trailer_line_3\":\"trailer"
            " 3 sample\",\"trailer_line_4\":\"trailer 4 sample\",\"trailer_line"
            "_5\":\"trailer 5 sample\",\"default_checkin\":\"2021-12-01\",\"def"
            "ault_checkout\":\"2021-12-01\",\"default_room_rate\":56,\"default_"
            "room_number\":\"303\",\"debit\":false,\"emv\":false,\"cashback_ena"
            "ble\":false,\"print_enable\":false,\"sig_capture_enable\":false,\""
            "is_provisioned\":false,\"tip_enable\":false,\"validated_decryption"
            "\":false,\"communication_type\":\"http\",\"active\":true,\"id\":\""
            "11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts"
            "\":1422040992,\"last_registration_ts\":1422040992,\"created_user_i"
            "d\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"location\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"account_nu"
            "mber\":\"5454545454545454\",\"address\":{\"city\":\"Novi\",\"state"
            "\":\"MI\",\"postal_code\":\"48375\",\"country\":\"US\"},\"branding"
            "_domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_email_trx_rece"
            "ipt_default\":true,\"default_ach\":\"11e608a7d515f1e093242bb2\",\""
            "default_cc\":\"11e608a442a5f1e092242dda\",\"email_reply_to\":\"ema"
            "il@domain.com\",\"fax\":\"3339998822\",\"location_api_id\":\"locat"
            "ion-111111\",\"location_api_key\":\"AE34BBCAADF4AE34BBCAADF4\",\"l"
            "ocation_c1\":\"custom 1\",\"location_c2\":\"custom 2\",\"location_"
            "c3\":\"custom data 3\",\"name\":\"Sample Company Headquarters\",\""
            "office_phone\":\"2481234567\",\"office_ext_phone\":\"1021021209\","
            "\"tz\":\"America/New_York\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"show_contact_notes\":true,\"show_contact_files\":true,\"cre"
            "ated_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"location_type\":\"me"
            "rchant\",\"ticket_hash_key\":\"A5F443CADF4AE34BBCAADF4\"},\"create"
            "d_user\":{\"account_number\":\"5454545454545454\",\"branding_domai"
            "n_url\":\"{branding_domain_url}\",\"cell_phone\":\"3339998822\",\""
            "company_name\":\"Fortis Payment Systems, LLC\",\"contact_id\":\"11"
            "e95f8ec39de8fbdb0a4f1a\",\"date_of_birth\":\"2021-12-01\",\"domain"
            "_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\","
            "\"email_trx_receipt\":true,\"home_phone\":\"3339998822\",\"first_n"
            "ame\":\"John\",\"last_name\":\"Smith\",\"locale\":\"en-US\",\"offi"
            "ce_phone\":\"3339998822\",\"office_ext_phone\":\"5\",\"primary_loc"
            "ation_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_new_password\":"
            "null,\"terms_condition_code\":\"20220308\",\"tz\":\"America/New_Yo"
            "rk\",\"ui_prefs\":{\"entry_page\":\"dashboard\",\"page_size\":2,\""
            "report_export_type\":\"csv\",\"process_method\":\"virtual_terminal"
            "\",\"default_terminal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"username\""
            ":\"{user_name}\",\"user_api_key\":\"234bas8dfn8238f923w2\",\"user_"
            "hash_key\":null,\"user_type_code\":100,\"password\":null,\"zip\":"
            "\"48375\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status_co"
            "de\":1,\"api_only\":false,\"is_invitation\":false,\"address\":{\"c"
            "ity\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"48375\",\"countr"
            "y\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\":true,\""
            "login_attempts\":0,\"last_login_ts\":1422040992,\"created_ts\":142"
            "2040992,\"modified_ts\":1422040992,\"created_user_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"terms_accepted_ts\":1422040992,\"terms_agree_i"
            "p\":\"192.168.0.10\",\"current_date_time\":\"2019-03-11T10:38:26-0"
            "700\",\"current_login\":1422040992,\"log_api_response_body_ts\":14"
            "22040992},\"terminal_application\":{\"standalone\":true,\"emv_capa"
            "ble\":true,\"nfc_capable\":false,\"pin_capable\":true,\"print_capa"
            "ble\":false,\"msr_capable\":true,\"sig_capture_capable\":false,\"m"
            "pos_terminal\":false,\"title\":\"Ingenico Link2500\",\"id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":1"
            "422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"},\"chan"
            "gelogs\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422"
            "040992,\"action\":\"CREATE\",\"model\":\"TransactionRequest\",\"mo"
            "del_id\":\"11ec829598f0d4008be9aba4\",\"user_id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"changelog_details\":[{\"id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"changelog_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"field\":\"n"
            "ext_run_ts\",\"old_value\":\"1643616000\"}],\"user\":{\"id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"username\":\"email@domain.com\",\"first_"
            "name\":\"Bob\",\"last_name\":\"Fairview\"}}],\"terminal_routers\":"
            "[{\"mac_address\":\"3D:F2:C9:A6:B3:4F\",\"location_id\":\"11e95f8e"
            "c39de8fbdb0a4f1a\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_t"
            "s\":1422040992,\"modified_ts\":1422040992,\"created_user_id\":\"11"
            "e95f8ec39de8fbdb0a4f1a\"}],\"has_terminal_routers\":true,\"termina"
            "l_cvm\":{\"terminal_manufacturer_code\":4,\"title\":\"CVM One\",\""
            "contact_data\":null,\"contactless_data\":null,\"id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":14220409"
            "92,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_use"
            "r_id\":\"11e95f8ec39de8fbdb0a4f1a\"},\"terminal_manufacturer\":{\""
            "title\":\"My terminal\",\"idtype\":\"mac\",\"code\":\"4\",\"create"
            "d_ts\":1422040992,\"modified_ts\":1422040992,\"created_user_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\"}}],\"links\":{\"type\":\"Links\",\"first\":\"/v1/endp"
            "oint?page[size]=10&page[number]=1\",\"previous\":\"/v1/endpoint?pa"
            "ge[size]=10&page[number]=5\",\"next\":\"/v1/endpoint?page[size]=10"
            "&page[number]=7\",\"last\":\"/v1/endpoint?page[size]=10&page[numbe"
            "r]=42\"},\"pagination\":{\"type\":\"Pagination\",\"total_count\":4"
            "23,\"page_count\":42,\"page_number\":6,\"page_size\":10},\"sort\":"
            "{\"type\":\"Sorting\",\"fields\":[{\"field\":\"last_name\",\"order"
            "\":\"asc\"}]}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_view_single_terminals_record(self):
        """
        View single terminals record.
        """
        # Parameters for the API call
        terminal_id = "11e95f8ec39de8fbdb0a4f1a"
        expand = None
        fields = None

        # Perform the API call through the SDK function
        result = self.controller.view_single_terminals_record(
            terminal_id,
            expand,
            fields,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 200
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"Terminal\",\"data\":{\"location_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"default_product_transaction_id\":\"11e95f8ec39de8fbd"
            "b0a4f1a\",\"terminal_application_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"terminal_cvm_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"terminal_manuf"
            "acturer_code\":\"1\",\"title\":\"My terminal\",\"mac_address\":\"3"
            "D:F2:C9:A6:B3:4F\",\"local_ip_address\":\"192.168.0.10\",\"port\":"
            "10009,\"serial_number\":\"1234567890\",\"terminal_number\":\"97345"
            "6789012367\",\"terminal_timeouts\":{\"card_entry_timeout\":47,\"de"
            "vice_terms_prompt_timeout\":30,\"overall_timeout\":125,\"pin_entry"
            "_timeout\":40,\"signature_input_timeout\":35,\"signature_submit_ti"
            "meout\":38,\"status_display_time\":12,\"tip_cashback_timeout\":25,"
            "\"transaction_timeout\":17},\"tip_percents\":{\"percent_1\":0,\"pe"
            "rcent_2\":2,\"percent_3\":99},\"header_line_1\":\"line 1 sample\","
            "\"header_line_2\":\"line 2 sample\",\"header_line_3\":\"line 3 sam"
            "ple\",\"header_line_4\":\"line 4 sample\",\"header_line_5\":\"line"
            " 5 sample\",\"trailer_line_1\":\"trailer 1 sample\",\"trailer_line"
            "_2\":\"trailer 2 sample\",\"trailer_line_3\":\"trailer 3 sample\","
            "\"trailer_line_4\":\"trailer 4 sample\",\"trailer_line_5\":\"trail"
            "er 5 sample\",\"default_checkin\":\"2021-12-01\",\"default_checkou"
            "t\":\"2021-12-01\",\"default_room_rate\":56,\"default_room_number"
            "\":\"303\",\"debit\":false,\"emv\":false,\"cashback_enable\":false"
            ",\"print_enable\":false,\"sig_capture_enable\":false,\"is_provisio"
            "ned\":false,\"tip_enable\":false,\"validated_decryption\":false,\""
            "communication_type\":\"http\",\"active\":true,\"id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":14220409"
            "92,\"last_registration_ts\":1422040992,\"created_user_id\":\"11e95"
            "f8ec39de8fbdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39de8fbdb0a4"
            "f1a\",\"location\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_"
            "ts\":1422040992,\"modified_ts\":1422040992,\"account_number\":\"54"
            "54545454545454\",\"address\":{\"city\":\"Novi\",\"state\":\"MI\","
            "\"postal_code\":\"48375\",\"country\":\"US\"},\"branding_domain_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_email_trx_receipt_defaul"
            "t\":true,\"default_ach\":\"11e608a7d515f1e093242bb2\",\"default_cc"
            "\":\"11e608a442a5f1e092242dda\",\"email_reply_to\":\"email@domain."
            "com\",\"fax\":\"3339998822\",\"location_api_id\":\"location-111111"
            "\",\"location_api_key\":\"AE34BBCAADF4AE34BBCAADF4\",\"location_c1"
            "\":\"custom 1\",\"location_c2\":\"custom 2\",\"location_c3\":\"cus"
            "tom data 3\",\"name\":\"Sample Company Headquarters\",\"office_pho"
            "ne\":\"2481234567\",\"office_ext_phone\":\"1021021209\",\"tz\":\"A"
            "merica/New_York\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"sho"
            "w_contact_notes\":true,\"show_contact_files\":true,\"created_user_"
            "id\":\"11e95f8ec39de8fbdb0a4f1a\",\"location_type\":\"merchant\","
            "\"ticket_hash_key\":\"A5F443CADF4AE34BBCAADF4\"},\"created_user\":"
            "{\"account_number\":\"5454545454545454\",\"branding_domain_url\":"
            "\"{branding_domain_url}\",\"cell_phone\":\"3339998822\",\"company_"
            "name\":\"Fortis Payment Systems, LLC\",\"contact_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"date_of_birth\":\"2021-12-01\",\"domain_id\":\""
            "11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"email_"
            "trx_receipt\":true,\"home_phone\":\"3339998822\",\"first_name\":\""
            "John\",\"last_name\":\"Smith\",\"locale\":\"en-US\",\"office_phone"
            "\":\"3339998822\",\"office_ext_phone\":\"5\",\"primary_location_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_new_password\":null,\"t"
            "erms_condition_code\":\"20220308\",\"tz\":\"America/New_York\",\"u"
            "i_prefs\":{\"entry_page\":\"dashboard\",\"page_size\":2,\"report_e"
            "xport_type\":\"csv\",\"process_method\":\"virtual_terminal\",\"def"
            "ault_terminal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"username\":\"{user"
            "_name}\",\"user_api_key\":\"234bas8dfn8238f923w2\",\"user_hash_key"
            "\":null,\"user_type_code\":100,\"password\":null,\"zip\":\"48375\""
            ",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status_code\":1,\""
            "api_only\":false,\"is_invitation\":false,\"address\":{\"city\":\"N"
            "ovi\",\"state\":\"MI\",\"postal_code\":\"48375\",\"country\":\"US"
            "\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\":true,\"login_at"
            "tempts\":0,\"last_login_ts\":1422040992,\"created_ts\":1422040992,"
            "\"modified_ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbd"
            "b0a4f1a\",\"terms_accepted_ts\":1422040992,\"terms_agree_ip\":\"19"
            "2.168.0.10\",\"current_date_time\":\"2019-03-11T10:38:26-0700\",\""
            "current_login\":1422040992,\"log_api_response_body_ts\":1422040992"
            "},\"terminal_application\":{\"standalone\":true,\"emv_capable\":tr"
            "ue,\"nfc_capable\":false,\"pin_capable\":true,\"print_capable\":fa"
            "lse,\"msr_capable\":true,\"sig_capture_capable\":false,\"mpos_term"
            "inal\":false,\"title\":\"Ingenico Link2500\",\"id\":\"11e95f8ec39d"
            "e8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":142204099"
            "2,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"},\"changelogs\""
            ":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,"
            "\"action\":\"CREATE\",\"model\":\"TransactionRequest\",\"model_id"
            "\":\"11ec829598f0d4008be9aba4\",\"user_id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"changelog_details\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"changelog_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"field\":\"next_ru"
            "n_ts\",\"old_value\":\"1643616000\"}],\"user\":{\"id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"username\":\"email@domain.com\",\"first_name\""
            ":\"Bob\",\"last_name\":\"Fairview\"}}],\"terminal_routers\":[{\"ma"
            "c_address\":\"3D:F2:C9:A6:B3:4F\",\"location_id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":14"
            "22040992,\"modified_ts\":1422040992,\"created_user_id\":\"11e95f8e"
            "c39de8fbdb0a4f1a\"}],\"has_terminal_routers\":true,\"terminal_cvm"
            "\":{\"terminal_manufacturer_code\":4,\"title\":\"CVM One\",\"conta"
            "ct_data\":null,\"contactless_data\":null,\"id\":\"11e95f8ec39de8fb"
            "db0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040992,\""
            "created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\"},\"terminal_manufacturer\":{\"titl"
            "e\":\"My terminal\",\"idtype\":\"mac\",\"code\":\"4\",\"created_ts"
            "\":1422040992,\"modified_ts\":1422040992,\"created_user_id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\"}}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

