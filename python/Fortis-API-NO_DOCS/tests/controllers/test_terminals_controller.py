# -*- coding: utf-8 -*-

"""
fortisapi

This file was automatically generated by APIMATIC v3.0 (
 https://www.apimatic.io ).
"""

import json

from tests.controllers.controller_test_base import ControllerTestBase
from apimatic_core.utilities.comparison_helper import ComparisonHelper
from fortisapi.api_helper import APIHelper
from fortisapi.models.page import Page
from fortisapi.models.order_19 import Order19
from fortisapi.models.filter_by import FilterBy


class TerminalsControllerTests(ControllerTestBase):

    controller = None

    @classmethod
    def setUpClass(cls):
        super(TerminalsControllerTests, cls).setUpClass()
        cls.controller = cls.client.terminals
        cls.response_catcher = cls.controller.http_call_back

    # List all terminals related
    def test_list_all_terminals_related(self):
        # Parameters for the API call
        page = None
        order = None
        filter_by = None
        expand = None
        format = None
        typeahead = None
        fields = None

        # Perform the API call through the SDK function
        result = self.controller.list_all_terminals_related(page, order, filter_by, expand, format, typeahead, fields)

        # Test response code
        assert self.response_catcher.response.status_code == 200

        # Test headers
        expected_headers = {}
        expected_headers['content-type'] = 'application/json'

        assert ComparisonHelper.match_headers(expected_headers, self.response_catcher.response.headers)

        
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize('{"type":"TerminalsCollection","list":[{"location_id":"11e95f8ec39d'
            'e8fbdb0a4f1a","default_product_transaction_id":"11e95f8ec39de8fbdb'
            '0a4f1a","terminal_application_id":"11e95f8ec39de8fbdb0a4f1a","term'
            'inal_cvm_id":"11e95f8ec39de8fbdb0a4f1a","terminal_manufacturer_cod'
            'e":"1","title":"My terminal","mac_address":"3D:F2:C9:A6:B3:4F","lo'
            'cal_ip_address":"192.168.0.10","port":10009,"serial_number":"12345'
            '67890","terminal_number":"973456789012367","terminal_timeouts":{"c'
            'ard_entry_timeout":47,"device_terms_prompt_timeout":30,"overall_ti'
            'meout":125,"pin_entry_timeout":40,"signature_input_timeout":35,"si'
            'gnature_submit_timeout":38,"status_display_time":12,"tip_cashback_'
            'timeout":25,"transaction_timeout":17},"tip_percents":{"percent_1":'
            '0,"percent_2":2,"percent_3":99},"header_line_1":"line 1 sample","h'
            'eader_line_2":"line 2 sample","header_line_3":"line 3 sample","hea'
            'der_line_4":"line 4 sample","header_line_5":"line 5 sample","trail'
            'er_line_1":"trailer 1 sample","trailer_line_2":"trailer 2 sample",'
            '"trailer_line_3":"trailer 3 sample","trailer_line_4":"trailer 4 sa'
            'mple","trailer_line_5":"trailer 5 sample","default_checkin":"2021-'
            '12-01","default_checkout":"2021-12-01","default_room_rate":56,"def'
            'ault_room_number":"303","debit":false,"emv":false,"cashback_enable'
            '":false,"print_enable":false,"sig_capture_enable":false,"is_provis'
            'ioned":false,"tip_enable":false,"validated_decryption":false,"comm'
            'unication_type":"http","active":true,"id":"11e95f8ec39de8fbdb0a4f1'
            'a","created_ts":1422040992,"modified_ts":1422040992,"last_registra'
            'tion_ts":1422040992,"created_user_id":"11e95f8ec39de8fbdb0a4f1a","'
            'modified_user_id":"11e95f8ec39de8fbdb0a4f1a","location":{"id":"11e'
            '95f8ec39de8fbdb0a4f1a","created_ts":1422040992,"modified_ts":14220'
            '40992,"account_number":"5454545454545454","address":{"city":"Novi"'
            ',"state":"MI","postal_code":"48375","country":"US"},"branding_doma'
            'in_id":"11e95f8ec39de8fbdb0a4f1a","contact_email_trx_receipt_defau'
            'lt":true,"default_ach":"11e608a7d515f1e093242bb2","default_cc":"11'
            'e608a442a5f1e092242dda","email_reply_to":"email@domain.com","fax":'
            '"3339998822","location_api_id":"location-111111","location_api_key'
            '":"AE34BBCAADF4AE34BBCAADF4","location_c1":"custom 1","location_c2'
            '":"custom 2","location_c3":"custom data 3","name":"Sample Company '
            'Headquarters","office_phone":"2481234567","office_ext_phone":"1021'
            '021209","tz":"America/New_York","parent_id":"11e95f8ec39de8fbdb0a4'
            'f1a","show_contact_notes":true,"show_contact_files":true,"created_'
            'user_id":"11e95f8ec39de8fbdb0a4f1a","location_type":"merchant","ti'
            'cket_hash_key":"A5F443CADF4AE34BBCAADF4"},"created_user":{"account'
            '_number":"5454545454545454","branding_domain_url":"{branding_domai'
            'n_url}","cell_phone":"3339998822","company_name":"Fortis Payment S'
            'ystems, LLC","contact_id":"11e95f8ec39de8fbdb0a4f1a","date_of_birt'
            'h":"2021-12-01","domain_id":"11e95f8ec39de8fbdb0a4f1a","email":"em'
            'ail@domain.com","email_trx_receipt":true,"home_phone":"3339998822"'
            ',"first_name":"John","last_name":"Smith","locale":"en-US","office_'
            'phone":"3339998822","office_ext_phone":"5","primary_location_id":"'
            '11e95f8ec39de8fbdb0a4f1a","requires_new_password":null,"terms_cond'
            'ition_code":"20220308","tz":"America/New_York","ui_prefs":{"entry_'
            'page":"dashboard","page_size":2,"report_export_type":"csv","proces'
            's_method":"virtual_terminal","default_terminal":"11e95f8ec39de8fbd'
            'b0a4f1a"},"username":"{user_name}","user_api_key":"234bas8dfn8238f'
            '923w2","user_hash_key":null,"user_type_code":100,"password":null,"'
            'zip":"48375","location_id":"11e95f8ec39de8fbdb0a4f1a","status_code'
            '":1,"api_only":false,"is_invitation":false,"address":{"city":"Novi'
            '","state":"MI","postal_code":"48375","country":"US"},"id":"11e95f8'
            'ec39de8fbdb0a4f1a","status":true,"login_attempts":0,"last_login_ts'
            '":1422040992,"created_ts":1422040992,"modified_ts":1422040992,"cre'
            'ated_user_id":"11e95f8ec39de8fbdb0a4f1a","terms_accepted_ts":14220'
            '40992,"terms_agree_ip":"192.168.0.10","current_date_time":"2019-03'
            '-11T10:38:26-0700","current_login":1422040992,"log_api_response_bo'
            'dy_ts":1422040992},"terminal_application":{"standalone":true,"emv_'
            'capable":true,"nfc_capable":false,"pin_capable":true,"print_capabl'
            'e":false,"msr_capable":true,"sig_capture_capable":false,"mpos_term'
            'inal":false,"title":"Ingenico Link2500","id":"11e95f8ec39de8fbdb0a'
            '4f1a","created_ts":1422040992,"modified_ts":1422040992,"created_us'
            'er_id":"11e95f8ec39de8fbdb0a4f1a"},"changelogs":[{"id":"11e95f8ec3'
            '9de8fbdb0a4f1a","created_ts":1422040992,"action":"CREATE","model":'
            '"TransactionRequest","model_id":"11ec829598f0d4008be9aba4","user_i'
            'd":"11e95f8ec39de8fbdb0a4f1a","changelog_details":[{"id":"11e95f8e'
            'c39de8fbdb0a4f1a","changelog_id":"11e95f8ec39de8fbdb0a4f1a","field'
            '":"next_run_ts","old_value":"1643616000"}],"user":{"id":"11e95f8ec'
            '39de8fbdb0a4f1a","username":"email@domain.com","first_name":"Bob",'
            '"last_name":"Fairview"}}],"terminal_routers":[{"mac_address":"3D:F'
            '2:C9:A6:B3:4F","location_id":"11e95f8ec39de8fbdb0a4f1a","id":"11e9'
            '5f8ec39de8fbdb0a4f1a","created_ts":1422040992,"modified_ts":142204'
            '0992,"created_user_id":"11e95f8ec39de8fbdb0a4f1a"}],"has_terminal_'
            'routers":true,"terminal_cvm":{"terminal_manufacturer_code":4,"titl'
            'e":"CVM One","contact_data":null,"contactless_data":null,"id":"11e'
            '95f8ec39de8fbdb0a4f1a","created_ts":1422040992,"modified_ts":14220'
            '40992,"created_user_id":"11e95f8ec39de8fbdb0a4f1a","modified_user_'
            'id":"11e95f8ec39de8fbdb0a4f1a"},"terminal_manufacturer":{"title":"'
            'My terminal","idtype":"mac","code":"4","created_ts":1422040992,"mo'
            'dified_ts":1422040992,"created_user_id":"11e95f8ec39de8fbdb0a4f1a"'
            ',"modified_user_id":"11e95f8ec39de8fbdb0a4f1a"}}],"links":{"type":'
            '"Links","first":"/v1/endpoint?page[size]=10&page[number]=1","previ'
            'ous":"/v1/endpoint?page[size]=10&page[number]=5","next":"/v1/endpo'
            'int?page[size]=10&page[number]=7","last":"/v1/endpoint?page[size]='
            '10&page[number]=42"},"pagination":{"type":"Pagination","total_coun'
            't":423,"page_count":42,"page_number":6,"page_size":10},"sort":{"ty'
            'pe":"Sorting","fields":[{"field":"last_name","order":"asc"}]}}')
        received_body = APIHelper.json_deserialize(self.response_catcher.response.text)
        assert ComparisonHelper.match_body(expected_body, received_body)

    # View single terminals record
    def test_view_single_terminals_record(self):
        # Parameters for the API call
        terminal_id = '11e95f8ec39de8fbdb0a4f1a'
        expand = None
        fields = None

        # Perform the API call through the SDK function
        result = self.controller.view_single_terminals_record(terminal_id, expand, fields)

        # Test response code
        assert self.response_catcher.response.status_code == 200

        # Test headers
        expected_headers = {}
        expected_headers['content-type'] = 'application/json'

        assert ComparisonHelper.match_headers(expected_headers, self.response_catcher.response.headers)

        
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize('{"type":"Terminal","data":{"location_id":"11e95f8ec39de8fbdb0a4f1a'
            '","default_product_transaction_id":"11e95f8ec39de8fbdb0a4f1a","ter'
            'minal_application_id":"11e95f8ec39de8fbdb0a4f1a","terminal_cvm_id"'
            ':"11e95f8ec39de8fbdb0a4f1a","terminal_manufacturer_code":"1","titl'
            'e":"My terminal","mac_address":"3D:F2:C9:A6:B3:4F","local_ip_addre'
            'ss":"192.168.0.10","port":10009,"serial_number":"1234567890","term'
            'inal_number":"973456789012367","terminal_timeouts":{"card_entry_ti'
            'meout":47,"device_terms_prompt_timeout":30,"overall_timeout":125,"'
            'pin_entry_timeout":40,"signature_input_timeout":35,"signature_subm'
            'it_timeout":38,"status_display_time":12,"tip_cashback_timeout":25,'
            '"transaction_timeout":17},"tip_percents":{"percent_1":0,"percent_2'
            '":2,"percent_3":99},"header_line_1":"line 1 sample","header_line_2'
            '":"line 2 sample","header_line_3":"line 3 sample","header_line_4":'
            '"line 4 sample","header_line_5":"line 5 sample","trailer_line_1":"'
            'trailer 1 sample","trailer_line_2":"trailer 2 sample","trailer_lin'
            'e_3":"trailer 3 sample","trailer_line_4":"trailer 4 sample","trail'
            'er_line_5":"trailer 5 sample","default_checkin":"2021-12-01","defa'
            'ult_checkout":"2021-12-01","default_room_rate":56,"default_room_nu'
            'mber":"303","debit":false,"emv":false,"cashback_enable":false,"pri'
            'nt_enable":false,"sig_capture_enable":false,"is_provisioned":false'
            ',"tip_enable":false,"validated_decryption":false,"communication_ty'
            'pe":"http","active":true,"id":"11e95f8ec39de8fbdb0a4f1a","created_'
            'ts":1422040992,"modified_ts":1422040992,"last_registration_ts":142'
            '2040992,"created_user_id":"11e95f8ec39de8fbdb0a4f1a","modified_use'
            'r_id":"11e95f8ec39de8fbdb0a4f1a","location":{"id":"11e95f8ec39de8f'
            'bdb0a4f1a","created_ts":1422040992,"modified_ts":1422040992,"accou'
            'nt_number":"5454545454545454","address":{"city":"Novi","state":"MI'
            '","postal_code":"48375","country":"US"},"branding_domain_id":"11e9'
            '5f8ec39de8fbdb0a4f1a","contact_email_trx_receipt_default":true,"de'
            'fault_ach":"11e608a7d515f1e093242bb2","default_cc":"11e608a442a5f1'
            'e092242dda","email_reply_to":"email@domain.com","fax":"3339998822"'
            ',"location_api_id":"location-111111","location_api_key":"AE34BBCAA'
            'DF4AE34BBCAADF4","location_c1":"custom 1","location_c2":"custom 2"'
            ',"location_c3":"custom data 3","name":"Sample Company Headquarters'
            '","office_phone":"2481234567","office_ext_phone":"1021021209","tz"'
            ':"America/New_York","parent_id":"11e95f8ec39de8fbdb0a4f1a","show_c'
            'ontact_notes":true,"show_contact_files":true,"created_user_id":"11'
            'e95f8ec39de8fbdb0a4f1a","location_type":"merchant","ticket_hash_ke'
            'y":"A5F443CADF4AE34BBCAADF4"},"created_user":{"account_number":"54'
            '54545454545454","branding_domain_url":"{branding_domain_url}","cel'
            'l_phone":"3339998822","company_name":"Fortis Payment Systems, LLC"'
            ',"contact_id":"11e95f8ec39de8fbdb0a4f1a","date_of_birth":"2021-12-'
            '01","domain_id":"11e95f8ec39de8fbdb0a4f1a","email":"email@domain.c'
            'om","email_trx_receipt":true,"home_phone":"3339998822","first_name'
            '":"John","last_name":"Smith","locale":"en-US","office_phone":"3339'
            '998822","office_ext_phone":"5","primary_location_id":"11e95f8ec39d'
            'e8fbdb0a4f1a","requires_new_password":null,"terms_condition_code":'
            '"20220308","tz":"America/New_York","ui_prefs":{"entry_page":"dashb'
            'oard","page_size":2,"report_export_type":"csv","process_method":"v'
            'irtual_terminal","default_terminal":"11e95f8ec39de8fbdb0a4f1a"},"u'
            'sername":"{user_name}","user_api_key":"234bas8dfn8238f923w2","user'
            '_hash_key":null,"user_type_code":100,"password":null,"zip":"48375"'
            ',"location_id":"11e95f8ec39de8fbdb0a4f1a","status_code":1,"api_onl'
            'y":false,"is_invitation":false,"address":{"city":"Novi","state":"M'
            'I","postal_code":"48375","country":"US"},"id":"11e95f8ec39de8fbdb0'
            'a4f1a","status":true,"login_attempts":0,"last_login_ts":1422040992'
            ',"created_ts":1422040992,"modified_ts":1422040992,"created_user_id'
            '":"11e95f8ec39de8fbdb0a4f1a","terms_accepted_ts":1422040992,"terms'
            '_agree_ip":"192.168.0.10","current_date_time":"2019-03-11T10:38:26'
            '-0700","current_login":1422040992,"log_api_response_body_ts":14220'
            '40992},"terminal_application":{"standalone":true,"emv_capable":tru'
            'e,"nfc_capable":false,"pin_capable":true,"print_capable":false,"ms'
            'r_capable":true,"sig_capture_capable":false,"mpos_terminal":false,'
            '"title":"Ingenico Link2500","id":"11e95f8ec39de8fbdb0a4f1a","creat'
            'ed_ts":1422040992,"modified_ts":1422040992,"created_user_id":"11e9'
            '5f8ec39de8fbdb0a4f1a"},"changelogs":[{"id":"11e95f8ec39de8fbdb0a4f'
            '1a","created_ts":1422040992,"action":"CREATE","model":"Transaction'
            'Request","model_id":"11ec829598f0d4008be9aba4","user_id":"11e95f8e'
            'c39de8fbdb0a4f1a","changelog_details":[{"id":"11e95f8ec39de8fbdb0a'
            '4f1a","changelog_id":"11e95f8ec39de8fbdb0a4f1a","field":"next_run_'
            'ts","old_value":"1643616000"}],"user":{"id":"11e95f8ec39de8fbdb0a4'
            'f1a","username":"email@domain.com","first_name":"Bob","last_name":'
            '"Fairview"}}],"terminal_routers":[{"mac_address":"3D:F2:C9:A6:B3:4'
            'F","location_id":"11e95f8ec39de8fbdb0a4f1a","id":"11e95f8ec39de8fb'
            'db0a4f1a","created_ts":1422040992,"modified_ts":1422040992,"create'
            'd_user_id":"11e95f8ec39de8fbdb0a4f1a"}],"has_terminal_routers":tru'
            'e,"terminal_cvm":{"terminal_manufacturer_code":4,"title":"CVM One"'
            ',"contact_data":null,"contactless_data":null,"id":"11e95f8ec39de8f'
            'bdb0a4f1a","created_ts":1422040992,"modified_ts":1422040992,"creat'
            'ed_user_id":"11e95f8ec39de8fbdb0a4f1a","modified_user_id":"11e95f8'
            'ec39de8fbdb0a4f1a"},"terminal_manufacturer":{"title":"My terminal"'
            ',"idtype":"mac","code":"4","created_ts":1422040992,"modified_ts":1'
            '422040992,"created_user_id":"11e95f8ec39de8fbdb0a4f1a","modified_u'
            'ser_id":"11e95f8ec39de8fbdb0a4f1a"}}}')
        received_body = APIHelper.json_deserialize(self.response_catcher.response.text)
        assert ComparisonHelper.match_body(expected_body, received_body)

