
"""
fortisapi

This file was automatically generated by APIMATIC v3.0 (
 https://www.apimatic.io ).
"""

# ruff: noqa: PLR0915, W291
from apimatic_core.utilities.comparison_helper import (
    ComparisonHelper,
)

from fortisapi.api_helper import APIHelper
from tests.controllers.controller_test_base import (
    ControllerTestBase,
)


class QuickInvoicesControllerTests(ControllerTestBase):
    """
    Endpoint tests for validating the API behavior.

    Ensures controller methods execute correctly and produce the expected
    responses using the shared test client and response catcher.
    """

    controller = None

    @classmethod
    def setUpClass(cls):
        """
        Initialize the shared test client and controller for all test methods.
        """
        super().setUpClass()
        cls.controller = cls.client.quick_invoices
        cls.response_catcher = cls.controller.http_call_back

    def test_list_all_quick_invoices_related(self):
        """
        List all quick invoices related.
        """
        # Parameters for the API call
        page = None
        order = None
        filter_by = None
        expand = None
        format = None
        typeahead = None
        fields = None

        # Perform the API call through the SDK function
        result = self.controller.list_all_quick_invoices_related(
            page,
            order,
            filter_by,
            expand,
            format,
            typeahead,
            fields,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 200
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"QuickInvoicesCollection\",\"list\":[{\"location_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"title\":\"My terminal\",\"cc_produc"
            "t_transaction_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ach_product_tran"
            "saction_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"due_date\":\"2021-12-0"
            "1\",\"item_list\":[{\"name\":\"Bread\",\"amount\":2015}],\"allow_o"
            "verpayment\":true,\"bank_funded_only_override\":true,\"email\":\"e"
            "mail@domain.com\",\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"co"
            "ntact_api_id\":\"contact12345\",\"quick_invoice_api_id\":\"quickin"
            "voice12345\",\"customer_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"expire"
            "_date\":\"2021-12-01\",\"allow_partial_pay\":true,\"attach_files_t"
            "o_email\":true,\"send_email\":true,\"invoice_number\":\"invoice123"
            "45\",\"item_header\":\"Quick invoice header sample\",\"item_footer"
            "\":\"Thank you\",\"amount_due\":245.36,\"notification_email\":\"em"
            "ail@domain.com\",\"status_id\":1,\"status_code\":1,\"note\":\"some"
            " note\",\"notification_days_before_due_date\":3,\"notification_day"
            "s_after_due_date\":7,\"notification_on_due_date\":true,\"send_text"
            "_to_pay\":true,\"files\":[{\"file\":{},\"resource_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"resource\":\"Contact\",\"product_file_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"file_category_id\":\"11e95f8ec39de8fbd"
            "b0a4f1a\",\"visibility_group_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"i"
            "d\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modif"
            "ied_ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\"}],\"remaining_balance\":245.36,\"single_payment_min_amount\":50"
            "0,\"single_payment_max_amount\":500000,\"cell_phone\":\"3339998822"
            "\",\"tags\":[{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"title"
            "\":\"My terminal\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_t"
            "s\":1422040992,\"modified_ts\":1422040992}],\"id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040992"
            ",\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_"
            "id\":\"11e95f8ec39de8fbdb0a4f1a\",\"active\":true,\"payment_status"
            "_id\":1,\"is_active\":true,\"quick_invoice_setting\":{\"location_a"
            "pi_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"location_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"quick_invoice_template\":\"<html>Template<html>"
            "\",\"default_allow_partial_pay\":true,\"default_notification_on_du"
            "e_date\":true,\"default_notification_days_after_due_date\":7,\"def"
            "ault_notification_days_before_due_date\":3,\"id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\"},\"quick_invoice_views\":[{\"id\":\"11e95f8ec39de8fbd"
            "b0a4f1a\",\"quick_invoice_id\":\"Quick Invoice ID\",\"created_ts\""
            ":1422040992}],\"location\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "created_ts\":1422040992,\"modified_ts\":1422040992,\"account_numbe"
            "r\":\"5454545454545454\",\"address\":{\"city\":\"Novi\",\"state\":"
            "\"MI\",\"postal_code\":\"48375\",\"country\":\"US\"},\"branding_do"
            "main_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_email_trx_receipt"
            "_default\":true,\"default_ach\":\"11e608a7d515f1e093242bb2\",\"def"
            "ault_cc\":\"11e608a442a5f1e092242dda\",\"email_reply_to\":\"email@"
            "domain.com\",\"fax\":\"3339998822\",\"location_api_id\":\"location"
            "-111111\",\"location_api_key\":\"AE34BBCAADF4AE34BBCAADF4\",\"loca"
            "tion_c1\":\"custom 1\",\"location_c2\":\"custom 2\",\"location_c3"
            "\":\"custom data 3\",\"name\":\"Sample Company Headquarters\",\"of"
            "fice_phone\":\"2481234567\",\"office_ext_phone\":\"1021021209\",\""
            "tz\":\"America/New_York\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"show_contact_notes\":true,\"show_contact_files\":true,\"creat"
            "ed_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"location_type\":\"merc"
            "hant\",\"ticket_hash_key\":\"A5F443CADF4AE34BBCAADF4\"},\"created_"
            "user\":{\"account_number\":\"5454545454545454\",\"branding_domain_"
            "url\":\"{branding_domain_url}\",\"cell_phone\":\"3339998822\",\"co"
            "mpany_name\":\"Fortis Payment Systems, LLC\",\"contact_id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"date_of_birth\":\"2021-12-01\",\"domain_i"
            "d\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\""
            "email_trx_receipt\":true,\"home_phone\":\"3339998822\",\"first_nam"
            "e\":\"John\",\"last_name\":\"Smith\",\"locale\":\"en-US\",\"office"
            "_phone\":\"3339998822\",\"office_ext_phone\":\"5\",\"primary_locat"
            "ion_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_new_password\":nu"
            "ll,\"terms_condition_code\":\"20220308\",\"tz\":\"America/New_York"
            "\",\"ui_prefs\":{\"entry_page\":\"dashboard\",\"page_size\":2,\"re"
            "port_export_type\":\"csv\",\"process_method\":\"virtual_terminal\""
            ",\"default_terminal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"username\":"
            "\"{user_name}\",\"user_api_key\":\"234bas8dfn8238f923w2\",\"user_h"
            "ash_key\":null,\"user_type_code\":100,\"password\":null,\"zip\":\""
            "48375\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status_code"
            "\":1,\"api_only\":false,\"is_invitation\":false,\"address\":{\"cit"
            "y\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"48375\",\"country"
            "\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\":true,\"l"
            "ogin_attempts\":0,\"last_login_ts\":1422040992,\"created_ts\":1422"
            "040992,\"modified_ts\":1422040992,\"created_user_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"terms_accepted_ts\":1422040992,\"terms_agree_ip"
            "\":\"192.168.0.10\",\"current_date_time\":\"2019-03-11T10:38:26-07"
            "00\",\"current_login\":1422040992,\"log_api_response_body_ts\":142"
            "2040992},\"modified_user\":{\"account_number\":\"5454545454545454"
            "\",\"branding_domain_url\":\"{branding_domain_url}\",\"cell_phone"
            "\":\"3339998822\",\"company_name\":\"Fortis Payment Systems, LLC\""
            ",\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"date_of_birth\":\"2"
            "021-12-01\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":"
            "\"email@domain.com\",\"email_trx_receipt\":true,\"home_phone\":\"3"
            "339998822\",\"first_name\":\"John\",\"last_name\":\"Smith\",\"loca"
            "le\":\"en-US\",\"office_phone\":\"3339998822\",\"office_ext_phone"
            "\":\"5\",\"primary_location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"re"
            "quires_new_password\":null,\"terms_condition_code\":\"20220308\","
            "\"tz\":\"America/New_York\",\"ui_prefs\":{\"entry_page\":\"dashboa"
            "rd\",\"page_size\":2,\"report_export_type\":\"csv\",\"process_meth"
            "od\":\"virtual_terminal\",\"default_terminal\":\"11e95f8ec39de8fbd"
            "b0a4f1a\"},\"username\":\"{user_name}\",\"user_api_key\":\"234bas8"
            "dfn8238f923w2\",\"user_hash_key\":null,\"user_type_code\":100,\"pa"
            "ssword\":null,\"zip\":\"48375\",\"location_id\":\"11e95f8ec39de8fb"
            "db0a4f1a\",\"status_code\":1,\"api_only\":false,\"is_invitation\":"
            "false,\"address\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_cod"
            "e\":\"48375\",\"country\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1"
            "a\",\"status\":true,\"login_attempts\":0,\"last_login_ts\":1422040"
            "992,\"created_ts\":1422040992,\"modified_ts\":1422040992,\"created"
            "_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"terms_accepted_ts\":1422"
            "040992,\"terms_agree_ip\":\"192.168.0.10\",\"current_date_time\":"
            "\"2019-03-11T10:38:26-0700\",\"current_login\":1422040992,\"log_ap"
            "i_response_body_ts\":1422040992},\"changelogs\":[{\"id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"action\":\"CREATE"
            "\",\"model\":\"TransactionRequest\",\"model_id\":\"11ec829598f0d40"
            "08be9aba4\",\"user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_d"
            "etails\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_id\":\""
            "11e95f8ec39de8fbdb0a4f1a\",\"field\":\"next_run_ts\",\"old_value\""
            ":\"1643616000\"}],\"user\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "username\":\"email@domain.com\",\"first_name\":\"Bob\",\"last_name"
            "\":\"Fairview\"}}],\"contact\":{\"location_id\":\"11e95f8ec39de8fb"
            "db0a4f1a\",\"account_number\":\"54545433332\",\"contact_api_id\":"
            "\"137\",\"first_name\":\"John\",\"last_name\":\"Smith\",\"cell_pho"
            "ne\":\"3339998822\",\"balance\":245.36,\"address\":{\"city\":\"Nov"
            "i\",\"state\":\"Michigan\",\"postal_code\":\"48375\",\"country\":"
            "\"US\"},\"company_name\":\"Fortis Payment Systems, LLC\",\"header_"
            "message\":\"This is a sample message for you\",\"date_of_birth\":"
            "\"2021-12-01\",\"email_trx_receipt\":true,\"home_phone\":\"3339998"
            "822\",\"office_phone\":\"3339998822\",\"office_phone_ext\":\"5\","
            "\"header_message_type\":0,\"update_if_exists\":1,\"contact_c1\":\""
            "any\",\"contact_c2\":\"anything\",\"contact_c3\":\"something\",\"p"
            "arent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.c"
            "om\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992"
            ",\"modified_ts\":1422040992,\"active\":true,\"created_user_id\":\""
            "11e95f8ec39de8fbdb0a4f1a\"},\"log_emails\":[{\"subject\":\"Payment"
            " Receipt - 12skiestech\",\"body\":\"This email is being sent from "
            "a server.\",\"source_address\":\"\\\"12skiestech A7t3qi\\\" <norep"
            "ly@zeamster.email>\",\"return_path\":\"\\\"12skiestech A7t3qi\\\" "
            "<noreply@zeamster.email>\",\"provider_id\":\"0100017e67bcc530-e1dd"
            "23b4-8a39-4a5b-8d5d-68d51c4c942f-000000\",\"domain_id\":\"11e95f8e"
            "c39de8fbdb0a4f1a\",\"reason_sent\":\"Contact Email\",\"reason_mode"
            "l\":\"Transaction\",\"reason_model_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"reply_to\":\"\\\"Zeamster\\\" <emma.p@zeamster.com>\",\"id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992}],\"log_sms"
            "\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"body\":\" \",\"reason_mo"
            "del\":\" \",\"reason_model_id\":\" \",\"provider_id\":\" \",\"stat"
            "us\":\" \",\"sender\":\" \",\"recipient\":\" \",\"created_ts\":142"
            "2040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"},\"transa"
            "ctions\":[{\"additional_amounts\":[{\"type\":\"cashback\",\"amount"
            "\":10,\"account_type\":\"credit\",\"currency\":840}],\"billing_add"
            "ress\":{\"city\":\"Novi\",\"state\":\"Michigan\",\"postal_code\":"
            "\"48375\",\"phone\":\"3339998822\",\"country\":\"USA\"},\"checkin_"
            "date\":\"2021-12-01\",\"checkout_date\":\"2021-12-01\",\"clerk_num"
            "ber\":\"AE1234\",\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cus"
            "tom_data\":{},\"customer_id\":\"customerid\",\"description\":\"som"
            "e description\",\"identity_verification\":{\"dl_state\":\"MI\",\"d"
            "l_number\":\"1235567\",\"dob_year\":\"1980\"},\"iias_ind\":1,\"ima"
            "ge_front\":\"U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=\",\""
            "image_back\":\"U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=\","
            "\"installment\":true,\"installment_number\":1,\"installment_count"
            "\":1,\"location_api_id\":\"location-api-id-florida-2\",\"location_"
            "id\":\"11e95f8ec39de8fbdb0a4f1a\",\"product_transaction_id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"advance_deposit\":false,\"no_show\":fals"
            "e,\"notification_email_address\":\"johnsmith@smiths.com\",\"order_"
            "number\":\"433659378839\",\"po_number\":\"555555553123\",\"quick_i"
            "nvoice_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"recurring\":false,\"rec"
            "urring_number\":1,\"room_num\":\"303\",\"room_rate\":95,\"save_acc"
            "ount\":false,\"save_account_title\":\"John Account\",\"subtotal_am"
            "ount\":599,\"surcharge_amount\":100,\"tags\":[\"Walk-in Customer\""
            "],\"tax\":0,\"tip_amount\":0,\"transaction_amount\":0,\"secondary_"
            "amount\":0,\"transaction_api_id\":\"transaction-payment-abcd123\","
            "\"transaction_c1\":\"custom-data-1\",\"transaction_c2\":\"custom-d"
            "ata-2\",\"transaction_c3\":\"custom-data-3\",\"bank_funded_only_ov"
            "erride\":false,\"allow_partial_authorization_override\":false,\"au"
            "to_decline_cvv_override\":false,\"auto_decline_street_override\":f"
            "alse,\"auto_decline_zip_override\":false,\"id\":\"11e95f8ec39de8fb"
            "db0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040992,\""
            "terminal_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_holder_name\""
            ":\"smith\",\"account_type\":\"checking\",\"token_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"ach_identifier\":\"P\",\"ach_sec_code\":\"C21\""
            ",\"auth_amount\":1,\"auth_code\":\"BR349K\",\"avs\":\"BAD\",\"avs_"
            "enhanced\":\"N\",\"cardholder_present\":true,\"card_present\":true"
            ",\"check_number\":\"8520748520963\",\"customer_ip\":\"192.168.0.10"
            "\",\"cvv_response\":\"N\",\"entry_mode_id\":\"C\",\"emv_receipt_da"
            "ta\":{\"AID\":\"a0000000042203\",\"APPLAB\":\"US Maestro\",\"APPN"
            "\":\"US Maestro\",\"CVM\":\"Pin Verified\",\"TSI\":\"e800\",\"TVR"
            "\":\"0800008000\"},\"first_six\":\"545454\",\"last_four\":\"5454\""
            ",\"payment_method\":\"cc\",\"terminal_serial_number\":\"1234567890"
            "\",\"transaction_settlement_status\":null,\"charge_back_date\":\"2"
            "021-12-01\",\"is_recurring\":true,\"notification_email_sent\":true"
            ",\"par\":\"Q1J4Z28RKA1EBL470G9XYG90R5D3E\",\"reason_code_id\":1000"
            ",\"recurring_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"settle_date\":\"2"
            "021-12-01\",\"status_code\":101,\"transaction_batch_id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"verbiage\":\"APPROVED\",\"void_date\":\"2021"
            "-12-01\",\"batch\":\"2\",\"terms_agree\":true,\"response_message\""
            ":null,\"return_date\":\"2021-12-01\",\"trx_source_id\":8,\"routing"
            "_number\":\"051904524\",\"trx_source_code\":8,\"paylink_id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"is_accountvault\":true,\"created_user_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"effective_date\":\"2021-12-01\",\"is_token\":tru"
            "e,\"installment_total\":1,\"installment_counter\":1,\"account_vaul"
            "t_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"hosted_payment_page_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\"}],\"cc_product_transaction\":{\"processo"
            "r_version\":\"1_0_0\",\"title\":\"My terminal\",\"payment_method\""
            ":\"cc\",\"processor\":\"zgate\",\"mcc\":\"1111\",\"tax_surcharge_c"
            "onfig\":2,\"partner\":\"standalone\",\"location_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"surcharge\":{},\"processor_data\":{},\"vt_clerk_"
            "number\":true,\"vt_billing_phone\":true,\"vt_enable_tip\":true,\"a"
            "ch_allow_debit\":true,\"ach_allow_credit\":true,\"ach_allow_refund"
            "\":true,\"vt_cvv\":true,\"vt_street\":true,\"vt_zip\":true,\"vt_or"
            "der_num\":true,\"vt_enable\":true,\"receipt_show_contact_name\":tr"
            "ue,\"display_avs\":true,\"card_type_visa\":true,\"card_type_mc\":t"
            "rue,\"card_type_disc\":true,\"card_type_amex\":true,\"card_type_di"
            "ners\":true,\"card_type_jcb\":true,\"invoice_location\":true,\"all"
            "ow_partial_authorization\":true,\"allow_recurring_partial_authoriz"
            "ation\":true,\"auto_decline_cvv\":true,\"auto_decline_street\":tru"
            "e,\"auto_decline_zip\":true,\"split_payments_allow\":true,\"vt_sho"
            "w_custom_fields\":true,\"receipt_show_custom_fields\":true,\"vt_ov"
            "erride_sales_tax_allowed\":true,\"vt_enable_sales_tax\":true,\"vt_"
            "require_zip\":true,\"vt_require_street\":true,\"auto_decline_cavv"
            "\":true,\"current_batch\":34,\"dup_check_per_batch\":null,\"paylin"
            "k_allow\":false,\"quick_invoice_allow\":false,\"level3_allow\":fal"
            "se,\"payfac_enable\":false,\"sales_office_id\":\"11e95f8ec39de8fbd"
            "b0a4f1a\",\"hosted_payment_page_allow\":false,\"surcharge_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"level3_default\":{},\"cau_subscribe_ty"
            "pe_id\":0,\"location_billing_account_id\":\"11eb88b873980c64a21e5f"
            "d2\",\"product_billing_group_id\":\"nofees\",\"account_number\":\""
            "12345678\",\"run_avs_on_accountvault_create\":false,\"accountvault"
            "_expire_notification_email_enable\":false,\"debit_allow_void\":fal"
            "se,\"quick_invoice_text_to_pay\":false,\"sms_enable\":false,\"vt_s"
            "how_currency\":true,\"receipt_show_currency\":false,\"allow_blind_"
            "refund\":false,\"vt_show_company_name\":false,\"receipt_show_compa"
            "ny_name\":false,\"bank_funded_only\":false,\"require_cvv_on_keyed_"
            "cnp\":true,\"require_cvv_on_tokenized_cnp\":true,\"show_secondary_"
            "amount\":false,\"allow_secondary_amount\":false,\"show_google_pay"
            "\":true,\"show_apple_pay\":true,\"id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"active\":true,\"created_ts\":1422040992,\"modified_ts\":14220"
            "40992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_"
            "user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"product_transaction_api_i"
            "d\":\"11e95f8ec39de8fbdb0a4f1a\",\"is_secondary_amount_allowed\":f"
            "alse,\"batch_risk_config\":{},\"fortis_id\":\"8149742\",\"product_"
            "billing_group_code\":\"nofees\",\"cau_subscribe_type_code\":0},\"a"
            "ch_product_transaction\":{\"processor_version\":\"1_0_0\",\"title"
            "\":\"My terminal\",\"payment_method\":\"cc\",\"processor\":\"zgate"
            "\",\"mcc\":\"1111\",\"tax_surcharge_config\":2,\"partner\":\"stand"
            "alone\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"surcharge\""
            ":{},\"processor_data\":{},\"vt_clerk_number\":true,\"vt_billing_ph"
            "one\":true,\"vt_enable_tip\":true,\"ach_allow_debit\":true,\"ach_a"
            "llow_credit\":true,\"ach_allow_refund\":true,\"vt_cvv\":true,\"vt_"
            "street\":true,\"vt_zip\":true,\"vt_order_num\":true,\"vt_enable\":"
            "true,\"receipt_show_contact_name\":true,\"display_avs\":true,\"car"
            "d_type_visa\":true,\"card_type_mc\":true,\"card_type_disc\":true,"
            "\"card_type_amex\":true,\"card_type_diners\":true,\"card_type_jcb"
            "\":true,\"invoice_location\":true,\"allow_partial_authorization\":"
            "true,\"allow_recurring_partial_authorization\":true,\"auto_decline"
            "_cvv\":true,\"auto_decline_street\":true,\"auto_decline_zip\":true"
            ",\"split_payments_allow\":true,\"vt_show_custom_fields\":true,\"re"
            "ceipt_show_custom_fields\":true,\"vt_override_sales_tax_allowed\":"
            "true,\"vt_enable_sales_tax\":true,\"vt_require_zip\":true,\"vt_req"
            "uire_street\":true,\"auto_decline_cavv\":true,\"current_batch\":34"
            ",\"dup_check_per_batch\":null,\"paylink_allow\":false,\"quick_invo"
            "ice_allow\":false,\"level3_allow\":false,\"payfac_enable\":false,"
            "\"sales_office_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"hosted_payment_"
            "page_allow\":false,\"surcharge_id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"level3_default\":{},\"cau_subscribe_type_id\":0,\"location_billi"
            "ng_account_id\":\"11eb88b873980c64a21e5fd2\",\"product_billing_gro"
            "up_id\":\"nofees\",\"account_number\":\"12345678\",\"run_avs_on_ac"
            "countvault_create\":false,\"accountvault_expire_notification_email"
            "_enable\":false,\"debit_allow_void\":false,\"quick_invoice_text_to"
            "_pay\":false,\"sms_enable\":false,\"vt_show_currency\":true,\"rece"
            "ipt_show_currency\":false,\"allow_blind_refund\":false,\"vt_show_c"
            "ompany_name\":false,\"receipt_show_company_name\":false,\"bank_fun"
            "ded_only\":false,\"require_cvv_on_keyed_cnp\":true,\"require_cvv_o"
            "n_tokenized_cnp\":true,\"show_secondary_amount\":false,\"allow_sec"
            "ondary_amount\":false,\"show_google_pay\":true,\"show_apple_pay\":"
            "true,\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"active\":true,\"created"
            "_ts\":1422040992,\"modified_ts\":1422040992,\"created_user_id\":\""
            "11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39de8fb"
            "db0a4f1a\",\"product_transaction_api_id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"is_secondary_amount_allowed\":false,\"batch_risk_config\":{"
            "},\"fortis_id\":\"8149742\",\"product_billing_group_code\":\"nofee"
            "s\",\"cau_subscribe_type_code\":0},\"email_blacklist\":{\"id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"isBlacklisted\":true,\"detail\":true,"
            "\"created_ts\":1422040992},\"sms_blacklist\":{\"id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"isBlacklisted\":true,\"detail\":true,\"created_t"
            "s\":1422040992}}],\"links\":{\"type\":\"Links\",\"first\":\"/v1/en"
            "dpoint?page[size]=10&page[number]=1\",\"previous\":\"/v1/endpoint?"
            "page[size]=10&page[number]=5\",\"next\":\"/v1/endpoint?page[size]="
            "10&page[number]=7\",\"last\":\"/v1/endpoint?page[size]=10&page[num"
            "ber]=42\"},\"pagination\":{\"type\":\"Pagination\",\"total_count\""
            ":423,\"page_count\":42,\"page_number\":6,\"page_size\":10},\"sort"
            "\":{\"type\":\"Sorting\",\"fields\":[{\"field\":\"last_name\",\"or"
            "der\":\"asc\"}]}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_resend(self):
        """
        Resend.
        """
        # Parameters for the API call
        quick_invoice_id = "11e95f8ec39de8fbdb0a4f1a"
        expand = None
        email = None
        sms = None

        # Perform the API call through the SDK function
        result = self.controller.resend(
            quick_invoice_id,
            expand,
            email,
            sms,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 201
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"QuickInvoiceResend\",\"data\":{\"id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"email_log_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"sms_l"
            "og_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"success\":true,\"sms_succes"
            "s\":true,\"email\":\"email@domain.com\"}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_delete_quick_invoice(self):
        """
        Delete quick Invoice.
        """
        # Parameters for the API call
        quick_invoice_id = "11e95f8ec39de8fbdb0a4f1a"

        # Perform the API call through the SDK function
        result = self.controller.delete_quick_invoice(
            quick_invoice_id,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 204
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"QuickInvoice\",\"data\":{\"location_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"title\":\"My terminal\",\"cc_product_transaction"
            "_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ach_product_transaction_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"due_date\":\"2021-12-01\",\"item_li"
            "st\":[{\"name\":\"Bread\",\"amount\":2015}],\"allow_overpayment\":"
            "true,\"bank_funded_only_override\":true,\"email\":\"email@domain.c"
            "om\",\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_api_id"
            "\":\"contact12345\",\"quick_invoice_api_id\":\"quickinvoice12345\""
            ",\"customer_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"expire_date\":\"20"
            "21-12-01\",\"allow_partial_pay\":true,\"attach_files_to_email\":tr"
            "ue,\"send_email\":true,\"invoice_number\":\"invoice12345\",\"item_"
            "header\":\"Quick invoice header sample\",\"item_footer\":\"Thank y"
            "ou\",\"amount_due\":245.36,\"notification_email\":\"email@domain.c"
            "om\",\"status_id\":1,\"status_code\":1,\"note\":\"some note\",\"no"
            "tification_days_before_due_date\":3,\"notification_days_after_due_"
            "date\":7,\"notification_on_due_date\":true,\"send_text_to_pay\":tr"
            "ue,\"files\":[{\"file\":{},\"resource_id\":\"11e95f8ec39de8fbdb0a4"
            "f1a\",\"resource\":\"Contact\",\"product_file_id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"file_category_id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "visibility_group_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":142"
            "2040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}],\"remai"
            "ning_balance\":245.36,\"single_payment_min_amount\":500,\"single_p"
            "ayment_max_amount\":500000,\"cell_phone\":\"3339998822\",\"tags\":"
            "[{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"title\":\"My term"
            "inal\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":14220409"
            "92,\"modified_ts\":1422040992}],\"id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"created_"
            "user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"active\":true,\"payment_status_id\":1,\"i"
            "s_active\":true,\"quick_invoice_setting\":{\"location_api_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"location_id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"quick_invoice_template\":\"<html>Template<html>\",\"default"
            "_allow_partial_pay\":true,\"default_notification_on_due_date\":tru"
            "e,\"default_notification_days_after_due_date\":7,\"default_notific"
            "ation_days_before_due_date\":3,\"id\":\"11e95f8ec39de8fbdb0a4f1a\""
            "},\"quick_invoice_views\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "quick_invoice_id\":\"Quick Invoice ID\",\"created_ts\":1422040992}"
            "],\"location\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\""
            ":1422040992,\"modified_ts\":1422040992,\"account_number\":\"545454"
            "5454545454\",\"address\":{\"city\":\"Novi\",\"state\":\"MI\",\"pos"
            "tal_code\":\"48375\",\"country\":\"US\"},\"branding_domain_id\":\""
            "11e95f8ec39de8fbdb0a4f1a\",\"contact_email_trx_receipt_default\":t"
            "rue,\"default_ach\":\"11e608a7d515f1e093242bb2\",\"default_cc\":\""
            "11e608a442a5f1e092242dda\",\"email_reply_to\":\"email@domain.com\""
            ",\"fax\":\"3339998822\",\"location_api_id\":\"location-111111\",\""
            "location_api_key\":\"AE34BBCAADF4AE34BBCAADF4\",\"location_c1\":\""
            "custom 1\",\"location_c2\":\"custom 2\",\"location_c3\":\"custom d"
            "ata 3\",\"name\":\"Sample Company Headquarters\",\"office_phone\":"
            "\"2481234567\",\"office_ext_phone\":\"1021021209\",\"tz\":\"Americ"
            "a/New_York\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"show_con"
            "tact_notes\":true,\"show_contact_files\":true,\"created_user_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"location_type\":\"merchant\",\"tick"
            "et_hash_key\":\"A5F443CADF4AE34BBCAADF4\"},\"created_user\":{\"acc"
            "ount_number\":\"5454545454545454\",\"branding_domain_url\":\"{bran"
            "ding_domain_url}\",\"cell_phone\":\"3339998822\",\"company_name\":"
            "\"Fortis Payment Systems, LLC\",\"contact_id\":\"11e95f8ec39de8fbd"
            "b0a4f1a\",\"date_of_birth\":\"2021-12-01\",\"domain_id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"email_trx_rec"
            "eipt\":true,\"home_phone\":\"3339998822\",\"first_name\":\"John\","
            "\"last_name\":\"Smith\",\"locale\":\"en-US\",\"office_phone\":\"33"
            "39998822\",\"office_ext_phone\":\"5\",\"primary_location_id\":\"11"
            "e95f8ec39de8fbdb0a4f1a\",\"requires_new_password\":null,\"terms_co"
            "ndition_code\":\"20220308\",\"tz\":\"America/New_York\",\"ui_prefs"
            "\":{\"entry_page\":\"dashboard\",\"page_size\":2,\"report_export_t"
            "ype\":\"csv\",\"process_method\":\"virtual_terminal\",\"default_te"
            "rminal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"username\":\"{user_name}"
            "\",\"user_api_key\":\"234bas8dfn8238f923w2\",\"user_hash_key\":nul"
            "l,\"user_type_code\":100,\"password\":null,\"zip\":\"48375\",\"loc"
            "ation_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status_code\":1,\"api_on"
            "ly\":false,\"is_invitation\":false,\"address\":{\"city\":\"Novi\","
            "\"state\":\"MI\",\"postal_code\":\"48375\",\"country\":\"US\"},\"i"
            "d\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\":true,\"login_attempts"
            "\":0,\"last_login_ts\":1422040992,\"created_ts\":1422040992,\"modi"
            "fied_ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1"
            "a\",\"terms_accepted_ts\":1422040992,\"terms_agree_ip\":\"192.168."
            "0.10\",\"current_date_time\":\"2019-03-11T10:38:26-0700\",\"curren"
            "t_login\":1422040992,\"log_api_response_body_ts\":1422040992},\"mo"
            "dified_user\":{\"account_number\":\"5454545454545454\",\"branding_"
            "domain_url\":\"{branding_domain_url}\",\"cell_phone\":\"3339998822"
            "\",\"company_name\":\"Fortis Payment Systems, LLC\",\"contact_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\",\"date_of_birth\":\"2021-12-01\",\"d"
            "omain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.c"
            "om\",\"email_trx_receipt\":true,\"home_phone\":\"3339998822\",\"fi"
            "rst_name\":\"John\",\"last_name\":\"Smith\",\"locale\":\"en-US\","
            "\"office_phone\":\"3339998822\",\"office_ext_phone\":\"5\",\"prima"
            "ry_location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_new_passw"
            "ord\":null,\"terms_condition_code\":\"20220308\",\"tz\":\"America/"
            "New_York\",\"ui_prefs\":{\"entry_page\":\"dashboard\",\"page_size"
            "\":2,\"report_export_type\":\"csv\",\"process_method\":\"virtual_t"
            "erminal\",\"default_terminal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"use"
            "rname\":\"{user_name}\",\"user_api_key\":\"234bas8dfn8238f923w2\","
            "\"user_hash_key\":null,\"user_type_code\":100,\"password\":null,\""
            "zip\":\"48375\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"sta"
            "tus_code\":1,\"api_only\":false,\"is_invitation\":false,\"address"
            "\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"48375\","
            "\"country\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\""
            ":true,\"login_attempts\":0,\"last_login_ts\":1422040992,\"created_"
            "ts\":1422040992,\"modified_ts\":1422040992,\"created_user_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"terms_accepted_ts\":1422040992,\"terms"
            "_agree_ip\":\"192.168.0.10\",\"current_date_time\":\"2019-03-11T10"
            ":38:26-0700\",\"current_login\":1422040992,\"log_api_response_body"
            "_ts\":1422040992},\"changelogs\":[{\"id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"created_ts\":1422040992,\"action\":\"CREATE\",\"model\":\"T"
            "ransactionRequest\",\"model_id\":\"11ec829598f0d4008be9aba4\",\"us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_details\":[{\"id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"field\":\"next_run_ts\",\"old_value\":\"1643616000\""
            "}],\"user\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"username\":\"em"
            "ail@domain.com\",\"first_name\":\"Bob\",\"last_name\":\"Fairview\""
            "}}],\"contact\":{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ac"
            "count_number\":\"54545433332\",\"contact_api_id\":\"137\",\"first_"
            "name\":\"John\",\"last_name\":\"Smith\",\"cell_phone\":\"333999882"
            "2\",\"balance\":245.36,\"address\":{\"city\":\"Novi\",\"state\":\""
            "Michigan\",\"postal_code\":\"48375\",\"country\":\"US\"},\"company"
            "_name\":\"Fortis Payment Systems, LLC\",\"header_message\":\"This "
            "is a sample message for you\",\"date_of_birth\":\"2021-12-01\",\"e"
            "mail_trx_receipt\":true,\"home_phone\":\"3339998822\",\"office_pho"
            "ne\":\"3339998822\",\"office_phone_ext\":\"5\",\"header_message_ty"
            "pe\":0,\"update_if_exists\":1,\"contact_c1\":\"any\",\"contact_c2"
            "\":\"anything\",\"contact_c3\":\"something\",\"parent_id\":\"11e95"
            "f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":1"
            "422040992,\"active\":true,\"created_user_id\":\"11e95f8ec39de8fbdb"
            "0a4f1a\"},\"log_emails\":[{\"subject\":\"Payment Receipt - 12skies"
            "tech\",\"body\":\"This email is being sent from a server.\",\"sour"
            "ce_address\":\"\\\"12skiestech A7t3qi\\\" <noreply@zeamster.email>"
            "\",\"return_path\":\"\\\"12skiestech A7t3qi\\\" <noreply@zeamster."
            "email>\",\"provider_id\":\"0100017e67bcc530-e1dd23b4-8a39-4a5b-8d5"
            "d-68d51c4c942f-000000\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"reason_sent\":\"Contact Email\",\"reason_model\":\"Transaction"
            "\",\"reason_model_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"reply_to\":"
            "\"\\\"Zeamster\\\" <emma.p@zeamster.com>\",\"id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"created_ts\":1422040992}],\"log_sms\":{\"id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"body\":\" \",\"reason_model\":\" \",\"re"
            "ason_model_id\":\" \",\"provider_id\":\" \",\"status\":\" \",\"sen"
            "der\":\" \",\"recipient\":\" \",\"created_ts\":1422040992,\"create"
            "d_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"},\"transactions\":[{\"add"
            "itional_amounts\":[{\"type\":\"cashback\",\"amount\":10,\"account_"
            "type\":\"credit\",\"currency\":840}],\"billing_address\":{\"city\""
            ":\"Novi\",\"state\":\"Michigan\",\"postal_code\":\"48375\",\"phone"
            "\":\"3339998822\",\"country\":\"USA\"},\"checkin_date\":\"2021-12-"
            "01\",\"checkout_date\":\"2021-12-01\",\"clerk_number\":\"AE1234\","
            "\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"custom_data\":{},\"c"
            "ustomer_id\":\"customerid\",\"description\":\"some description\","
            "\"identity_verification\":{\"dl_state\":\"MI\",\"dl_number\":\"123"
            "5567\",\"dob_year\":\"1980\"},\"iias_ind\":1,\"image_front\":\"U29"
            "tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=\",\"image_back\":\"U"
            "29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=\",\"installment\":"
            "true,\"installment_number\":1,\"installment_count\":1,\"location_a"
            "pi_id\":\"location-api-id-florida-2\",\"location_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"product_transaction_id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"advance_deposit\":false,\"no_show\":false,\"notification_"
            "email_address\":\"johnsmith@smiths.com\",\"order_number\":\"433659"
            "378839\",\"po_number\":\"555555553123\",\"quick_invoice_id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"recurring\":false,\"recurring_number\":1"
            ",\"room_num\":\"303\",\"room_rate\":95,\"save_account\":false,\"sa"
            "ve_account_title\":\"John Account\",\"subtotal_amount\":599,\"surc"
            "harge_amount\":100,\"tags\":[\"Walk-in Customer\"],\"tax\":0,\"tip"
            "_amount\":0,\"transaction_amount\":0,\"secondary_amount\":0,\"tran"
            "saction_api_id\":\"transaction-payment-abcd123\",\"transaction_c1"
            "\":\"custom-data-1\",\"transaction_c2\":\"custom-data-2\",\"transa"
            "ction_c3\":\"custom-data-3\",\"bank_funded_only_override\":false,"
            "\"allow_partial_authorization_override\":false,\"auto_decline_cvv_"
            "override\":false,\"auto_decline_street_override\":false,\"auto_dec"
            "line_zip_override\":false,\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cr"
            "eated_ts\":1422040992,\"modified_ts\":1422040992,\"terminal_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"account_holder_name\":\"smith\",\"a"
            "ccount_type\":\"checking\",\"token_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"ach_identifier\":\"P\",\"ach_sec_code\":\"C21\",\"auth_amount"
            "\":1,\"auth_code\":\"BR349K\",\"avs\":\"BAD\",\"avs_enhanced\":\"N"
            "\",\"cardholder_present\":true,\"card_present\":true,\"check_numbe"
            "r\":\"8520748520963\",\"customer_ip\":\"192.168.0.10\",\"cvv_respo"
            "nse\":\"N\",\"entry_mode_id\":\"C\",\"emv_receipt_data\":{\"AID\":"
            "\"a0000000042203\",\"APPLAB\":\"US Maestro\",\"APPN\":\"US Maestro"
            "\",\"CVM\":\"Pin Verified\",\"TSI\":\"e800\",\"TVR\":\"0800008000"
            "\"},\"first_six\":\"545454\",\"last_four\":\"5454\",\"payment_meth"
            "od\":\"cc\",\"terminal_serial_number\":\"1234567890\",\"transactio"
            "n_settlement_status\":null,\"charge_back_date\":\"2021-12-01\",\"i"
            "s_recurring\":true,\"notification_email_sent\":true,\"par\":\"Q1J4"
            "Z28RKA1EBL470G9XYG90R5D3E\",\"reason_code_id\":1000,\"recurring_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"settle_date\":\"2021-12-01\",\"s"
            "tatus_code\":101,\"transaction_batch_id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"verbiage\":\"APPROVED\",\"void_date\":\"2021-12-01\",\"batc"
            "h\":\"2\",\"terms_agree\":true,\"response_message\":null,\"return_"
            "date\":\"2021-12-01\",\"trx_source_id\":8,\"routing_number\":\"051"
            "904524\",\"trx_source_code\":8,\"paylink_id\":\"11e95f8ec39de8fbdb"
            "0a4f1a\",\"is_accountvault\":true,\"created_user_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"effective_date\":\"2021-12-01\",\"is_token\":true,\"installment"
            "_total\":1,\"installment_counter\":1,\"account_vault_id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"hosted_payment_page_id\":\"11e95f8ec39de8fb"
            "db0a4f1a\"}],\"cc_product_transaction\":{\"processor_version\":\"1"
            "_0_0\",\"title\":\"My terminal\",\"payment_method\":\"cc\",\"proce"
            "ssor\":\"zgate\",\"mcc\":\"1111\",\"tax_surcharge_config\":2,\"par"
            "tner\":\"standalone\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"surcharge\":{},\"processor_data\":{},\"vt_clerk_number\":true,"
            "\"vt_billing_phone\":true,\"vt_enable_tip\":true,\"ach_allow_debit"
            "\":true,\"ach_allow_credit\":true,\"ach_allow_refund\":true,\"vt_c"
            "vv\":true,\"vt_street\":true,\"vt_zip\":true,\"vt_order_num\":true"
            ",\"vt_enable\":true,\"receipt_show_contact_name\":true,\"display_a"
            "vs\":true,\"card_type_visa\":true,\"card_type_mc\":true,\"card_typ"
            "e_disc\":true,\"card_type_amex\":true,\"card_type_diners\":true,\""
            "card_type_jcb\":true,\"invoice_location\":true,\"allow_partial_aut"
            "horization\":true,\"allow_recurring_partial_authorization\":true,"
            "\"auto_decline_cvv\":true,\"auto_decline_street\":true,\"auto_decl"
            "ine_zip\":true,\"split_payments_allow\":true,\"vt_show_custom_fiel"
            "ds\":true,\"receipt_show_custom_fields\":true,\"vt_override_sales_"
            "tax_allowed\":true,\"vt_enable_sales_tax\":true,\"vt_require_zip\""
            ":true,\"vt_require_street\":true,\"auto_decline_cavv\":true,\"curr"
            "ent_batch\":34,\"dup_check_per_batch\":null,\"paylink_allow\":fals"
            "e,\"quick_invoice_allow\":false,\"level3_allow\":false,\"payfac_en"
            "able\":false,\"sales_office_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ho"
            "sted_payment_page_allow\":false,\"surcharge_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"level3_default\":{},\"cau_subscribe_type_id\":0,\"lo"
            "cation_billing_account_id\":\"11eb88b873980c64a21e5fd2\",\"product"
            "_billing_group_id\":\"nofees\",\"account_number\":\"12345678\",\"r"
            "un_avs_on_accountvault_create\":false,\"accountvault_expire_notifi"
            "cation_email_enable\":false,\"debit_allow_void\":false,\"quick_inv"
            "oice_text_to_pay\":false,\"sms_enable\":false,\"vt_show_currency\""
            ":true,\"receipt_show_currency\":false,\"allow_blind_refund\":false"
            ",\"vt_show_company_name\":false,\"receipt_show_company_name\":fals"
            "e,\"bank_funded_only\":false,\"require_cvv_on_keyed_cnp\":true,\"r"
            "equire_cvv_on_tokenized_cnp\":true,\"show_secondary_amount\":false"
            ",\"allow_secondary_amount\":false,\"show_google_pay\":true,\"show_"
            "apple_pay\":true,\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"active\":tr"
            "ue,\"created_ts\":1422040992,\"modified_ts\":1422040992,\"created_"
            "user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"product_transaction_api_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"is_secondary_amount_allowed\":false,\"batch_ris"
            "k_config\":{},\"fortis_id\":\"8149742\",\"product_billing_group_co"
            "de\":\"nofees\",\"cau_subscribe_type_code\":0},\"ach_product_trans"
            "action\":{\"processor_version\":\"1_0_0\",\"title\":\"My terminal"
            "\",\"payment_method\":\"cc\",\"processor\":\"zgate\",\"mcc\":\"111"
            "1\",\"tax_surcharge_config\":2,\"partner\":\"standalone\",\"locati"
            "on_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"surcharge\":{},\"processor_"
            "data\":{},\"vt_clerk_number\":true,\"vt_billing_phone\":true,\"vt_"
            "enable_tip\":true,\"ach_allow_debit\":true,\"ach_allow_credit\":tr"
            "ue,\"ach_allow_refund\":true,\"vt_cvv\":true,\"vt_street\":true,\""
            "vt_zip\":true,\"vt_order_num\":true,\"vt_enable\":true,\"receipt_s"
            "how_contact_name\":true,\"display_avs\":true,\"card_type_visa\":tr"
            "ue,\"card_type_mc\":true,\"card_type_disc\":true,\"card_type_amex"
            "\":true,\"card_type_diners\":true,\"card_type_jcb\":true,\"invoice"
            "_location\":true,\"allow_partial_authorization\":true,\"allow_recu"
            "rring_partial_authorization\":true,\"auto_decline_cvv\":true,\"aut"
            "o_decline_street\":true,\"auto_decline_zip\":true,\"split_payments"
            "_allow\":true,\"vt_show_custom_fields\":true,\"receipt_show_custom"
            "_fields\":true,\"vt_override_sales_tax_allowed\":true,\"vt_enable_"
            "sales_tax\":true,\"vt_require_zip\":true,\"vt_require_street\":tru"
            "e,\"auto_decline_cavv\":true,\"current_batch\":34,\"dup_check_per_"
            "batch\":null,\"paylink_allow\":false,\"quick_invoice_allow\":false"
            ",\"level3_allow\":false,\"payfac_enable\":false,\"sales_office_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"hosted_payment_page_allow\":fals"
            "e,\"surcharge_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"level3_default\""
            ":{},\"cau_subscribe_type_id\":0,\"location_billing_account_id\":\""
            "11eb88b873980c64a21e5fd2\",\"product_billing_group_id\":\"nofees\""
            ",\"account_number\":\"12345678\",\"run_avs_on_accountvault_create"
            "\":false,\"accountvault_expire_notification_email_enable\":false,"
            "\"debit_allow_void\":false,\"quick_invoice_text_to_pay\":false,\"s"
            "ms_enable\":false,\"vt_show_currency\":true,\"receipt_show_currenc"
            "y\":false,\"allow_blind_refund\":false,\"vt_show_company_name\":fa"
            "lse,\"receipt_show_company_name\":false,\"bank_funded_only\":false"
            ",\"require_cvv_on_keyed_cnp\":true,\"require_cvv_on_tokenized_cnp"
            "\":true,\"show_secondary_amount\":false,\"allow_secondary_amount\""
            ":false,\"show_google_pay\":true,\"show_apple_pay\":true,\"id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"active\":true,\"created_ts\":142204099"
            "2,\"modified_ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"pr"
            "oduct_transaction_api_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"is_secon"
            "dary_amount_allowed\":false,\"batch_risk_config\":{},\"fortis_id\""
            ":\"8149742\",\"product_billing_group_code\":\"nofees\",\"cau_subsc"
            "ribe_type_code\":0},\"email_blacklist\":{\"id\":\"11e95f8ec39de8fb"
            "db0a4f1a\",\"isBlacklisted\":true,\"detail\":true,\"created_ts\":1"
            "422040992},\"sms_blacklist\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"isBlacklisted\":true,\"detail\":true,\"created_ts\":1422040992}}"
            "}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_view_single_quick_invoice_record(self):
        """
        View single quick invoice record.
        """
        # Parameters for the API call
        quick_invoice_id = "11e95f8ec39de8fbdb0a4f1a"
        expand = None
        fields = None

        # Perform the API call through the SDK function
        result = self.controller.view_single_quick_invoice_record(
            quick_invoice_id,
            expand,
            fields,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 200
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"QuickInvoice\",\"data\":{\"location_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"title\":\"My terminal\",\"cc_product_transaction"
            "_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ach_product_transaction_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"due_date\":\"2021-12-01\",\"item_li"
            "st\":[{\"name\":\"Bread\",\"amount\":2015}],\"allow_overpayment\":"
            "true,\"bank_funded_only_override\":true,\"email\":\"email@domain.c"
            "om\",\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_api_id"
            "\":\"contact12345\",\"quick_invoice_api_id\":\"quickinvoice12345\""
            ",\"customer_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"expire_date\":\"20"
            "21-12-01\",\"allow_partial_pay\":true,\"attach_files_to_email\":tr"
            "ue,\"send_email\":true,\"invoice_number\":\"invoice12345\",\"item_"
            "header\":\"Quick invoice header sample\",\"item_footer\":\"Thank y"
            "ou\",\"amount_due\":245.36,\"notification_email\":\"email@domain.c"
            "om\",\"status_id\":1,\"status_code\":1,\"note\":\"some note\",\"no"
            "tification_days_before_due_date\":3,\"notification_days_after_due_"
            "date\":7,\"notification_on_due_date\":true,\"send_text_to_pay\":tr"
            "ue,\"files\":[{\"file\":{},\"resource_id\":\"11e95f8ec39de8fbdb0a4"
            "f1a\",\"resource\":\"Contact\",\"product_file_id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"file_category_id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "visibility_group_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":142"
            "2040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}],\"remai"
            "ning_balance\":245.36,\"single_payment_min_amount\":500,\"single_p"
            "ayment_max_amount\":500000,\"cell_phone\":\"3339998822\",\"tags\":"
            "[{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"title\":\"My term"
            "inal\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":14220409"
            "92,\"modified_ts\":1422040992}],\"id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"created_"
            "user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"active\":true,\"payment_status_id\":1,\"i"
            "s_active\":true,\"quick_invoice_setting\":{\"location_api_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"location_id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"quick_invoice_template\":\"<html>Template<html>\",\"default"
            "_allow_partial_pay\":true,\"default_notification_on_due_date\":tru"
            "e,\"default_notification_days_after_due_date\":7,\"default_notific"
            "ation_days_before_due_date\":3,\"id\":\"11e95f8ec39de8fbdb0a4f1a\""
            "},\"quick_invoice_views\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "quick_invoice_id\":\"Quick Invoice ID\",\"created_ts\":1422040992}"
            "],\"location\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\""
            ":1422040992,\"modified_ts\":1422040992,\"account_number\":\"545454"
            "5454545454\",\"address\":{\"city\":\"Novi\",\"state\":\"MI\",\"pos"
            "tal_code\":\"48375\",\"country\":\"US\"},\"branding_domain_id\":\""
            "11e95f8ec39de8fbdb0a4f1a\",\"contact_email_trx_receipt_default\":t"
            "rue,\"default_ach\":\"11e608a7d515f1e093242bb2\",\"default_cc\":\""
            "11e608a442a5f1e092242dda\",\"email_reply_to\":\"email@domain.com\""
            ",\"fax\":\"3339998822\",\"location_api_id\":\"location-111111\",\""
            "location_api_key\":\"AE34BBCAADF4AE34BBCAADF4\",\"location_c1\":\""
            "custom 1\",\"location_c2\":\"custom 2\",\"location_c3\":\"custom d"
            "ata 3\",\"name\":\"Sample Company Headquarters\",\"office_phone\":"
            "\"2481234567\",\"office_ext_phone\":\"1021021209\",\"tz\":\"Americ"
            "a/New_York\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"show_con"
            "tact_notes\":true,\"show_contact_files\":true,\"created_user_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"location_type\":\"merchant\",\"tick"
            "et_hash_key\":\"A5F443CADF4AE34BBCAADF4\"},\"created_user\":{\"acc"
            "ount_number\":\"5454545454545454\",\"branding_domain_url\":\"{bran"
            "ding_domain_url}\",\"cell_phone\":\"3339998822\",\"company_name\":"
            "\"Fortis Payment Systems, LLC\",\"contact_id\":\"11e95f8ec39de8fbd"
            "b0a4f1a\",\"date_of_birth\":\"2021-12-01\",\"domain_id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"email_trx_rec"
            "eipt\":true,\"home_phone\":\"3339998822\",\"first_name\":\"John\","
            "\"last_name\":\"Smith\",\"locale\":\"en-US\",\"office_phone\":\"33"
            "39998822\",\"office_ext_phone\":\"5\",\"primary_location_id\":\"11"
            "e95f8ec39de8fbdb0a4f1a\",\"requires_new_password\":null,\"terms_co"
            "ndition_code\":\"20220308\",\"tz\":\"America/New_York\",\"ui_prefs"
            "\":{\"entry_page\":\"dashboard\",\"page_size\":2,\"report_export_t"
            "ype\":\"csv\",\"process_method\":\"virtual_terminal\",\"default_te"
            "rminal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"username\":\"{user_name}"
            "\",\"user_api_key\":\"234bas8dfn8238f923w2\",\"user_hash_key\":nul"
            "l,\"user_type_code\":100,\"password\":null,\"zip\":\"48375\",\"loc"
            "ation_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status_code\":1,\"api_on"
            "ly\":false,\"is_invitation\":false,\"address\":{\"city\":\"Novi\","
            "\"state\":\"MI\",\"postal_code\":\"48375\",\"country\":\"US\"},\"i"
            "d\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\":true,\"login_attempts"
            "\":0,\"last_login_ts\":1422040992,\"created_ts\":1422040992,\"modi"
            "fied_ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1"
            "a\",\"terms_accepted_ts\":1422040992,\"terms_agree_ip\":\"192.168."
            "0.10\",\"current_date_time\":\"2019-03-11T10:38:26-0700\",\"curren"
            "t_login\":1422040992,\"log_api_response_body_ts\":1422040992},\"mo"
            "dified_user\":{\"account_number\":\"5454545454545454\",\"branding_"
            "domain_url\":\"{branding_domain_url}\",\"cell_phone\":\"3339998822"
            "\",\"company_name\":\"Fortis Payment Systems, LLC\",\"contact_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\",\"date_of_birth\":\"2021-12-01\",\"d"
            "omain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.c"
            "om\",\"email_trx_receipt\":true,\"home_phone\":\"3339998822\",\"fi"
            "rst_name\":\"John\",\"last_name\":\"Smith\",\"locale\":\"en-US\","
            "\"office_phone\":\"3339998822\",\"office_ext_phone\":\"5\",\"prima"
            "ry_location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_new_passw"
            "ord\":null,\"terms_condition_code\":\"20220308\",\"tz\":\"America/"
            "New_York\",\"ui_prefs\":{\"entry_page\":\"dashboard\",\"page_size"
            "\":2,\"report_export_type\":\"csv\",\"process_method\":\"virtual_t"
            "erminal\",\"default_terminal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"use"
            "rname\":\"{user_name}\",\"user_api_key\":\"234bas8dfn8238f923w2\","
            "\"user_hash_key\":null,\"user_type_code\":100,\"password\":null,\""
            "zip\":\"48375\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"sta"
            "tus_code\":1,\"api_only\":false,\"is_invitation\":false,\"address"
            "\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"48375\","
            "\"country\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\""
            ":true,\"login_attempts\":0,\"last_login_ts\":1422040992,\"created_"
            "ts\":1422040992,\"modified_ts\":1422040992,\"created_user_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"terms_accepted_ts\":1422040992,\"terms"
            "_agree_ip\":\"192.168.0.10\",\"current_date_time\":\"2019-03-11T10"
            ":38:26-0700\",\"current_login\":1422040992,\"log_api_response_body"
            "_ts\":1422040992},\"changelogs\":[{\"id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"created_ts\":1422040992,\"action\":\"CREATE\",\"model\":\"T"
            "ransactionRequest\",\"model_id\":\"11ec829598f0d4008be9aba4\",\"us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_details\":[{\"id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"field\":\"next_run_ts\",\"old_value\":\"1643616000\""
            "}],\"user\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"username\":\"em"
            "ail@domain.com\",\"first_name\":\"Bob\",\"last_name\":\"Fairview\""
            "}}],\"contact\":{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ac"
            "count_number\":\"54545433332\",\"contact_api_id\":\"137\",\"first_"
            "name\":\"John\",\"last_name\":\"Smith\",\"cell_phone\":\"333999882"
            "2\",\"balance\":245.36,\"address\":{\"city\":\"Novi\",\"state\":\""
            "Michigan\",\"postal_code\":\"48375\",\"country\":\"US\"},\"company"
            "_name\":\"Fortis Payment Systems, LLC\",\"header_message\":\"This "
            "is a sample message for you\",\"date_of_birth\":\"2021-12-01\",\"e"
            "mail_trx_receipt\":true,\"home_phone\":\"3339998822\",\"office_pho"
            "ne\":\"3339998822\",\"office_phone_ext\":\"5\",\"header_message_ty"
            "pe\":0,\"update_if_exists\":1,\"contact_c1\":\"any\",\"contact_c2"
            "\":\"anything\",\"contact_c3\":\"something\",\"parent_id\":\"11e95"
            "f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":1"
            "422040992,\"active\":true,\"created_user_id\":\"11e95f8ec39de8fbdb"
            "0a4f1a\"},\"log_emails\":[{\"subject\":\"Payment Receipt - 12skies"
            "tech\",\"body\":\"This email is being sent from a server.\",\"sour"
            "ce_address\":\"\\\"12skiestech A7t3qi\\\" <noreply@zeamster.email>"
            "\",\"return_path\":\"\\\"12skiestech A7t3qi\\\" <noreply@zeamster."
            "email>\",\"provider_id\":\"0100017e67bcc530-e1dd23b4-8a39-4a5b-8d5"
            "d-68d51c4c942f-000000\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"reason_sent\":\"Contact Email\",\"reason_model\":\"Transaction"
            "\",\"reason_model_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"reply_to\":"
            "\"\\\"Zeamster\\\" <emma.p@zeamster.com>\",\"id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"created_ts\":1422040992}],\"log_sms\":{\"id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"body\":\" \",\"reason_model\":\" \",\"re"
            "ason_model_id\":\" \",\"provider_id\":\" \",\"status\":\" \",\"sen"
            "der\":\" \",\"recipient\":\" \",\"created_ts\":1422040992,\"create"
            "d_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"},\"transactions\":[{\"add"
            "itional_amounts\":[{\"type\":\"cashback\",\"amount\":10,\"account_"
            "type\":\"credit\",\"currency\":840}],\"billing_address\":{\"city\""
            ":\"Novi\",\"state\":\"Michigan\",\"postal_code\":\"48375\",\"phone"
            "\":\"3339998822\",\"country\":\"USA\"},\"checkin_date\":\"2021-12-"
            "01\",\"checkout_date\":\"2021-12-01\",\"clerk_number\":\"AE1234\","
            "\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"custom_data\":{},\"c"
            "ustomer_id\":\"customerid\",\"description\":\"some description\","
            "\"identity_verification\":{\"dl_state\":\"MI\",\"dl_number\":\"123"
            "5567\",\"dob_year\":\"1980\"},\"iias_ind\":1,\"image_front\":\"U29"
            "tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=\",\"image_back\":\"U"
            "29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=\",\"installment\":"
            "true,\"installment_number\":1,\"installment_count\":1,\"location_a"
            "pi_id\":\"location-api-id-florida-2\",\"location_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"product_transaction_id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"advance_deposit\":false,\"no_show\":false,\"notification_"
            "email_address\":\"johnsmith@smiths.com\",\"order_number\":\"433659"
            "378839\",\"po_number\":\"555555553123\",\"quick_invoice_id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"recurring\":false,\"recurring_number\":1"
            ",\"room_num\":\"303\",\"room_rate\":95,\"save_account\":false,\"sa"
            "ve_account_title\":\"John Account\",\"subtotal_amount\":599,\"surc"
            "harge_amount\":100,\"tags\":[\"Walk-in Customer\"],\"tax\":0,\"tip"
            "_amount\":0,\"transaction_amount\":0,\"secondary_amount\":0,\"tran"
            "saction_api_id\":\"transaction-payment-abcd123\",\"transaction_c1"
            "\":\"custom-data-1\",\"transaction_c2\":\"custom-data-2\",\"transa"
            "ction_c3\":\"custom-data-3\",\"bank_funded_only_override\":false,"
            "\"allow_partial_authorization_override\":false,\"auto_decline_cvv_"
            "override\":false,\"auto_decline_street_override\":false,\"auto_dec"
            "line_zip_override\":false,\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cr"
            "eated_ts\":1422040992,\"modified_ts\":1422040992,\"terminal_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"account_holder_name\":\"smith\",\"a"
            "ccount_type\":\"checking\",\"token_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"ach_identifier\":\"P\",\"ach_sec_code\":\"C21\",\"auth_amount"
            "\":1,\"auth_code\":\"BR349K\",\"avs\":\"BAD\",\"avs_enhanced\":\"N"
            "\",\"cardholder_present\":true,\"card_present\":true,\"check_numbe"
            "r\":\"8520748520963\",\"customer_ip\":\"192.168.0.10\",\"cvv_respo"
            "nse\":\"N\",\"entry_mode_id\":\"C\",\"emv_receipt_data\":{\"AID\":"
            "\"a0000000042203\",\"APPLAB\":\"US Maestro\",\"APPN\":\"US Maestro"
            "\",\"CVM\":\"Pin Verified\",\"TSI\":\"e800\",\"TVR\":\"0800008000"
            "\"},\"first_six\":\"545454\",\"last_four\":\"5454\",\"payment_meth"
            "od\":\"cc\",\"terminal_serial_number\":\"1234567890\",\"transactio"
            "n_settlement_status\":null,\"charge_back_date\":\"2021-12-01\",\"i"
            "s_recurring\":true,\"notification_email_sent\":true,\"par\":\"Q1J4"
            "Z28RKA1EBL470G9XYG90R5D3E\",\"reason_code_id\":1000,\"recurring_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"settle_date\":\"2021-12-01\",\"s"
            "tatus_code\":101,\"transaction_batch_id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"verbiage\":\"APPROVED\",\"void_date\":\"2021-12-01\",\"batc"
            "h\":\"2\",\"terms_agree\":true,\"response_message\":null,\"return_"
            "date\":\"2021-12-01\",\"trx_source_id\":8,\"routing_number\":\"051"
            "904524\",\"trx_source_code\":8,\"paylink_id\":\"11e95f8ec39de8fbdb"
            "0a4f1a\",\"is_accountvault\":true,\"created_user_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"effective_date\":\"2021-12-01\",\"is_token\":true,\"installment"
            "_total\":1,\"installment_counter\":1,\"account_vault_id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"hosted_payment_page_id\":\"11e95f8ec39de8fb"
            "db0a4f1a\"}],\"cc_product_transaction\":{\"processor_version\":\"1"
            "_0_0\",\"title\":\"My terminal\",\"payment_method\":\"cc\",\"proce"
            "ssor\":\"zgate\",\"mcc\":\"1111\",\"tax_surcharge_config\":2,\"par"
            "tner\":\"standalone\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"surcharge\":{},\"processor_data\":{},\"vt_clerk_number\":true,"
            "\"vt_billing_phone\":true,\"vt_enable_tip\":true,\"ach_allow_debit"
            "\":true,\"ach_allow_credit\":true,\"ach_allow_refund\":true,\"vt_c"
            "vv\":true,\"vt_street\":true,\"vt_zip\":true,\"vt_order_num\":true"
            ",\"vt_enable\":true,\"receipt_show_contact_name\":true,\"display_a"
            "vs\":true,\"card_type_visa\":true,\"card_type_mc\":true,\"card_typ"
            "e_disc\":true,\"card_type_amex\":true,\"card_type_diners\":true,\""
            "card_type_jcb\":true,\"invoice_location\":true,\"allow_partial_aut"
            "horization\":true,\"allow_recurring_partial_authorization\":true,"
            "\"auto_decline_cvv\":true,\"auto_decline_street\":true,\"auto_decl"
            "ine_zip\":true,\"split_payments_allow\":true,\"vt_show_custom_fiel"
            "ds\":true,\"receipt_show_custom_fields\":true,\"vt_override_sales_"
            "tax_allowed\":true,\"vt_enable_sales_tax\":true,\"vt_require_zip\""
            ":true,\"vt_require_street\":true,\"auto_decline_cavv\":true,\"curr"
            "ent_batch\":34,\"dup_check_per_batch\":null,\"paylink_allow\":fals"
            "e,\"quick_invoice_allow\":false,\"level3_allow\":false,\"payfac_en"
            "able\":false,\"sales_office_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ho"
            "sted_payment_page_allow\":false,\"surcharge_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"level3_default\":{},\"cau_subscribe_type_id\":0,\"lo"
            "cation_billing_account_id\":\"11eb88b873980c64a21e5fd2\",\"product"
            "_billing_group_id\":\"nofees\",\"account_number\":\"12345678\",\"r"
            "un_avs_on_accountvault_create\":false,\"accountvault_expire_notifi"
            "cation_email_enable\":false,\"debit_allow_void\":false,\"quick_inv"
            "oice_text_to_pay\":false,\"sms_enable\":false,\"vt_show_currency\""
            ":true,\"receipt_show_currency\":false,\"allow_blind_refund\":false"
            ",\"vt_show_company_name\":false,\"receipt_show_company_name\":fals"
            "e,\"bank_funded_only\":false,\"require_cvv_on_keyed_cnp\":true,\"r"
            "equire_cvv_on_tokenized_cnp\":true,\"show_secondary_amount\":false"
            ",\"allow_secondary_amount\":false,\"show_google_pay\":true,\"show_"
            "apple_pay\":true,\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"active\":tr"
            "ue,\"created_ts\":1422040992,\"modified_ts\":1422040992,\"created_"
            "user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"product_transaction_api_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"is_secondary_amount_allowed\":false,\"batch_ris"
            "k_config\":{},\"fortis_id\":\"8149742\",\"product_billing_group_co"
            "de\":\"nofees\",\"cau_subscribe_type_code\":0},\"ach_product_trans"
            "action\":{\"processor_version\":\"1_0_0\",\"title\":\"My terminal"
            "\",\"payment_method\":\"cc\",\"processor\":\"zgate\",\"mcc\":\"111"
            "1\",\"tax_surcharge_config\":2,\"partner\":\"standalone\",\"locati"
            "on_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"surcharge\":{},\"processor_"
            "data\":{},\"vt_clerk_number\":true,\"vt_billing_phone\":true,\"vt_"
            "enable_tip\":true,\"ach_allow_debit\":true,\"ach_allow_credit\":tr"
            "ue,\"ach_allow_refund\":true,\"vt_cvv\":true,\"vt_street\":true,\""
            "vt_zip\":true,\"vt_order_num\":true,\"vt_enable\":true,\"receipt_s"
            "how_contact_name\":true,\"display_avs\":true,\"card_type_visa\":tr"
            "ue,\"card_type_mc\":true,\"card_type_disc\":true,\"card_type_amex"
            "\":true,\"card_type_diners\":true,\"card_type_jcb\":true,\"invoice"
            "_location\":true,\"allow_partial_authorization\":true,\"allow_recu"
            "rring_partial_authorization\":true,\"auto_decline_cvv\":true,\"aut"
            "o_decline_street\":true,\"auto_decline_zip\":true,\"split_payments"
            "_allow\":true,\"vt_show_custom_fields\":true,\"receipt_show_custom"
            "_fields\":true,\"vt_override_sales_tax_allowed\":true,\"vt_enable_"
            "sales_tax\":true,\"vt_require_zip\":true,\"vt_require_street\":tru"
            "e,\"auto_decline_cavv\":true,\"current_batch\":34,\"dup_check_per_"
            "batch\":null,\"paylink_allow\":false,\"quick_invoice_allow\":false"
            ",\"level3_allow\":false,\"payfac_enable\":false,\"sales_office_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"hosted_payment_page_allow\":fals"
            "e,\"surcharge_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"level3_default\""
            ":{},\"cau_subscribe_type_id\":0,\"location_billing_account_id\":\""
            "11eb88b873980c64a21e5fd2\",\"product_billing_group_id\":\"nofees\""
            ",\"account_number\":\"12345678\",\"run_avs_on_accountvault_create"
            "\":false,\"accountvault_expire_notification_email_enable\":false,"
            "\"debit_allow_void\":false,\"quick_invoice_text_to_pay\":false,\"s"
            "ms_enable\":false,\"vt_show_currency\":true,\"receipt_show_currenc"
            "y\":false,\"allow_blind_refund\":false,\"vt_show_company_name\":fa"
            "lse,\"receipt_show_company_name\":false,\"bank_funded_only\":false"
            ",\"require_cvv_on_keyed_cnp\":true,\"require_cvv_on_tokenized_cnp"
            "\":true,\"show_secondary_amount\":false,\"allow_secondary_amount\""
            ":false,\"show_google_pay\":true,\"show_apple_pay\":true,\"id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"active\":true,\"created_ts\":142204099"
            "2,\"modified_ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"pr"
            "oduct_transaction_api_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"is_secon"
            "dary_amount_allowed\":false,\"batch_risk_config\":{},\"fortis_id\""
            ":\"8149742\",\"product_billing_group_code\":\"nofees\",\"cau_subsc"
            "ribe_type_code\":0},\"email_blacklist\":{\"id\":\"11e95f8ec39de8fb"
            "db0a4f1a\",\"isBlacklisted\":true,\"detail\":true,\"created_ts\":1"
            "422040992},\"sms_blacklist\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"isBlacklisted\":true,\"detail\":true,\"created_ts\":1422040992}}"
            "}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_reopen_quick_invoice(self):
        """
        Reopen quick invoice.
        """
        # Parameters for the API call
        quick_invoice_id = "11e95f8ec39de8fbdb0a4f1a"

        # Perform the API call through the SDK function
        result = self.controller.reopen_quick_invoice(
            quick_invoice_id,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 201
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"QuickInvoice\",\"data\":{\"location_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"title\":\"My terminal\",\"cc_product_transaction"
            "_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ach_product_transaction_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"due_date\":\"2021-12-01\",\"item_li"
            "st\":[{\"name\":\"Bread\",\"amount\":2015}],\"allow_overpayment\":"
            "true,\"bank_funded_only_override\":true,\"email\":\"email@domain.c"
            "om\",\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_api_id"
            "\":\"contact12345\",\"quick_invoice_api_id\":\"quickinvoice12345\""
            ",\"customer_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"expire_date\":\"20"
            "21-12-01\",\"allow_partial_pay\":true,\"attach_files_to_email\":tr"
            "ue,\"send_email\":true,\"invoice_number\":\"invoice12345\",\"item_"
            "header\":\"Quick invoice header sample\",\"item_footer\":\"Thank y"
            "ou\",\"amount_due\":245.36,\"notification_email\":\"email@domain.c"
            "om\",\"status_id\":1,\"status_code\":1,\"note\":\"some note\",\"no"
            "tification_days_before_due_date\":3,\"notification_days_after_due_"
            "date\":7,\"notification_on_due_date\":true,\"send_text_to_pay\":tr"
            "ue,\"files\":[{\"file\":{},\"resource_id\":\"11e95f8ec39de8fbdb0a4"
            "f1a\",\"resource\":\"Contact\",\"product_file_id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"file_category_id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "visibility_group_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":142"
            "2040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}],\"remai"
            "ning_balance\":245.36,\"single_payment_min_amount\":500,\"single_p"
            "ayment_max_amount\":500000,\"cell_phone\":\"3339998822\",\"tags\":"
            "[{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"title\":\"My term"
            "inal\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":14220409"
            "92,\"modified_ts\":1422040992}],\"id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"created_"
            "user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"active\":true,\"payment_status_id\":1,\"i"
            "s_active\":true,\"quick_invoice_setting\":{\"location_api_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"location_id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"quick_invoice_template\":\"<html>Template<html>\",\"default"
            "_allow_partial_pay\":true,\"default_notification_on_due_date\":tru"
            "e,\"default_notification_days_after_due_date\":7,\"default_notific"
            "ation_days_before_due_date\":3,\"id\":\"11e95f8ec39de8fbdb0a4f1a\""
            "},\"quick_invoice_views\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "quick_invoice_id\":\"Quick Invoice ID\",\"created_ts\":1422040992}"
            "],\"location\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\""
            ":1422040992,\"modified_ts\":1422040992,\"account_number\":\"545454"
            "5454545454\",\"address\":{\"city\":\"Novi\",\"state\":\"MI\",\"pos"
            "tal_code\":\"48375\",\"country\":\"US\"},\"branding_domain_id\":\""
            "11e95f8ec39de8fbdb0a4f1a\",\"contact_email_trx_receipt_default\":t"
            "rue,\"default_ach\":\"11e608a7d515f1e093242bb2\",\"default_cc\":\""
            "11e608a442a5f1e092242dda\",\"email_reply_to\":\"email@domain.com\""
            ",\"fax\":\"3339998822\",\"location_api_id\":\"location-111111\",\""
            "location_api_key\":\"AE34BBCAADF4AE34BBCAADF4\",\"location_c1\":\""
            "custom 1\",\"location_c2\":\"custom 2\",\"location_c3\":\"custom d"
            "ata 3\",\"name\":\"Sample Company Headquarters\",\"office_phone\":"
            "\"2481234567\",\"office_ext_phone\":\"1021021209\",\"tz\":\"Americ"
            "a/New_York\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"show_con"
            "tact_notes\":true,\"show_contact_files\":true,\"created_user_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"location_type\":\"merchant\",\"tick"
            "et_hash_key\":\"A5F443CADF4AE34BBCAADF4\"},\"created_user\":{\"acc"
            "ount_number\":\"5454545454545454\",\"branding_domain_url\":\"{bran"
            "ding_domain_url}\",\"cell_phone\":\"3339998822\",\"company_name\":"
            "\"Fortis Payment Systems, LLC\",\"contact_id\":\"11e95f8ec39de8fbd"
            "b0a4f1a\",\"date_of_birth\":\"2021-12-01\",\"domain_id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"email_trx_rec"
            "eipt\":true,\"home_phone\":\"3339998822\",\"first_name\":\"John\","
            "\"last_name\":\"Smith\",\"locale\":\"en-US\",\"office_phone\":\"33"
            "39998822\",\"office_ext_phone\":\"5\",\"primary_location_id\":\"11"
            "e95f8ec39de8fbdb0a4f1a\",\"requires_new_password\":null,\"terms_co"
            "ndition_code\":\"20220308\",\"tz\":\"America/New_York\",\"ui_prefs"
            "\":{\"entry_page\":\"dashboard\",\"page_size\":2,\"report_export_t"
            "ype\":\"csv\",\"process_method\":\"virtual_terminal\",\"default_te"
            "rminal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"username\":\"{user_name}"
            "\",\"user_api_key\":\"234bas8dfn8238f923w2\",\"user_hash_key\":nul"
            "l,\"user_type_code\":100,\"password\":null,\"zip\":\"48375\",\"loc"
            "ation_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status_code\":1,\"api_on"
            "ly\":false,\"is_invitation\":false,\"address\":{\"city\":\"Novi\","
            "\"state\":\"MI\",\"postal_code\":\"48375\",\"country\":\"US\"},\"i"
            "d\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\":true,\"login_attempts"
            "\":0,\"last_login_ts\":1422040992,\"created_ts\":1422040992,\"modi"
            "fied_ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1"
            "a\",\"terms_accepted_ts\":1422040992,\"terms_agree_ip\":\"192.168."
            "0.10\",\"current_date_time\":\"2019-03-11T10:38:26-0700\",\"curren"
            "t_login\":1422040992,\"log_api_response_body_ts\":1422040992},\"mo"
            "dified_user\":{\"account_number\":\"5454545454545454\",\"branding_"
            "domain_url\":\"{branding_domain_url}\",\"cell_phone\":\"3339998822"
            "\",\"company_name\":\"Fortis Payment Systems, LLC\",\"contact_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\",\"date_of_birth\":\"2021-12-01\",\"d"
            "omain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.c"
            "om\",\"email_trx_receipt\":true,\"home_phone\":\"3339998822\",\"fi"
            "rst_name\":\"John\",\"last_name\":\"Smith\",\"locale\":\"en-US\","
            "\"office_phone\":\"3339998822\",\"office_ext_phone\":\"5\",\"prima"
            "ry_location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_new_passw"
            "ord\":null,\"terms_condition_code\":\"20220308\",\"tz\":\"America/"
            "New_York\",\"ui_prefs\":{\"entry_page\":\"dashboard\",\"page_size"
            "\":2,\"report_export_type\":\"csv\",\"process_method\":\"virtual_t"
            "erminal\",\"default_terminal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"use"
            "rname\":\"{user_name}\",\"user_api_key\":\"234bas8dfn8238f923w2\","
            "\"user_hash_key\":null,\"user_type_code\":100,\"password\":null,\""
            "zip\":\"48375\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"sta"
            "tus_code\":1,\"api_only\":false,\"is_invitation\":false,\"address"
            "\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"48375\","
            "\"country\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\""
            ":true,\"login_attempts\":0,\"last_login_ts\":1422040992,\"created_"
            "ts\":1422040992,\"modified_ts\":1422040992,\"created_user_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"terms_accepted_ts\":1422040992,\"terms"
            "_agree_ip\":\"192.168.0.10\",\"current_date_time\":\"2019-03-11T10"
            ":38:26-0700\",\"current_login\":1422040992,\"log_api_response_body"
            "_ts\":1422040992},\"changelogs\":[{\"id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"created_ts\":1422040992,\"action\":\"CREATE\",\"model\":\"T"
            "ransactionRequest\",\"model_id\":\"11ec829598f0d4008be9aba4\",\"us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_details\":[{\"id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"field\":\"next_run_ts\",\"old_value\":\"1643616000\""
            "}],\"user\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"username\":\"em"
            "ail@domain.com\",\"first_name\":\"Bob\",\"last_name\":\"Fairview\""
            "}}],\"contact\":{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ac"
            "count_number\":\"54545433332\",\"contact_api_id\":\"137\",\"first_"
            "name\":\"John\",\"last_name\":\"Smith\",\"cell_phone\":\"333999882"
            "2\",\"balance\":245.36,\"address\":{\"city\":\"Novi\",\"state\":\""
            "Michigan\",\"postal_code\":\"48375\",\"country\":\"US\"},\"company"
            "_name\":\"Fortis Payment Systems, LLC\",\"header_message\":\"This "
            "is a sample message for you\",\"date_of_birth\":\"2021-12-01\",\"e"
            "mail_trx_receipt\":true,\"home_phone\":\"3339998822\",\"office_pho"
            "ne\":\"3339998822\",\"office_phone_ext\":\"5\",\"header_message_ty"
            "pe\":0,\"update_if_exists\":1,\"contact_c1\":\"any\",\"contact_c2"
            "\":\"anything\",\"contact_c3\":\"something\",\"parent_id\":\"11e95"
            "f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":1"
            "422040992,\"active\":true,\"created_user_id\":\"11e95f8ec39de8fbdb"
            "0a4f1a\"},\"log_emails\":[{\"subject\":\"Payment Receipt - 12skies"
            "tech\",\"body\":\"This email is being sent from a server.\",\"sour"
            "ce_address\":\"\\\"12skiestech A7t3qi\\\" <noreply@zeamster.email>"
            "\",\"return_path\":\"\\\"12skiestech A7t3qi\\\" <noreply@zeamster."
            "email>\",\"provider_id\":\"0100017e67bcc530-e1dd23b4-8a39-4a5b-8d5"
            "d-68d51c4c942f-000000\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"reason_sent\":\"Contact Email\",\"reason_model\":\"Transaction"
            "\",\"reason_model_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"reply_to\":"
            "\"\\\"Zeamster\\\" <emma.p@zeamster.com>\",\"id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"created_ts\":1422040992}],\"log_sms\":{\"id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"body\":\" \",\"reason_model\":\" \",\"re"
            "ason_model_id\":\" \",\"provider_id\":\" \",\"status\":\" \",\"sen"
            "der\":\" \",\"recipient\":\" \",\"created_ts\":1422040992,\"create"
            "d_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"},\"transactions\":[{\"add"
            "itional_amounts\":[{\"type\":\"cashback\",\"amount\":10,\"account_"
            "type\":\"credit\",\"currency\":840}],\"billing_address\":{\"city\""
            ":\"Novi\",\"state\":\"Michigan\",\"postal_code\":\"48375\",\"phone"
            "\":\"3339998822\",\"country\":\"USA\"},\"checkin_date\":\"2021-12-"
            "01\",\"checkout_date\":\"2021-12-01\",\"clerk_number\":\"AE1234\","
            "\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"custom_data\":{},\"c"
            "ustomer_id\":\"customerid\",\"description\":\"some description\","
            "\"identity_verification\":{\"dl_state\":\"MI\",\"dl_number\":\"123"
            "5567\",\"dob_year\":\"1980\"},\"iias_ind\":1,\"image_front\":\"U29"
            "tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=\",\"image_back\":\"U"
            "29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=\",\"installment\":"
            "true,\"installment_number\":1,\"installment_count\":1,\"location_a"
            "pi_id\":\"location-api-id-florida-2\",\"location_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"product_transaction_id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"advance_deposit\":false,\"no_show\":false,\"notification_"
            "email_address\":\"johnsmith@smiths.com\",\"order_number\":\"433659"
            "378839\",\"po_number\":\"555555553123\",\"quick_invoice_id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"recurring\":false,\"recurring_number\":1"
            ",\"room_num\":\"303\",\"room_rate\":95,\"save_account\":false,\"sa"
            "ve_account_title\":\"John Account\",\"subtotal_amount\":599,\"surc"
            "harge_amount\":100,\"tags\":[\"Walk-in Customer\"],\"tax\":0,\"tip"
            "_amount\":0,\"transaction_amount\":0,\"secondary_amount\":0,\"tran"
            "saction_api_id\":\"transaction-payment-abcd123\",\"transaction_c1"
            "\":\"custom-data-1\",\"transaction_c2\":\"custom-data-2\",\"transa"
            "ction_c3\":\"custom-data-3\",\"bank_funded_only_override\":false,"
            "\"allow_partial_authorization_override\":false,\"auto_decline_cvv_"
            "override\":false,\"auto_decline_street_override\":false,\"auto_dec"
            "line_zip_override\":false,\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cr"
            "eated_ts\":1422040992,\"modified_ts\":1422040992,\"terminal_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"account_holder_name\":\"smith\",\"a"
            "ccount_type\":\"checking\",\"token_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"ach_identifier\":\"P\",\"ach_sec_code\":\"C21\",\"auth_amount"
            "\":1,\"auth_code\":\"BR349K\",\"avs\":\"BAD\",\"avs_enhanced\":\"N"
            "\",\"cardholder_present\":true,\"card_present\":true,\"check_numbe"
            "r\":\"8520748520963\",\"customer_ip\":\"192.168.0.10\",\"cvv_respo"
            "nse\":\"N\",\"entry_mode_id\":\"C\",\"emv_receipt_data\":{\"AID\":"
            "\"a0000000042203\",\"APPLAB\":\"US Maestro\",\"APPN\":\"US Maestro"
            "\",\"CVM\":\"Pin Verified\",\"TSI\":\"e800\",\"TVR\":\"0800008000"
            "\"},\"first_six\":\"545454\",\"last_four\":\"5454\",\"payment_meth"
            "od\":\"cc\",\"terminal_serial_number\":\"1234567890\",\"transactio"
            "n_settlement_status\":null,\"charge_back_date\":\"2021-12-01\",\"i"
            "s_recurring\":true,\"notification_email_sent\":true,\"par\":\"Q1J4"
            "Z28RKA1EBL470G9XYG90R5D3E\",\"reason_code_id\":1000,\"recurring_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"settle_date\":\"2021-12-01\",\"s"
            "tatus_code\":101,\"transaction_batch_id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"verbiage\":\"APPROVED\",\"void_date\":\"2021-12-01\",\"batc"
            "h\":\"2\",\"terms_agree\":true,\"response_message\":null,\"return_"
            "date\":\"2021-12-01\",\"trx_source_id\":8,\"routing_number\":\"051"
            "904524\",\"trx_source_code\":8,\"paylink_id\":\"11e95f8ec39de8fbdb"
            "0a4f1a\",\"is_accountvault\":true,\"created_user_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"effective_date\":\"2021-12-01\",\"is_token\":true,\"installment"
            "_total\":1,\"installment_counter\":1,\"account_vault_id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"hosted_payment_page_id\":\"11e95f8ec39de8fb"
            "db0a4f1a\"}],\"cc_product_transaction\":{\"processor_version\":\"1"
            "_0_0\",\"title\":\"My terminal\",\"payment_method\":\"cc\",\"proce"
            "ssor\":\"zgate\",\"mcc\":\"1111\",\"tax_surcharge_config\":2,\"par"
            "tner\":\"standalone\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"surcharge\":{},\"processor_data\":{},\"vt_clerk_number\":true,"
            "\"vt_billing_phone\":true,\"vt_enable_tip\":true,\"ach_allow_debit"
            "\":true,\"ach_allow_credit\":true,\"ach_allow_refund\":true,\"vt_c"
            "vv\":true,\"vt_street\":true,\"vt_zip\":true,\"vt_order_num\":true"
            ",\"vt_enable\":true,\"receipt_show_contact_name\":true,\"display_a"
            "vs\":true,\"card_type_visa\":true,\"card_type_mc\":true,\"card_typ"
            "e_disc\":true,\"card_type_amex\":true,\"card_type_diners\":true,\""
            "card_type_jcb\":true,\"invoice_location\":true,\"allow_partial_aut"
            "horization\":true,\"allow_recurring_partial_authorization\":true,"
            "\"auto_decline_cvv\":true,\"auto_decline_street\":true,\"auto_decl"
            "ine_zip\":true,\"split_payments_allow\":true,\"vt_show_custom_fiel"
            "ds\":true,\"receipt_show_custom_fields\":true,\"vt_override_sales_"
            "tax_allowed\":true,\"vt_enable_sales_tax\":true,\"vt_require_zip\""
            ":true,\"vt_require_street\":true,\"auto_decline_cavv\":true,\"curr"
            "ent_batch\":34,\"dup_check_per_batch\":null,\"paylink_allow\":fals"
            "e,\"quick_invoice_allow\":false,\"level3_allow\":false,\"payfac_en"
            "able\":false,\"sales_office_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ho"
            "sted_payment_page_allow\":false,\"surcharge_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"level3_default\":{},\"cau_subscribe_type_id\":0,\"lo"
            "cation_billing_account_id\":\"11eb88b873980c64a21e5fd2\",\"product"
            "_billing_group_id\":\"nofees\",\"account_number\":\"12345678\",\"r"
            "un_avs_on_accountvault_create\":false,\"accountvault_expire_notifi"
            "cation_email_enable\":false,\"debit_allow_void\":false,\"quick_inv"
            "oice_text_to_pay\":false,\"sms_enable\":false,\"vt_show_currency\""
            ":true,\"receipt_show_currency\":false,\"allow_blind_refund\":false"
            ",\"vt_show_company_name\":false,\"receipt_show_company_name\":fals"
            "e,\"bank_funded_only\":false,\"require_cvv_on_keyed_cnp\":true,\"r"
            "equire_cvv_on_tokenized_cnp\":true,\"show_secondary_amount\":false"
            ",\"allow_secondary_amount\":false,\"show_google_pay\":true,\"show_"
            "apple_pay\":true,\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"active\":tr"
            "ue,\"created_ts\":1422040992,\"modified_ts\":1422040992,\"created_"
            "user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modified_user_id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"product_transaction_api_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"is_secondary_amount_allowed\":false,\"batch_ris"
            "k_config\":{},\"fortis_id\":\"8149742\",\"product_billing_group_co"
            "de\":\"nofees\",\"cau_subscribe_type_code\":0},\"ach_product_trans"
            "action\":{\"processor_version\":\"1_0_0\",\"title\":\"My terminal"
            "\",\"payment_method\":\"cc\",\"processor\":\"zgate\",\"mcc\":\"111"
            "1\",\"tax_surcharge_config\":2,\"partner\":\"standalone\",\"locati"
            "on_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"surcharge\":{},\"processor_"
            "data\":{},\"vt_clerk_number\":true,\"vt_billing_phone\":true,\"vt_"
            "enable_tip\":true,\"ach_allow_debit\":true,\"ach_allow_credit\":tr"
            "ue,\"ach_allow_refund\":true,\"vt_cvv\":true,\"vt_street\":true,\""
            "vt_zip\":true,\"vt_order_num\":true,\"vt_enable\":true,\"receipt_s"
            "how_contact_name\":true,\"display_avs\":true,\"card_type_visa\":tr"
            "ue,\"card_type_mc\":true,\"card_type_disc\":true,\"card_type_amex"
            "\":true,\"card_type_diners\":true,\"card_type_jcb\":true,\"invoice"
            "_location\":true,\"allow_partial_authorization\":true,\"allow_recu"
            "rring_partial_authorization\":true,\"auto_decline_cvv\":true,\"aut"
            "o_decline_street\":true,\"auto_decline_zip\":true,\"split_payments"
            "_allow\":true,\"vt_show_custom_fields\":true,\"receipt_show_custom"
            "_fields\":true,\"vt_override_sales_tax_allowed\":true,\"vt_enable_"
            "sales_tax\":true,\"vt_require_zip\":true,\"vt_require_street\":tru"
            "e,\"auto_decline_cavv\":true,\"current_batch\":34,\"dup_check_per_"
            "batch\":null,\"paylink_allow\":false,\"quick_invoice_allow\":false"
            ",\"level3_allow\":false,\"payfac_enable\":false,\"sales_office_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"hosted_payment_page_allow\":fals"
            "e,\"surcharge_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"level3_default\""
            ":{},\"cau_subscribe_type_id\":0,\"location_billing_account_id\":\""
            "11eb88b873980c64a21e5fd2\",\"product_billing_group_id\":\"nofees\""
            ",\"account_number\":\"12345678\",\"run_avs_on_accountvault_create"
            "\":false,\"accountvault_expire_notification_email_enable\":false,"
            "\"debit_allow_void\":false,\"quick_invoice_text_to_pay\":false,\"s"
            "ms_enable\":false,\"vt_show_currency\":true,\"receipt_show_currenc"
            "y\":false,\"allow_blind_refund\":false,\"vt_show_company_name\":fa"
            "lse,\"receipt_show_company_name\":false,\"bank_funded_only\":false"
            ",\"require_cvv_on_keyed_cnp\":true,\"require_cvv_on_tokenized_cnp"
            "\":true,\"show_secondary_amount\":false,\"allow_secondary_amount\""
            ":false,\"show_google_pay\":true,\"show_apple_pay\":true,\"id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"active\":true,\"created_ts\":142204099"
            "2,\"modified_ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"pr"
            "oduct_transaction_api_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"is_secon"
            "dary_amount_allowed\":false,\"batch_risk_config\":{},\"fortis_id\""
            ":\"8149742\",\"product_billing_group_code\":\"nofees\",\"cau_subsc"
            "ribe_type_code\":0},\"email_blacklist\":{\"id\":\"11e95f8ec39de8fb"
            "db0a4f1a\",\"isBlacklisted\":true,\"detail\":true,\"created_ts\":1"
            "422040992},\"sms_blacklist\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"isBlacklisted\":true,\"detail\":true,\"created_ts\":1422040992}}"
            "}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

