
"""
fortisapi

This file was automatically generated by APIMATIC v3.0 (
 https://www.apimatic.io ).
"""

# ruff: noqa: PLR0915, W291
from apimatic_core.utilities.comparison_helper import (
    ComparisonHelper,
)

from fortisapi.api_helper import APIHelper
from tests.controllers.controller_test_base import (
    ControllerTestBase,
)


class TokensControllerTests(ControllerTestBase):
    """
    Endpoint tests for validating the API behavior.

    Ensures controller methods execute correctly and produce the expected
    responses using the shared test client and response catcher.
    """

    controller = None

    @classmethod
    def setUpClass(cls):
        """
        Initialize the shared test client and controller for all test methods.
        """
        super().setUpClass()
        cls.controller = cls.client.tokens
        cls.response_catcher = cls.controller.http_call_back

    def test_delete_a_single_token_record(self):
        """
        Delete a single token record.
        """
        # Parameters for the API call
        token_id = "11e95f8ec39de8fbdb0a4f1a"

        # Perform the API call through the SDK function
        result = self.controller.delete_a_single_token_record(
            token_id,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 204
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"Token\",\"data\":{\"account_holder_name\":\"John Smith"
            "\",\"account_vault_api_id\":\"accountvaultabcd\",\"token_api_id\":"
            "\"tokenabcd\",\"accountvault_c1\":\"accountvault custom 1\",\"acco"
            "untvault_c2\":\"accountvault custom 2\",\"accountvault_c3\":\"acco"
            "untvault custom 3\",\"token_c1\":\"token custom 1\",\"token_c2\":"
            "\"token custom 2\",\"token_c3\":\"token custom 3\",\"ach_sec_code"
            "\":\"WEB\",\"billing_address\":{\"city\":\"Novi\",\"state\":\"Mich"
            "igan\",\"postal_code\":\"48375\",\"phone\":\"3339998822\",\"countr"
            "y\":\"USA\"},\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"custome"
            "r_id\":\"123456\",\"identity_verification\":{\"dl_state\":\"MI\","
            "\"dl_number\":\"1235567\",\"ssn4\":\"8527\",\"dob_year\":\"1980\"}"
            ",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"previous_account_v"
            "ault_api_id\":\"previousaccountvault123456\",\"previous_token_api_"
            "id\":\"previousaccountvault123456\",\"previous_account_vault_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"previous_token_id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"previous_transaction_id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"account_number\":\"545454545454545\",\"terms_agree\":true,"
            "\"terms_agree_ip\":\"192.168.0.10\",\"title\":\"Test CC Account\","
            "\"_joi\":{},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_type\":"
            "\"checking\",\"active\":true,\"cau_summary_status_id\":1,\"created"
            "_ts\":1422040992,\"e_serial_number\":\"1234567890\",\"e_track_data"
            "\":null,\"e_format\":null,\"e_keyed_data\":null,\"expiring_in_mont"
            "hs\":null,\"exp_date\":\"0722\",\"first_six\":\"700953\",\"has_rec"
            "urring\":false,\"last_four\":\"3657\",\"modified_ts\":1422040992,"
            "\"payment_method\":\"cc\",\"ticket\":null,\"track_data\":null,\"cr"
            "eated_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cau_last_updated_ts"
            "\":1422040992,\"routing_number\":\"051904524\",\"location\":{\"id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modifi"
            "ed_ts\":1422040992,\"account_number\":\"5454545454545454\",\"addre"
            "ss\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"48375\""
            ",\"country\":\"US\"},\"branding_domain_id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"contact_email_trx_receipt_default\":true,\"default_ach\":"
            "\"11e608a7d515f1e093242bb2\",\"default_cc\":\"11e608a442a5f1e09224"
            "2dda\",\"email_reply_to\":\"email@domain.com\",\"fax\":\"333999882"
            "2\",\"location_api_id\":\"location-111111\",\"location_api_key\":"
            "\"AE34BBCAADF4AE34BBCAADF4\",\"location_c1\":\"custom 1\",\"locati"
            "on_c2\":\"custom 2\",\"location_c3\":\"custom data 3\",\"name\":\""
            "Sample Company Headquarters\",\"office_phone\":\"2481234567\",\"of"
            "fice_ext_phone\":\"1021021209\",\"tz\":\"America/New_York\",\"pare"
            "nt_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"show_contact_notes\":true,"
            "\"show_contact_files\":true,\"created_user_id\":\"11e95f8ec39de8fb"
            "db0a4f1a\",\"location_type\":\"merchant\",\"ticket_hash_key\":\"A5"
            "F443CADF4AE34BBCAADF4\"},\"contact\":{\"location_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"account_number\":\"54545433332\",\"contact_api_"
            "id\":\"137\",\"first_name\":\"John\",\"last_name\":\"Smith\",\"cel"
            "l_phone\":\"3339998822\",\"balance\":245.36,\"address\":{\"city\":"
            "\"Novi\",\"state\":\"Michigan\",\"postal_code\":\"48375\",\"countr"
            "y\":\"US\"},\"company_name\":\"Fortis Payment Systems, LLC\",\"hea"
            "der_message\":\"This is a sample message for you\",\"date_of_birth"
            "\":\"2021-12-01\",\"email_trx_receipt\":true,\"home_phone\":\"3339"
            "998822\",\"office_phone\":\"3339998822\",\"office_phone_ext\":\"5"
            "\",\"header_message_type\":0,\"update_if_exists\":1,\"contact_c1\""
            ":\"any\",\"contact_c2\":\"anything\",\"contact_c3\":\"something\","
            "\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domai"
            "n.com\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040"
            "992,\"modified_ts\":1422040992,\"active\":true,\"created_user_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\"},\"transactions\":[{\"additional_amo"
            "unts\":[{\"type\":\"cashback\",\"amount\":10,\"account_type\":\"cr"
            "edit\",\"currency\":840}],\"billing_address\":{\"city\":\"Novi\","
            "\"state\":\"Michigan\",\"postal_code\":\"48375\",\"phone\":\"33399"
            "98822\",\"country\":\"USA\"},\"checkin_date\":\"2021-12-01\",\"che"
            "ckout_date\":\"2021-12-01\",\"clerk_number\":\"AE1234\",\"contact_"
            "id\":\"11e95f8ec39de8fbdb0a4f1a\",\"custom_data\":{},\"customer_id"
            "\":\"customerid\",\"description\":\"some description\",\"identity_"
            "verification\":{\"dl_state\":\"MI\",\"dl_number\":\"1235567\",\"do"
            "b_year\":\"1980\"},\"iias_ind\":1,\"image_front\":\"U29tZVN0cmluZ0"
            "9idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=\",\"image_back\":\"U29tZVN0cmlu"
            "Z09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=\",\"installment\":true,\"inst"
            "allment_number\":1,\"installment_count\":1,\"location_api_id\":\"l"
            "ocation-api-id-florida-2\",\"location_id\":\"11e95f8ec39de8fbdb0a4"
            "f1a\",\"product_transaction_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ad"
            "vance_deposit\":false,\"no_show\":false,\"notification_email_addre"
            "ss\":\"johnsmith@smiths.com\",\"order_number\":\"433659378839\",\""
            "po_number\":\"555555553123\",\"quick_invoice_id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"recurring\":false,\"recurring_number\":1,\"room_num"
            "\":\"303\",\"room_rate\":95,\"save_account\":false,\"save_account_"
            "title\":\"John Account\",\"subtotal_amount\":599,\"surcharge_amoun"
            "t\":100,\"tags\":[\"Walk-in Customer\"],\"tax\":0,\"tip_amount\":0"
            ",\"transaction_amount\":0,\"secondary_amount\":0,\"transaction_api"
            "_id\":\"transaction-payment-abcd123\",\"transaction_c1\":\"custom-"
            "data-1\",\"transaction_c2\":\"custom-data-2\",\"transaction_c3\":"
            "\"custom-data-3\",\"bank_funded_only_override\":false,\"allow_part"
            "ial_authorization_override\":false,\"auto_decline_cvv_override\":f"
            "alse,\"auto_decline_street_override\":false,\"auto_decline_zip_ove"
            "rride\":false,\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1"
            "422040992,\"modified_ts\":1422040992,\"terminal_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"account_holder_name\":\"smith\",\"account_type\""
            ":\"checking\",\"token_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ach_iden"
            "tifier\":\"P\",\"ach_sec_code\":\"C21\",\"auth_amount\":1,\"auth_c"
            "ode\":\"BR349K\",\"avs\":\"BAD\",\"avs_enhanced\":\"N\",\"cardhold"
            "er_present\":true,\"card_present\":true,\"check_number\":\"8520748"
            "520963\",\"customer_ip\":\"192.168.0.10\",\"cvv_response\":\"N\","
            "\"entry_mode_id\":\"C\",\"emv_receipt_data\":{\"AID\":\"a000000004"
            "2203\",\"APPLAB\":\"US Maestro\",\"APPN\":\"US Maestro\",\"CVM\":"
            "\"Pin Verified\",\"TSI\":\"e800\",\"TVR\":\"0800008000\"},\"first_"
            "six\":\"545454\",\"last_four\":\"5454\",\"payment_method\":\"cc\","
            "\"terminal_serial_number\":\"1234567890\",\"transaction_settlement"
            "_status\":null,\"charge_back_date\":\"2021-12-01\",\"is_recurring"
            "\":true,\"notification_email_sent\":true,\"par\":\"Q1J4Z28RKA1EBL4"
            "70G9XYG90R5D3E\",\"reason_code_id\":1000,\"recurring_id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"settle_date\":\"2021-12-01\",\"status_code"
            "\":101,\"transaction_batch_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ver"
            "biage\":\"APPROVED\",\"void_date\":\"2021-12-01\",\"batch\":\"2\","
            "\"terms_agree\":true,\"response_message\":null,\"return_date\":\"2"
            "021-12-01\",\"trx_source_id\":8,\"routing_number\":\"051904524\","
            "\"trx_source_code\":8,\"paylink_id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"is_accountvault\":true,\"created_user_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"modified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"effect"
            "ive_date\":\"2021-12-01\",\"is_token\":true,\"installment_total\":"
            "1,\"installment_counter\":1,\"account_vault_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"hosted_payment_page_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\"}],\"activeRecurrings\":[{\"account_vault_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"token_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_vault_api_id\":\"token12"
            "34abcd\",\"token_api_id\":\"token1234abcd\",\"_joi\":{\"conditions"
            "\":{}},\"active\":true,\"description\":\"Description\",\"end_date"
            "\":\"2021-12-01\",\"installment_total_count\":20,\"interval\":1,\""
            "interval_type\":\"d\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"notification_days\":2,\"payment_method\":\"cc\",\"product_trans"
            "action_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"recurring_id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"recurring_api_id\":\"recurring1234abcd\",\""
            "start_date\":\"2021-12-01\",\"status\":\"active\",\"transaction_am"
            "ount\":300,\"terms_agree\":true,\"terms_agree_ip\":\"192.168.0.10"
            "\",\"recurring_c1\":\"recurring custom data 1\",\"recurring_c2\":"
            "\"recurring custom data 2\",\"recurring_c3\":\"recurring custom da"
            "ta 3\",\"send_to_proc_as_recur\":true,\"tags\":[\"Walk-in Customer"
            "\"],\"secondary_amount\":100,\"currency\":\"USD\",\"id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"next_run_date\":\"2021-12-01\",\"created_ts"
            "\":1422040992,\"modified_ts\":1422040992,\"recurring_type_id\":\"i"
            "\",\"installment_amount_total\":99999999,\"created_user_id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\"}],\"is_deletable\":true,\"signature\":{\"s"
            "ignature\":\"iVBORw0KGgoAAAANSUhEUgAAANwAAAAsCAYAAAAOyNaYAAACvklEQ"
            "VR4nO3bLZOqUBjA8ScaNxqNRiKRaCQaiXwEG7cRiUajH8FINBqJRCKR+NxyD4OIXta"
            "Xw2H3/5s5MwZ39rgz/zkvuKKqgar+YTAYnx/y7wUACwgOsIjgAIsIznFlWerlcpl6G"
            "ngTgnNYVVW6WCxURDTLsqmngzcgOMdtNhsVERURDYJA8zyfekp4AcE5oCgKzfN8cOv"
            "YNM1VdCKiURRNMEu8A8FNrCzLm5j68Q1Fx2o3TwTngCzLNAiCq6D6UTVNo0mS6NfXF"
            "+HNGME5or+KeZ7XxrVcLjWOY83zXOu6vnqfeQ/bzHkgOIf0VzHP83Sz2eh6vW4D831"
            "fy7JsowvDsH1NdO4jOAfVdX0VXhRFWhSFRlHUrmr7/b4NLU3T9jVbTLcRnMO620eze"
            "p1Op3bF832/3XIORQr3EJzjumc7E9HQBUoYhjdnPKJzD8E5xjyT647T6aSr1UpFRPf"
            "7ffveuq41TdOHZzyicwvBTeBeVGEY3jwaGBrmWV3/Z82K1z/jca5zB8F9wFBQY6JaL"
            "BYax7EmSXJ3DD2v624rzUpoVrsgCDjXOWRWwVVVNfUUrvTDGrNK3YsqTdNRn69pGs2"
            "y7NshssV0w2yCK4pCRUSPx+Okc/hfWI9WqbFRPaMbYjc+s7ptt1uic8BsgsvzXEVED"
            "4fDR3/P2PPVUFifDOo7THxmPiY03/fZXk7s1wR371z1zPnKlbDGuvc9TKKz78cE9yi"
            "o3W436vbv1fOV6/oPx010/Ee5PbMLbrfbPRWU53kPb/9+SlRj9L8ALcJ/lNsym+DO5"
            "/PTQaVpqnVdT/0RnGLOed0LlikvpH6L2QSnqoPX4QT1mu4FC3/Dz5tVcMDcERxgEcE"
            "BFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBA"
            "RYRHGDRX+EC0ah++pNrAAAAAElFTkSuQmCC\",\"resource\":\"Transaction\""
            ",\"resource_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":14220409"
            "92},\"created_user\":{\"account_number\":\"5454545454545454\",\"br"
            "anding_domain_url\":\"{branding_domain_url}\",\"cell_phone\":\"333"
            "9998822\",\"company_name\":\"Fortis Payment Systems, LLC\",\"conta"
            "ct_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"date_of_birth\":\"2021-12-0"
            "1\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@d"
            "omain.com\",\"email_trx_receipt\":true,\"home_phone\":\"3339998822"
            "\",\"first_name\":\"John\",\"last_name\":\"Smith\",\"locale\":\"en"
            "-US\",\"office_phone\":\"3339998822\",\"office_ext_phone\":\"5\","
            "\"primary_location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_ne"
            "w_password\":null,\"terms_condition_code\":\"20220308\",\"tz\":\"A"
            "merica/New_York\",\"ui_prefs\":{\"entry_page\":\"dashboard\",\"pag"
            "e_size\":2,\"report_export_type\":\"csv\",\"process_method\":\"vir"
            "tual_terminal\",\"default_terminal\":\"11e95f8ec39de8fbdb0a4f1a\"}"
            ",\"username\":\"{user_name}\",\"user_api_key\":\"234bas8dfn8238f92"
            "3w2\",\"user_hash_key\":null,\"user_type_code\":100,\"password\":n"
            "ull,\"zip\":\"48375\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"status_code\":1,\"api_only\":false,\"is_invitation\":false,\"ad"
            "dress\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"4837"
            "5\",\"country\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"stat"
            "us\":true,\"login_attempts\":0,\"last_login_ts\":1422040992,\"crea"
            "ted_ts\":1422040992,\"modified_ts\":1422040992,\"created_user_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\",\"terms_accepted_ts\":1422040992,\"t"
            "erms_agree_ip\":\"192.168.0.10\",\"current_date_time\":\"2019-03-1"
            "1T10:38:26-0700\",\"current_login\":1422040992,\"log_api_response_"
            "body_ts\":1422040992},\"changelogs\":[{\"id\":\"11e95f8ec39de8fbdb"
            "0a4f1a\",\"created_ts\":1422040992,\"action\":\"CREATE\",\"model\""
            ":\"TransactionRequest\",\"model_id\":\"11ec829598f0d4008be9aba4\","
            "\"user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_details\":[{"
            "\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"field\":\"next_run_ts\",\"old_value\":\"16436160"
            "00\"}],\"user\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"username\":"
            "\"email@domain.com\",\"first_name\":\"Bob\",\"last_name\":\"Fairvi"
            "ew\"}}],\"account_vault_cau_logs\":[{\"id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"product_transaction_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"a"
            "ccount_vault_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422"
            "040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}],\"accoun"
            "t_vault_cau_product_transactions\":[{\"id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"acco"
            "unt_number\":\"5454545454545454\",\"address\":{\"city\":\"Novi\","
            "\"state\":\"MI\",\"postal_code\":\"48375\",\"country\":\"US\"},\"b"
            "randing_domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_email_t"
            "rx_receipt_default\":true,\"default_ach\":\"11e608a7d515f1e093242b"
            "b2\",\"default_cc\":\"11e608a442a5f1e092242dda\",\"email_reply_to"
            "\":\"email@domain.com\",\"fax\":\"3339998822\",\"location_api_id\""
            ":\"location-111111\",\"location_api_key\":\"AE34BBCAADF4AE34BBCAAD"
            "F4\",\"location_c1\":\"custom 1\",\"location_c2\":\"custom 2\",\"l"
            "ocation_c3\":\"custom data 3\",\"name\":\"Sample Company Headquart"
            "ers\",\"office_phone\":\"2481234567\",\"office_ext_phone\":\"10210"
            "21209\",\"tz\":\"America/New_York\",\"parent_id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"show_contact_notes\":true,\"show_contact_files\":tr"
            "ue,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"location_typ"
            "e\":\"merchant\",\"ticket_hash_key\":\"A5F443CADF4AE34BBCAADF4\"}]"
            "}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_view_single_token_record(self):
        """
        View single token record.
        """
        # Parameters for the API call
        token_id = "11e95f8ec39de8fbdb0a4f1a"
        expand = None
        fields = None

        # Perform the API call through the SDK function
        result = self.controller.view_single_token_record(
            token_id,
            expand,
            fields,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 200
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"Token\",\"data\":{\"account_holder_name\":\"John Smith"
            "\",\"account_vault_api_id\":\"accountvaultabcd\",\"token_api_id\":"
            "\"tokenabcd\",\"accountvault_c1\":\"accountvault custom 1\",\"acco"
            "untvault_c2\":\"accountvault custom 2\",\"accountvault_c3\":\"acco"
            "untvault custom 3\",\"token_c1\":\"token custom 1\",\"token_c2\":"
            "\"token custom 2\",\"token_c3\":\"token custom 3\",\"ach_sec_code"
            "\":\"WEB\",\"billing_address\":{\"city\":\"Novi\",\"state\":\"Mich"
            "igan\",\"postal_code\":\"48375\",\"phone\":\"3339998822\",\"countr"
            "y\":\"USA\"},\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"custome"
            "r_id\":\"123456\",\"identity_verification\":{\"dl_state\":\"MI\","
            "\"dl_number\":\"1235567\",\"ssn4\":\"8527\",\"dob_year\":\"1980\"}"
            ",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"previous_account_v"
            "ault_api_id\":\"previousaccountvault123456\",\"previous_token_api_"
            "id\":\"previousaccountvault123456\",\"previous_account_vault_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"previous_token_id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"previous_transaction_id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"account_number\":\"545454545454545\",\"terms_agree\":true,"
            "\"terms_agree_ip\":\"192.168.0.10\",\"title\":\"Test CC Account\","
            "\"_joi\":{},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_type\":"
            "\"checking\",\"active\":true,\"cau_summary_status_id\":1,\"created"
            "_ts\":1422040992,\"e_serial_number\":\"1234567890\",\"e_track_data"
            "\":null,\"e_format\":null,\"e_keyed_data\":null,\"expiring_in_mont"
            "hs\":null,\"exp_date\":\"0722\",\"first_six\":\"700953\",\"has_rec"
            "urring\":false,\"last_four\":\"3657\",\"modified_ts\":1422040992,"
            "\"payment_method\":\"cc\",\"ticket\":null,\"track_data\":null,\"cr"
            "eated_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cau_last_updated_ts"
            "\":1422040992,\"routing_number\":\"051904524\",\"location\":{\"id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modifi"
            "ed_ts\":1422040992,\"account_number\":\"5454545454545454\",\"addre"
            "ss\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"48375\""
            ",\"country\":\"US\"},\"branding_domain_id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"contact_email_trx_receipt_default\":true,\"default_ach\":"
            "\"11e608a7d515f1e093242bb2\",\"default_cc\":\"11e608a442a5f1e09224"
            "2dda\",\"email_reply_to\":\"email@domain.com\",\"fax\":\"333999882"
            "2\",\"location_api_id\":\"location-111111\",\"location_api_key\":"
            "\"AE34BBCAADF4AE34BBCAADF4\",\"location_c1\":\"custom 1\",\"locati"
            "on_c2\":\"custom 2\",\"location_c3\":\"custom data 3\",\"name\":\""
            "Sample Company Headquarters\",\"office_phone\":\"2481234567\",\"of"
            "fice_ext_phone\":\"1021021209\",\"tz\":\"America/New_York\",\"pare"
            "nt_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"show_contact_notes\":true,"
            "\"show_contact_files\":true,\"created_user_id\":\"11e95f8ec39de8fb"
            "db0a4f1a\",\"location_type\":\"merchant\",\"ticket_hash_key\":\"A5"
            "F443CADF4AE34BBCAADF4\"},\"contact\":{\"location_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"account_number\":\"54545433332\",\"contact_api_"
            "id\":\"137\",\"first_name\":\"John\",\"last_name\":\"Smith\",\"cel"
            "l_phone\":\"3339998822\",\"balance\":245.36,\"address\":{\"city\":"
            "\"Novi\",\"state\":\"Michigan\",\"postal_code\":\"48375\",\"countr"
            "y\":\"US\"},\"company_name\":\"Fortis Payment Systems, LLC\",\"hea"
            "der_message\":\"This is a sample message for you\",\"date_of_birth"
            "\":\"2021-12-01\",\"email_trx_receipt\":true,\"home_phone\":\"3339"
            "998822\",\"office_phone\":\"3339998822\",\"office_phone_ext\":\"5"
            "\",\"header_message_type\":0,\"update_if_exists\":1,\"contact_c1\""
            ":\"any\",\"contact_c2\":\"anything\",\"contact_c3\":\"something\","
            "\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domai"
            "n.com\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040"
            "992,\"modified_ts\":1422040992,\"active\":true,\"created_user_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\"},\"transactions\":[{\"additional_amo"
            "unts\":[{\"type\":\"cashback\",\"amount\":10,\"account_type\":\"cr"
            "edit\",\"currency\":840}],\"billing_address\":{\"city\":\"Novi\","
            "\"state\":\"Michigan\",\"postal_code\":\"48375\",\"phone\":\"33399"
            "98822\",\"country\":\"USA\"},\"checkin_date\":\"2021-12-01\",\"che"
            "ckout_date\":\"2021-12-01\",\"clerk_number\":\"AE1234\",\"contact_"
            "id\":\"11e95f8ec39de8fbdb0a4f1a\",\"custom_data\":{},\"customer_id"
            "\":\"customerid\",\"description\":\"some description\",\"identity_"
            "verification\":{\"dl_state\":\"MI\",\"dl_number\":\"1235567\",\"do"
            "b_year\":\"1980\"},\"iias_ind\":1,\"image_front\":\"U29tZVN0cmluZ0"
            "9idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=\",\"image_back\":\"U29tZVN0cmlu"
            "Z09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=\",\"installment\":true,\"inst"
            "allment_number\":1,\"installment_count\":1,\"location_api_id\":\"l"
            "ocation-api-id-florida-2\",\"location_id\":\"11e95f8ec39de8fbdb0a4"
            "f1a\",\"product_transaction_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ad"
            "vance_deposit\":false,\"no_show\":false,\"notification_email_addre"
            "ss\":\"johnsmith@smiths.com\",\"order_number\":\"433659378839\",\""
            "po_number\":\"555555553123\",\"quick_invoice_id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"recurring\":false,\"recurring_number\":1,\"room_num"
            "\":\"303\",\"room_rate\":95,\"save_account\":false,\"save_account_"
            "title\":\"John Account\",\"subtotal_amount\":599,\"surcharge_amoun"
            "t\":100,\"tags\":[\"Walk-in Customer\"],\"tax\":0,\"tip_amount\":0"
            ",\"transaction_amount\":0,\"secondary_amount\":0,\"transaction_api"
            "_id\":\"transaction-payment-abcd123\",\"transaction_c1\":\"custom-"
            "data-1\",\"transaction_c2\":\"custom-data-2\",\"transaction_c3\":"
            "\"custom-data-3\",\"bank_funded_only_override\":false,\"allow_part"
            "ial_authorization_override\":false,\"auto_decline_cvv_override\":f"
            "alse,\"auto_decline_street_override\":false,\"auto_decline_zip_ove"
            "rride\":false,\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1"
            "422040992,\"modified_ts\":1422040992,\"terminal_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"account_holder_name\":\"smith\",\"account_type\""
            ":\"checking\",\"token_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ach_iden"
            "tifier\":\"P\",\"ach_sec_code\":\"C21\",\"auth_amount\":1,\"auth_c"
            "ode\":\"BR349K\",\"avs\":\"BAD\",\"avs_enhanced\":\"N\",\"cardhold"
            "er_present\":true,\"card_present\":true,\"check_number\":\"8520748"
            "520963\",\"customer_ip\":\"192.168.0.10\",\"cvv_response\":\"N\","
            "\"entry_mode_id\":\"C\",\"emv_receipt_data\":{\"AID\":\"a000000004"
            "2203\",\"APPLAB\":\"US Maestro\",\"APPN\":\"US Maestro\",\"CVM\":"
            "\"Pin Verified\",\"TSI\":\"e800\",\"TVR\":\"0800008000\"},\"first_"
            "six\":\"545454\",\"last_four\":\"5454\",\"payment_method\":\"cc\","
            "\"terminal_serial_number\":\"1234567890\",\"transaction_settlement"
            "_status\":null,\"charge_back_date\":\"2021-12-01\",\"is_recurring"
            "\":true,\"notification_email_sent\":true,\"par\":\"Q1J4Z28RKA1EBL4"
            "70G9XYG90R5D3E\",\"reason_code_id\":1000,\"recurring_id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"settle_date\":\"2021-12-01\",\"status_code"
            "\":101,\"transaction_batch_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"ver"
            "biage\":\"APPROVED\",\"void_date\":\"2021-12-01\",\"batch\":\"2\","
            "\"terms_agree\":true,\"response_message\":null,\"return_date\":\"2"
            "021-12-01\",\"trx_source_id\":8,\"routing_number\":\"051904524\","
            "\"trx_source_code\":8,\"paylink_id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"is_accountvault\":true,\"created_user_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"modified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"effect"
            "ive_date\":\"2021-12-01\",\"is_token\":true,\"installment_total\":"
            "1,\"installment_counter\":1,\"account_vault_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"hosted_payment_page_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\"}],\"activeRecurrings\":[{\"account_vault_id\":\"11e95f8ec39de8f"
            "bdb0a4f1a\",\"token_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_vault_api_id\":\"token12"
            "34abcd\",\"token_api_id\":\"token1234abcd\",\"_joi\":{\"conditions"
            "\":{}},\"active\":true,\"description\":\"Description\",\"end_date"
            "\":\"2021-12-01\",\"installment_total_count\":20,\"interval\":1,\""
            "interval_type\":\"d\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"notification_days\":2,\"payment_method\":\"cc\",\"product_trans"
            "action_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"recurring_id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"recurring_api_id\":\"recurring1234abcd\",\""
            "start_date\":\"2021-12-01\",\"status\":\"active\",\"transaction_am"
            "ount\":300,\"terms_agree\":true,\"terms_agree_ip\":\"192.168.0.10"
            "\",\"recurring_c1\":\"recurring custom data 1\",\"recurring_c2\":"
            "\"recurring custom data 2\",\"recurring_c3\":\"recurring custom da"
            "ta 3\",\"send_to_proc_as_recur\":true,\"tags\":[\"Walk-in Customer"
            "\"],\"secondary_amount\":100,\"currency\":\"USD\",\"id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"next_run_date\":\"2021-12-01\",\"created_ts"
            "\":1422040992,\"modified_ts\":1422040992,\"recurring_type_id\":\"i"
            "\",\"installment_amount_total\":99999999,\"created_user_id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\"}],\"is_deletable\":true,\"signature\":{\"s"
            "ignature\":\"iVBORw0KGgoAAAANSUhEUgAAANwAAAAsCAYAAAAOyNaYAAACvklEQ"
            "VR4nO3bLZOqUBjA8ScaNxqNRiKRaCQaiXwEG7cRiUajH8FINBqJRCKR+NxyD4OIXta"
            "Xw2H3/5s5MwZ39rgz/zkvuKKqgar+YTAYnx/y7wUACwgOsIjgAIsIznFlWerlcpl6G"
            "ngTgnNYVVW6WCxURDTLsqmngzcgOMdtNhsVERURDYJA8zyfekp4AcE5oCgKzfN8cOv"
            "YNM1VdCKiURRNMEu8A8FNrCzLm5j68Q1Fx2o3TwTngCzLNAiCq6D6UTVNo0mS6NfXF"
            "+HNGME5or+KeZ7XxrVcLjWOY83zXOu6vnqfeQ/bzHkgOIf0VzHP83Sz2eh6vW4D831"
            "fy7JsowvDsH1NdO4jOAfVdX0VXhRFWhSFRlHUrmr7/b4NLU3T9jVbTLcRnMO620eze"
            "p1Op3bF832/3XIORQr3EJzjumc7E9HQBUoYhjdnPKJzD8E5xjyT647T6aSr1UpFRPf"
            "7ffveuq41TdOHZzyicwvBTeBeVGEY3jwaGBrmWV3/Z82K1z/jca5zB8F9wFBQY6JaL"
            "BYax7EmSXJ3DD2v624rzUpoVrsgCDjXOWRWwVVVNfUUrvTDGrNK3YsqTdNRn69pGs2"
            "y7NshssV0w2yCK4pCRUSPx+Okc/hfWI9WqbFRPaMbYjc+s7ptt1uic8BsgsvzXEVED"
            "4fDR3/P2PPVUFifDOo7THxmPiY03/fZXk7s1wR371z1zPnKlbDGuvc9TKKz78cE9yi"
            "o3W436vbv1fOV6/oPx010/Ee5PbMLbrfbPRWU53kPb/9+SlRj9L8ALcJ/lNsym+DO5"
            "/PTQaVpqnVdT/0RnGLOed0LlikvpH6L2QSnqoPX4QT1mu4FC3/Dz5tVcMDcERxgEcE"
            "BFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBA"
            "RYRHGDRX+EC0ah++pNrAAAAAElFTkSuQmCC\",\"resource\":\"Transaction\""
            ",\"resource_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":14220409"
            "92},\"created_user\":{\"account_number\":\"5454545454545454\",\"br"
            "anding_domain_url\":\"{branding_domain_url}\",\"cell_phone\":\"333"
            "9998822\",\"company_name\":\"Fortis Payment Systems, LLC\",\"conta"
            "ct_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"date_of_birth\":\"2021-12-0"
            "1\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@d"
            "omain.com\",\"email_trx_receipt\":true,\"home_phone\":\"3339998822"
            "\",\"first_name\":\"John\",\"last_name\":\"Smith\",\"locale\":\"en"
            "-US\",\"office_phone\":\"3339998822\",\"office_ext_phone\":\"5\","
            "\"primary_location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_ne"
            "w_password\":null,\"terms_condition_code\":\"20220308\",\"tz\":\"A"
            "merica/New_York\",\"ui_prefs\":{\"entry_page\":\"dashboard\",\"pag"
            "e_size\":2,\"report_export_type\":\"csv\",\"process_method\":\"vir"
            "tual_terminal\",\"default_terminal\":\"11e95f8ec39de8fbdb0a4f1a\"}"
            ",\"username\":\"{user_name}\",\"user_api_key\":\"234bas8dfn8238f92"
            "3w2\",\"user_hash_key\":null,\"user_type_code\":100,\"password\":n"
            "ull,\"zip\":\"48375\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            ",\"status_code\":1,\"api_only\":false,\"is_invitation\":false,\"ad"
            "dress\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"4837"
            "5\",\"country\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"stat"
            "us\":true,\"login_attempts\":0,\"last_login_ts\":1422040992,\"crea"
            "ted_ts\":1422040992,\"modified_ts\":1422040992,\"created_user_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\",\"terms_accepted_ts\":1422040992,\"t"
            "erms_agree_ip\":\"192.168.0.10\",\"current_date_time\":\"2019-03-1"
            "1T10:38:26-0700\",\"current_login\":1422040992,\"log_api_response_"
            "body_ts\":1422040992},\"changelogs\":[{\"id\":\"11e95f8ec39de8fbdb"
            "0a4f1a\",\"created_ts\":1422040992,\"action\":\"CREATE\",\"model\""
            ":\"TransactionRequest\",\"model_id\":\"11ec829598f0d4008be9aba4\","
            "\"user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_details\":[{"
            "\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"field\":\"next_run_ts\",\"old_value\":\"16436160"
            "00\"}],\"user\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"username\":"
            "\"email@domain.com\",\"first_name\":\"Bob\",\"last_name\":\"Fairvi"
            "ew\"}}],\"account_vault_cau_logs\":[{\"id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"product_transaction_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"a"
            "ccount_vault_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422"
            "040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}],\"accoun"
            "t_vault_cau_product_transactions\":[{\"id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"acco"
            "unt_number\":\"5454545454545454\",\"address\":{\"city\":\"Novi\","
            "\"state\":\"MI\",\"postal_code\":\"48375\",\"country\":\"US\"},\"b"
            "randing_domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"contact_email_t"
            "rx_receipt_default\":true,\"default_ach\":\"11e608a7d515f1e093242b"
            "b2\",\"default_cc\":\"11e608a442a5f1e092242dda\",\"email_reply_to"
            "\":\"email@domain.com\",\"fax\":\"3339998822\",\"location_api_id\""
            ":\"location-111111\",\"location_api_key\":\"AE34BBCAADF4AE34BBCAAD"
            "F4\",\"location_c1\":\"custom 1\",\"location_c2\":\"custom 2\",\"l"
            "ocation_c3\":\"custom data 3\",\"name\":\"Sample Company Headquart"
            "ers\",\"office_phone\":\"2481234567\",\"office_ext_phone\":\"10210"
            "21209\",\"tz\":\"America/New_York\",\"parent_id\":\"11e95f8ec39de8"
            "fbdb0a4f1a\",\"show_contact_notes\":true,\"show_contact_files\":tr"
            "ue,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"location_typ"
            "e\":\"merchant\",\"ticket_hash_key\":\"A5F443CADF4AE34BBCAADF4\"}]"
            "}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_list_all_tokens_related(self):
        """
        List all tokens related.
        """
        # Parameters for the API call
        page = None
        order = None
        filter_by = None
        expand = None
        format = None
        typeahead = None
        fields = None

        # Perform the API call through the SDK function
        result = self.controller.list_all_tokens_related(
            page,
            order,
            filter_by,
            expand,
            format,
            typeahead,
            fields,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 200
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"TokensCollection\",\"list\":[{\"account_holder_name\":"
            "\"John Smith\",\"account_vault_api_id\":\"accountvaultabcd\",\"tok"
            "en_api_id\":\"tokenabcd\",\"accountvault_c1\":\"accountvault custo"
            "m 1\",\"accountvault_c2\":\"accountvault custom 2\",\"accountvault"
            "_c3\":\"accountvault custom 3\",\"token_c1\":\"token custom 1\",\""
            "token_c2\":\"token custom 2\",\"token_c3\":\"token custom 3\",\"ac"
            "h_sec_code\":\"WEB\",\"billing_address\":{\"city\":\"Novi\",\"stat"
            "e\":\"Michigan\",\"postal_code\":\"48375\",\"phone\":\"3339998822"
            "\",\"country\":\"USA\"},\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"customer_id\":\"123456\",\"identity_verification\":{\"dl_stat"
            "e\":\"MI\",\"dl_number\":\"1235567\",\"ssn4\":\"8527\",\"dob_year"
            "\":\"1980\"},\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"previo"
            "us_account_vault_api_id\":\"previousaccountvault123456\",\"previou"
            "s_token_api_id\":\"previousaccountvault123456\",\"previous_account"
            "_vault_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"previous_token_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"previous_transaction_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"account_number\":\"545454545454545\",\"terms_ag"
            "ree\":true,\"terms_agree_ip\":\"192.168.0.10\",\"title\":\"Test CC"
            " Account\",\"_joi\":{},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"accou"
            "nt_type\":\"checking\",\"active\":true,\"cau_summary_status_id\":1"
            ",\"created_ts\":1422040992,\"e_serial_number\":\"1234567890\",\"e_"
            "track_data\":null,\"e_format\":null,\"e_keyed_data\":null,\"expiri"
            "ng_in_months\":null,\"exp_date\":\"0722\",\"first_six\":\"700953\""
            ",\"has_recurring\":false,\"last_four\":\"3657\",\"modified_ts\":14"
            "22040992,\"payment_method\":\"cc\",\"ticket\":null,\"track_data\":"
            "null,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cau_last_u"
            "pdated_ts\":1422040992,\"routing_number\":\"051904524\",\"location"
            "\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,"
            "\"modified_ts\":1422040992,\"account_number\":\"5454545454545454\""
            ",\"address\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":"
            "\"48375\",\"country\":\"US\"},\"branding_domain_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"contact_email_trx_receipt_default\":true,\"defau"
            "lt_ach\":\"11e608a7d515f1e093242bb2\",\"default_cc\":\"11e608a442a"
            "5f1e092242dda\",\"email_reply_to\":\"email@domain.com\",\"fax\":\""
            "3339998822\",\"location_api_id\":\"location-111111\",\"location_ap"
            "i_key\":\"AE34BBCAADF4AE34BBCAADF4\",\"location_c1\":\"custom 1\","
            "\"location_c2\":\"custom 2\",\"location_c3\":\"custom data 3\",\"n"
            "ame\":\"Sample Company Headquarters\",\"office_phone\":\"248123456"
            "7\",\"office_ext_phone\":\"1021021209\",\"tz\":\"America/New_York"
            "\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"show_contact_notes"
            "\":true,\"show_contact_files\":true,\"created_user_id\":\"11e95f8e"
            "c39de8fbdb0a4f1a\",\"location_type\":\"merchant\",\"ticket_hash_ke"
            "y\":\"A5F443CADF4AE34BBCAADF4\"},\"contact\":{\"location_id\":\"11"
            "e95f8ec39de8fbdb0a4f1a\",\"account_number\":\"54545433332\",\"cont"
            "act_api_id\":\"137\",\"first_name\":\"John\",\"last_name\":\"Smith"
            "\",\"cell_phone\":\"3339998822\",\"balance\":245.36,\"address\":{"
            "\"city\":\"Novi\",\"state\":\"Michigan\",\"postal_code\":\"48375\""
            ",\"country\":\"US\"},\"company_name\":\"Fortis Payment Systems, LL"
            "C\",\"header_message\":\"This is a sample message for you\",\"date"
            "_of_birth\":\"2021-12-01\",\"email_trx_receipt\":true,\"home_phone"
            "\":\"3339998822\",\"office_phone\":\"3339998822\",\"office_phone_e"
            "xt\":\"5\",\"header_message_type\":0,\"update_if_exists\":1,\"cont"
            "act_c1\":\"any\",\"contact_c2\":\"anything\",\"contact_c3\":\"some"
            "thing\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"ema"
            "il@domain.com\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\""
            ":1422040992,\"modified_ts\":1422040992,\"active\":true,\"created_u"
            "ser_id\":\"11e95f8ec39de8fbdb0a4f1a\"},\"transactions\":[{\"additi"
            "onal_amounts\":[{\"type\":\"cashback\",\"amount\":10,\"account_typ"
            "e\":\"credit\",\"currency\":840}],\"billing_address\":{\"city\":\""
            "Novi\",\"state\":\"Michigan\",\"postal_code\":\"48375\",\"phone\":"
            "\"3339998822\",\"country\":\"USA\"},\"checkin_date\":\"2021-12-01"
            "\",\"checkout_date\":\"2021-12-01\",\"clerk_number\":\"AE1234\",\""
            "contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"custom_data\":{},\"cus"
            "tomer_id\":\"customerid\",\"description\":\"some description\",\"i"
            "dentity_verification\":{\"dl_state\":\"MI\",\"dl_number\":\"123556"
            "7\",\"dob_year\":\"1980\"},\"iias_ind\":1,\"image_front\":\"U29tZV"
            "N0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=\",\"image_back\":\"U29t"
            "ZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=\",\"installment\":tru"
            "e,\"installment_number\":1,\"installment_count\":1,\"location_api_"
            "id\":\"location-api-id-florida-2\",\"location_id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"product_transaction_id\":\"11e95f8ec39de8fbdb0a4f1"
            "a\",\"advance_deposit\":false,\"no_show\":false,\"notification_ema"
            "il_address\":\"johnsmith@smiths.com\",\"order_number\":\"433659378"
            "839\",\"po_number\":\"555555553123\",\"quick_invoice_id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"recurring\":false,\"recurring_number\":1,\""
            "room_num\":\"303\",\"room_rate\":95,\"save_account\":false,\"save_"
            "account_title\":\"John Account\",\"subtotal_amount\":599,\"surchar"
            "ge_amount\":100,\"tags\":[\"Walk-in Customer\"],\"tax\":0,\"tip_am"
            "ount\":0,\"transaction_amount\":0,\"secondary_amount\":0,\"transac"
            "tion_api_id\":\"transaction-payment-abcd123\",\"transaction_c1\":"
            "\"custom-data-1\",\"transaction_c2\":\"custom-data-2\",\"transacti"
            "on_c3\":\"custom-data-3\",\"bank_funded_only_override\":false,\"al"
            "low_partial_authorization_override\":false,\"auto_decline_cvv_over"
            "ride\":false,\"auto_decline_street_override\":false,\"auto_decline"
            "_zip_override\":false,\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"create"
            "d_ts\":1422040992,\"modified_ts\":1422040992,\"terminal_id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"account_holder_name\":\"smith\",\"accoun"
            "t_type\":\"checking\",\"token_id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "ach_identifier\":\"P\",\"ach_sec_code\":\"C21\",\"auth_amount\":1,"
            "\"auth_code\":\"BR349K\",\"avs\":\"BAD\",\"avs_enhanced\":\"N\",\""
            "cardholder_present\":true,\"card_present\":true,\"check_number\":"
            "\"8520748520963\",\"customer_ip\":\"192.168.0.10\",\"cvv_response"
            "\":\"N\",\"entry_mode_id\":\"C\",\"emv_receipt_data\":{\"AID\":\"a"
            "0000000042203\",\"APPLAB\":\"US Maestro\",\"APPN\":\"US Maestro\","
            "\"CVM\":\"Pin Verified\",\"TSI\":\"e800\",\"TVR\":\"0800008000\"},"
            "\"first_six\":\"545454\",\"last_four\":\"5454\",\"payment_method\""
            ":\"cc\",\"terminal_serial_number\":\"1234567890\",\"transaction_se"
            "ttlement_status\":null,\"charge_back_date\":\"2021-12-01\",\"is_re"
            "curring\":true,\"notification_email_sent\":true,\"par\":\"Q1J4Z28R"
            "KA1EBL470G9XYG90R5D3E\",\"reason_code_id\":1000,\"recurring_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"settle_date\":\"2021-12-01\",\"stat"
            "us_code\":101,\"transaction_batch_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"verbiage\":\"APPROVED\",\"void_date\":\"2021-12-01\",\"batch"
            "\":\"2\",\"terms_agree\":true,\"response_message\":null,\"return_d"
            "ate\":\"2021-12-01\",\"trx_source_id\":8,\"routing_number\":\"0519"
            "04524\",\"trx_source_code\":8,\"paylink_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"is_accountvault\":true,\"created_user_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"modified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"effective_date\":\"2021-12-01\",\"is_token\":true,\"installment_"
            "total\":1,\"installment_counter\":1,\"account_vault_id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"hosted_payment_page_id\":\"11e95f8ec39de8fbd"
            "b0a4f1a\"}],\"activeRecurrings\":[{\"account_vault_id\":\"11e95f8e"
            "c39de8fbdb0a4f1a\",\"token_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"con"
            "tact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_vault_api_id\":\""
            "token1234abcd\",\"token_api_id\":\"token1234abcd\",\"_joi\":{\"con"
            "ditions\":{}},\"active\":true,\"description\":\"Description\",\"en"
            "d_date\":\"2021-12-01\",\"installment_total_count\":20,\"interval"
            "\":1,\"interval_type\":\"d\",\"location_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"notification_days\":2,\"payment_method\":\"cc\",\"produc"
            "t_transaction_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"recurring_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"recurring_api_id\":\"recurring1234a"
            "bcd\",\"start_date\":\"2021-12-01\",\"status\":\"active\",\"transa"
            "ction_amount\":300,\"terms_agree\":true,\"terms_agree_ip\":\"192.1"
            "68.0.10\",\"recurring_c1\":\"recurring custom data 1\",\"recurring"
            "_c2\":\"recurring custom data 2\",\"recurring_c3\":\"recurring cus"
            "tom data 3\",\"send_to_proc_as_recur\":true,\"tags\":[\"Walk-in Cu"
            "stomer\"],\"secondary_amount\":100,\"currency\":\"USD\",\"id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"next_run_date\":\"2021-12-01\",\"creat"
            "ed_ts\":1422040992,\"modified_ts\":1422040992,\"recurring_type_id"
            "\":\"i\",\"installment_amount_total\":99999999,\"created_user_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\"}],\"is_deletable\":true,\"signature"
            "\":{\"signature\":\"iVBORw0KGgoAAAANSUhEUgAAANwAAAAsCAYAAAAOyNaYAA"
            "ACvklEQVR4nO3bLZOqUBjA8ScaNxqNRiKRaCQaiXwEG7cRiUajH8FINBqJRCKR+Nxy"
            "D4OIXtaXw2H3/5s5MwZ39rgz/zkvuKKqgar+YTAYnx/y7wUACwgOsIjgAIsIznFlWe"
            "rlcpl6GngTgnNYVVW6WCxURDTLsqmngzcgOMdtNhsVERURDYJA8zyfekp4AcE5oCgK"
            "zfN8cOvYNM1VdCKiURRNMEu8A8FNrCzLm5j68Q1Fx2o3TwTngCzLNAiCq6D6UTVNo0"
            "mS6NfXF+HNGME5or+KeZ7XxrVcLjWOY83zXOu6vnqfeQ/bzHkgOIf0VzHP83Sz2eh6"
            "vW4D831fy7JsowvDsH1NdO4jOAfVdX0VXhRFWhSFRlHUrmr7/b4NLU3T9jVbTLcRnM"
            "O620ezep1Op3bF832/3XIORQr3EJzjumc7E9HQBUoYhjdnPKJzD8E5xjyT647T6aSr"
            "1UpFRPf7ffveuq41TdOHZzyicwvBTeBeVGEY3jwaGBrmWV3/Z82K1z/jca5zB8F9wF"
            "BQY6JaLBYax7EmSXJ3DD2v624rzUpoVrsgCDjXOWRWwVVVNfUUrvTDGrNK3YsqTdNR"
            "n69pGs2y7NshssV0w2yCK4pCRUSPx+Okc/hfWI9WqbFRPaMbYjc+s7ptt1uic8Bsgs"
            "vzXEVED4fDR3/P2PPVUFifDOo7THxmPiY03/fZXk7s1wR371z1zPnKlbDGuvc9TKKz"
            "78cE9yio3W436vbv1fOV6/oPx010/Ee5PbMLbrfbPRWU53kPb/9+SlRj9L8ALcJ/lN"
            "sym+DO5/PTQaVpqnVdT/0RnGLOed0LlikvpH6L2QSnqoPX4QT1mu4FC3/Dz5tVcMDc"
            "ERxgEcEBFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBARYRHGARwQEWERxgEcEBFh"
            "EcYBHBARYRHGDRX+EC0ah++pNrAAAAAElFTkSuQmCC\",\"resource\":\"Transa"
            "ction\",\"resource_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":1"
            "422040992},\"created_user\":{\"account_number\":\"5454545454545454"
            "\",\"branding_domain_url\":\"{branding_domain_url}\",\"cell_phone"
            "\":\"3339998822\",\"company_name\":\"Fortis Payment Systems, LLC\""
            ",\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"date_of_birth\":\"2"
            "021-12-01\",\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":"
            "\"email@domain.com\",\"email_trx_receipt\":true,\"home_phone\":\"3"
            "339998822\",\"first_name\":\"John\",\"last_name\":\"Smith\",\"loca"
            "le\":\"en-US\",\"office_phone\":\"3339998822\",\"office_ext_phone"
            "\":\"5\",\"primary_location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"re"
            "quires_new_password\":null,\"terms_condition_code\":\"20220308\","
            "\"tz\":\"America/New_York\",\"ui_prefs\":{\"entry_page\":\"dashboa"
            "rd\",\"page_size\":2,\"report_export_type\":\"csv\",\"process_meth"
            "od\":\"virtual_terminal\",\"default_terminal\":\"11e95f8ec39de8fbd"
            "b0a4f1a\"},\"username\":\"{user_name}\",\"user_api_key\":\"234bas8"
            "dfn8238f923w2\",\"user_hash_key\":null,\"user_type_code\":100,\"pa"
            "ssword\":null,\"zip\":\"48375\",\"location_id\":\"11e95f8ec39de8fb"
            "db0a4f1a\",\"status_code\":1,\"api_only\":false,\"is_invitation\":"
            "false,\"address\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_cod"
            "e\":\"48375\",\"country\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1"
            "a\",\"status\":true,\"login_attempts\":0,\"last_login_ts\":1422040"
            "992,\"created_ts\":1422040992,\"modified_ts\":1422040992,\"created"
            "_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"terms_accepted_ts\":1422"
            "040992,\"terms_agree_ip\":\"192.168.0.10\",\"current_date_time\":"
            "\"2019-03-11T10:38:26-0700\",\"current_login\":1422040992,\"log_ap"
            "i_response_body_ts\":1422040992},\"changelogs\":[{\"id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"action\":\"CREATE"
            "\",\"model\":\"TransactionRequest\",\"model_id\":\"11ec829598f0d40"
            "08be9aba4\",\"user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_d"
            "etails\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"changelog_id\":\""
            "11e95f8ec39de8fbdb0a4f1a\",\"field\":\"next_run_ts\",\"old_value\""
            ":\"1643616000\"}],\"user\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\""
            "username\":\"email@domain.com\",\"first_name\":\"Bob\",\"last_name"
            "\":\"Fairview\"}}],\"account_vault_cau_logs\":[{\"id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"product_transaction_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"account_vault_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"create"
            "d_ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\""
            "}],\"account_vault_cau_product_transactions\":[{\"id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":142204"
            "0992,\"account_number\":\"5454545454545454\",\"address\":{\"city\""
            ":\"Novi\",\"state\":\"MI\",\"postal_code\":\"48375\",\"country\":"
            "\"US\"},\"branding_domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cont"
            "act_email_trx_receipt_default\":true,\"default_ach\":\"11e608a7d51"
            "5f1e093242bb2\",\"default_cc\":\"11e608a442a5f1e092242dda\",\"emai"
            "l_reply_to\":\"email@domain.com\",\"fax\":\"3339998822\",\"locatio"
            "n_api_id\":\"location-111111\",\"location_api_key\":\"AE34BBCAADF4"
            "AE34BBCAADF4\",\"location_c1\":\"custom 1\",\"location_c2\":\"cust"
            "om 2\",\"location_c3\":\"custom data 3\",\"name\":\"Sample Company"
            " Headquarters\",\"office_phone\":\"2481234567\",\"office_ext_phone"
            "\":\"1021021209\",\"tz\":\"America/New_York\",\"parent_id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"show_contact_notes\":true,\"show_contact_"
            "files\":true,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"lo"
            "cation_type\":\"merchant\",\"ticket_hash_key\":\"A5F443CADF4AE34BB"
            "CAADF4\"}]}],\"links\":{\"type\":\"Links\",\"first\":\"/v1/endpoin"
            "t?page[size]=10&page[number]=1\",\"previous\":\"/v1/endpoint?page["
            "size]=10&page[number]=5\",\"next\":\"/v1/endpoint?page[size]=10&pa"
            "ge[number]=7\",\"last\":\"/v1/endpoint?page[size]=10&page[number]="
            "42\"},\"pagination\":{\"type\":\"Pagination\",\"total_count\":423,"
            "\"page_count\":42,\"page_number\":6,\"page_size\":10},\"sort\":{\""
            "type\":\"Sorting\",\"fields\":[{\"field\":\"last_name\",\"order\":"
            "\"asc\"}]}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

