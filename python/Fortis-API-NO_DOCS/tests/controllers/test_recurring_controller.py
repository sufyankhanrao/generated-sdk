
"""
fortisapi

This file was automatically generated by APIMATIC v3.0 (
 https://www.apimatic.io ).
"""

# ruff: noqa: PLR0915, W291
from apimatic_core.utilities.comparison_helper import (
    ComparisonHelper,
)

from fortisapi.api_helper import APIHelper
from tests.controllers.controller_test_base import (
    ControllerTestBase,
)


class RecurringControllerTests(ControllerTestBase):
    """
    Endpoint tests for validating the API behavior.

    Ensures controller methods execute correctly and produce the expected
    responses using the shared test client and response catcher.
    """

    controller = None

    @classmethod
    def setUpClass(cls):
        """
        Initialize the shared test client and controller for all test methods.
        """
        super().setUpClass()
        cls.controller = cls.client.recurring
        cls.response_catcher = cls.controller.http_call_back

    def test_list_all_recurring_record(self):
        """
        List all recurring record.
        """
        # Parameters for the API call
        page = None
        order = None
        filter_by = None
        expand = None
        format = None
        typeahead = None
        fields = None

        # Perform the API call through the SDK function
        result = self.controller.list_all_recurring_record(
            page,
            order,
            filter_by,
            expand,
            format,
            typeahead,
            fields,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 200
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"RecurringsCollection\",\"list\":[{\"account_vault_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\",\"token_id\":\"11e95f8ec39de8fbdb0a4"
            "f1a\",\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_vault_"
            "api_id\":\"token1234abcd\",\"token_api_id\":\"token1234abcd\",\"_j"
            "oi\":{\"conditions\":{}},\"active\":true,\"description\":\"Descrip"
            "tion\",\"end_date\":\"2021-12-01\",\"installment_total_count\":20,"
            "\"interval\":1,\"interval_type\":\"d\",\"location_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"notification_days\":2,\"payment_method\":\"cc"
            "\",\"product_transaction_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"recur"
            "ring_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"recurring_api_id\":\"recu"
            "rring1234abcd\",\"start_date\":\"2021-12-01\",\"status\":\"active"
            "\",\"transaction_amount\":300,\"terms_agree\":true,\"terms_agree_i"
            "p\":\"192.168.0.10\",\"recurring_c1\":\"recurring custom data 1\","
            "\"recurring_c2\":\"recurring custom data 2\",\"recurring_c3\":\"re"
            "curring custom data 3\",\"send_to_proc_as_recur\":true,\"tags\":[{"
            "\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"title\":\"My termin"
            "al\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992"
            ",\"modified_ts\":1422040992}],\"secondary_amount\":100,\"currency"
            "\":\"USD\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"next_run_date\":"
            "\"2021-12-01\",\"created_ts\":1422040992,\"modified_ts\":142204099"
            "2,\"recurring_type_id\":\"i\",\"installment_amount_total\":9999999"
            "9,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"log_emails\":"
            "[{\"subject\":\"Payment Receipt - 12skiestech\",\"body\":\"This em"
            "ail is being sent from a server.\",\"source_address\":\"\\\"12skie"
            "stech A7t3qi\\\" <noreply@zeamster.email>\",\"return_path\":\"\\\""
            "12skiestech A7t3qi\\\" <noreply@zeamster.email>\",\"provider_id\":"
            "\"0100017e67bcc530-e1dd23b4-8a39-4a5b-8d5d-68d51c4c942f-000000\","
            "\"domain_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"reason_sent\":\"Conta"
            "ct Email\",\"reason_model\":\"Transaction\",\"reason_model_id\":\""
            "11e95f8ec39de8fbdb0a4f1a\",\"reply_to\":\"\\\"Zeamster\\\" <emma.p"
            "@zeamster.com>\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts"
            "\":1422040992}],\"contact\":{\"location_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"account_number\":\"54545433332\",\"contact_api_id\":\"13"
            "7\",\"first_name\":\"John\",\"last_name\":\"Smith\",\"cell_phone\""
            ":\"3339998822\",\"balance\":245.36,\"address\":{\"city\":\"Novi\","
            "\"state\":\"Michigan\",\"postal_code\":\"48375\",\"country\":\"US"
            "\"},\"company_name\":\"Fortis Payment Systems, LLC\",\"header_mess"
            "age\":\"This is a sample message for you\",\"date_of_birth\":\"202"
            "1-12-01\",\"email_trx_receipt\":true,\"home_phone\":\"3339998822\""
            ",\"office_phone\":\"3339998822\",\"office_phone_ext\":\"5\",\"head"
            "er_message_type\":0,\"update_if_exists\":1,\"contact_c1\":\"any\","
            "\"contact_c2\":\"anything\",\"contact_c3\":\"something\",\"parent_"
            "id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\","
            "\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"mo"
            "dified_ts\":1422040992,\"active\":true,\"created_user_id\":\"11e95"
            "f8ec39de8fbdb0a4f1a\"},\"account_vault\":{\"account_holder_name\":"
            "\"John Smith\",\"account_vault_api_id\":\"accountvaultabcd\",\"tok"
            "en_api_id\":\"tokenabcd\",\"accountvault_c1\":\"accountvault custo"
            "m 1\",\"accountvault_c2\":\"accountvault custom 2\",\"accountvault"
            "_c3\":\"accountvault custom 3\",\"token_c1\":\"token custom 1\",\""
            "token_c2\":\"token custom 2\",\"token_c3\":\"token custom 3\",\"ac"
            "h_sec_code\":\"WEB\",\"billing_address\":{\"city\":\"Novi\",\"stat"
            "e\":\"Michigan\",\"postal_code\":\"48375\",\"phone\":\"3339998822"
            "\",\"country\":\"USA\"},\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"customer_id\":\"123456\",\"identity_verification\":{\"dl_stat"
            "e\":\"MI\",\"dl_number\":\"1235567\",\"ssn4\":\"8527\",\"dob_year"
            "\":\"1980\"},\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"previo"
            "us_account_vault_api_id\":\"previousaccountvault123456\",\"previou"
            "s_token_api_id\":\"previousaccountvault123456\",\"previous_account"
            "_vault_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"previous_token_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"previous_transaction_id\":\"11e95f8ec3"
            "9de8fbdb0a4f1a\",\"account_number\":\"545454545454545\",\"terms_ag"
            "ree\":true,\"terms_agree_ip\":\"192.168.0.10\",\"title\":\"Test CC"
            " Account\",\"_joi\":{},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"accou"
            "nt_type\":\"checking\",\"active\":true,\"cau_summary_status_id\":1"
            ",\"created_ts\":1422040992,\"e_serial_number\":\"1234567890\",\"e_"
            "track_data\":null,\"e_format\":null,\"e_keyed_data\":null,\"expiri"
            "ng_in_months\":null,\"exp_date\":\"0722\",\"first_six\":\"700953\""
            ",\"has_recurring\":false,\"last_four\":\"3657\",\"modified_ts\":14"
            "22040992,\"payment_method\":\"cc\",\"ticket\":null,\"track_data\":"
            "null,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cau_last_u"
            "pdated_ts\":1422040992,\"routing_number\":\"051904524\"},\"created"
            "_user\":{\"account_number\":\"5454545454545454\",\"branding_domain"
            "_url\":\"{branding_domain_url}\",\"cell_phone\":\"3339998822\",\"c"
            "ompany_name\":\"Fortis Payment Systems, LLC\",\"contact_id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"date_of_birth\":\"2021-12-01\",\"domain_"
            "id\":\"11e95f8ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\","
            "\"email_trx_receipt\":true,\"home_phone\":\"3339998822\",\"first_n"
            "ame\":\"John\",\"last_name\":\"Smith\",\"locale\":\"en-US\",\"offi"
            "ce_phone\":\"3339998822\",\"office_ext_phone\":\"5\",\"primary_loc"
            "ation_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"requires_new_password\":"
            "null,\"terms_condition_code\":\"20220308\",\"tz\":\"America/New_Yo"
            "rk\",\"ui_prefs\":{\"entry_page\":\"dashboard\",\"page_size\":2,\""
            "report_export_type\":\"csv\",\"process_method\":\"virtual_terminal"
            "\",\"default_terminal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"username\""
            ":\"{user_name}\",\"user_api_key\":\"234bas8dfn8238f923w2\",\"user_"
            "hash_key\":null,\"user_type_code\":100,\"password\":null,\"zip\":"
            "\"48375\",\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status_co"
            "de\":1,\"api_only\":false,\"is_invitation\":false,\"address\":{\"c"
            "ity\":\"Novi\",\"state\":\"MI\",\"postal_code\":\"48375\",\"countr"
            "y\":\"US\"},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\":true,\""
            "login_attempts\":0,\"last_login_ts\":1422040992,\"created_ts\":142"
            "2040992,\"modified_ts\":1422040992,\"created_user_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"terms_accepted_ts\":1422040992,\"terms_agree_i"
            "p\":\"192.168.0.10\",\"current_date_time\":\"2019-03-11T10:38:26-0"
            "700\",\"current_login\":1422040992,\"log_api_response_body_ts\":14"
            "22040992},\"signature\":{\"signature\":\"iVBORw0KGgoAAAANSUhEUgAAA"
            "NwAAAAsCAYAAAAOyNaYAAACvklEQVR4nO3bLZOqUBjA8ScaNxqNRiKRaCQaiXwEG7c"
            "RiUajH8FINBqJRCKR+NxyD4OIXtaXw2H3/5s5MwZ39rgz/zkvuKKqgar+YTAYnx/y7"
            "wUACwgOsIjgAIsIznFlWerlcpl6GngTgnNYVVW6WCxURDTLsqmngzcgOMdtNhsVERU"
            "RDYJA8zyfekp4AcE5oCgKzfN8cOvYNM1VdCKiURRNMEu8A8FNrCzLm5j68Q1Fx2o3T"
            "wTngCzLNAiCq6D6UTVNo0mS6NfXF+HNGME5or+KeZ7XxrVcLjWOY83zXOu6vnqfeQ/"
            "bzHkgOIf0VzHP83Sz2eh6vW4D831fy7JsowvDsH1NdO4jOAfVdX0VXhRFWhSFRlHUr"
            "mr7/b4NLU3T9jVbTLcRnMO620ezep1Op3bF832/3XIORQr3EJzjumc7E9HQBUoYhjd"
            "nPKJzD8E5xjyT647T6aSr1UpFRPf7ffveuq41TdOHZzyicwvBTeBeVGEY3jwaGBrmW"
            "V3/Z82K1z/jca5zB8F9wFBQY6JaLBYax7EmSXJ3DD2v624rzUpoVrsgCDjXOWRWwVV"
            "VNfUUrvTDGrNK3YsqTdNRn69pGs2y7NshssV0w2yCK4pCRUSPx+Okc/hfWI9WqbFRP"
            "aMbYjc+s7ptt1uic8BsgsvzXEVED4fDR3/P2PPVUFifDOo7THxmPiY03/fZXk7s1wR"
            "371z1zPnKlbDGuvc9TKKz78cE9yio3W436vbv1fOV6/oPx010/Ee5PbMLbrfbPRWU5"
            "3kPb/9+SlRj9L8ALcJ/lNsym+DO5/PTQaVpqnVdT/0RnGLOed0LlikvpH6L2QSnqoP"
            "X4QT1mu4FC3/Dz5tVcMDcERxgEcEBFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBA"
            "RYRHGARwQEWERxgEcEBFhEcYBHBARYRHGDRX+EC0ah++pNrAAAAAElFTkSuQmCC\","
            "\"resource\":\"Transaction\",\"resource_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040"
            "992,\"modified_ts\":1422040992},\"payment_schedule\":[\"2021-12-01"
            "\"],\"location\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts"
            "\":1422040992,\"modified_ts\":1422040992,\"account_number\":\"5454"
            "545454545454\",\"address\":{\"city\":\"Novi\",\"state\":\"MI\",\"p"
            "ostal_code\":\"48375\",\"country\":\"US\"},\"branding_domain_id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"contact_email_trx_receipt_default\""
            ":true,\"default_ach\":\"11e608a7d515f1e093242bb2\",\"default_cc\":"
            "\"11e608a442a5f1e092242dda\",\"email_reply_to\":\"email@domain.com"
            "\",\"fax\":\"3339998822\",\"location_api_id\":\"location-111111\","
            "\"location_api_key\":\"AE34BBCAADF4AE34BBCAADF4\",\"location_c1\":"
            "\"custom 1\",\"location_c2\":\"custom 2\",\"location_c3\":\"custom"
            " data 3\",\"name\":\"Sample Company Headquarters\",\"office_phone"
            "\":\"2481234567\",\"office_ext_phone\":\"1021021209\",\"tz\":\"Ame"
            "rica/New_York\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"show_"
            "contact_notes\":true,\"show_contact_files\":true,\"created_user_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"location_type\":\"merchant\",\"t"
            "icket_hash_key\":\"A5F443CADF4AE34BBCAADF4\"},\"product_transactio"
            "n\":{\"processor_version\":\"1_0_0\",\"title\":\"My terminal\",\"p"
            "ayment_method\":\"cc\",\"processor\":\"zgate\",\"mcc\":\"1111\",\""
            "tax_surcharge_config\":2,\"partner\":\"standalone\",\"location_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"surcharge\":{},\"processor_data"
            "\":{},\"vt_clerk_number\":true,\"vt_billing_phone\":true,\"vt_enab"
            "le_tip\":true,\"ach_allow_debit\":true,\"ach_allow_credit\":true,"
            "\"ach_allow_refund\":true,\"vt_cvv\":true,\"vt_street\":true,\"vt_"
            "zip\":true,\"vt_order_num\":true,\"vt_enable\":true,\"receipt_show"
            "_contact_name\":true,\"display_avs\":true,\"card_type_visa\":true,"
            "\"card_type_mc\":true,\"card_type_disc\":true,\"card_type_amex\":t"
            "rue,\"card_type_diners\":true,\"card_type_jcb\":true,\"invoice_loc"
            "ation\":true,\"allow_partial_authorization\":true,\"allow_recurrin"
            "g_partial_authorization\":true,\"auto_decline_cvv\":true,\"auto_de"
            "cline_street\":true,\"auto_decline_zip\":true,\"split_payments_all"
            "ow\":true,\"vt_show_custom_fields\":true,\"receipt_show_custom_fie"
            "lds\":true,\"vt_override_sales_tax_allowed\":true,\"vt_enable_sale"
            "s_tax\":true,\"vt_require_zip\":true,\"vt_require_street\":true,\""
            "auto_decline_cavv\":true,\"current_batch\":34,\"dup_check_per_batc"
            "h\":null,\"paylink_allow\":false,\"quick_invoice_allow\":false,\"l"
            "evel3_allow\":false,\"payfac_enable\":false,\"sales_office_id\":\""
            "11e95f8ec39de8fbdb0a4f1a\",\"hosted_payment_page_allow\":false,\"s"
            "urcharge_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"level3_default\":{},"
            "\"cau_subscribe_type_id\":0,\"location_billing_account_id\":\"11eb"
            "88b873980c64a21e5fd2\",\"product_billing_group_id\":\"nofees\",\"a"
            "ccount_number\":\"12345678\",\"run_avs_on_accountvault_create\":fa"
            "lse,\"accountvault_expire_notification_email_enable\":false,\"debi"
            "t_allow_void\":false,\"quick_invoice_text_to_pay\":false,\"sms_ena"
            "ble\":false,\"vt_show_currency\":true,\"receipt_show_currency\":fa"
            "lse,\"allow_blind_refund\":false,\"vt_show_company_name\":false,\""
            "receipt_show_company_name\":false,\"bank_funded_only\":false,\"req"
            "uire_cvv_on_keyed_cnp\":true,\"require_cvv_on_tokenized_cnp\":true"
            ",\"show_secondary_amount\":false,\"allow_secondary_amount\":false,"
            "\"show_google_pay\":true,\"show_apple_pay\":true,\"id\":\"11e95f8e"
            "c39de8fbdb0a4f1a\",\"active\":true,\"created_ts\":1422040992,\"mod"
            "ified_ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f"
            "1a\",\"modified_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"product_t"
            "ransaction_api_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"is_secondary_am"
            "ount_allowed\":false,\"batch_risk_config\":{},\"fortis_id\":\"8149"
            "742\",\"product_billing_group_code\":\"nofees\",\"cau_subscribe_ty"
            "pe_code\":0},\"next_run_date_min\":\"2021-12-01\",\"next_run_date_"
            "max\":\"2021-12-01\",\"all_tags\":[{\"location_id\":\"11e95f8ec39d"
            "e8fbdb0a4f1a\",\"title\":\"My terminal\",\"id\":\"11e95f8ec39de8fb"
            "db0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":1422040992}],"
            "\"changelogs\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts"
            "\":1422040992,\"action\":\"CREATE\",\"model\":\"TransactionRequest"
            "\",\"model_id\":\"11ec829598f0d4008be9aba4\",\"user_id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"changelog_details\":[{\"id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"changelog_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"fiel"
            "d\":\"next_run_ts\",\"old_value\":\"1643616000\"}],\"user\":{\"id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"username\":\"email@domain.com\","
            "\"first_name\":\"Bob\",\"last_name\":\"Fairview\"}}],\"forecast\":"
            "{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"recurring_id\":\"Recurring "
            "ID\",\"created_ts\":1422040992,\"modified_ts\":1422040992},\"recur"
            "ring_splits\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\""
            ":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}]}],"
            "\"links\":{\"type\":\"Links\",\"first\":\"/v1/endpoint?page[size]="
            "10&page[number]=1\",\"previous\":\"/v1/endpoint?page[size]=10&page"
            "[number]=5\",\"next\":\"/v1/endpoint?page[size]=10&page[number]=7"
            "\",\"last\":\"/v1/endpoint?page[size]=10&page[number]=42\"},\"pagi"
            "nation\":{\"type\":\"Pagination\",\"total_count\":423,\"page_count"
            "\":42,\"page_number\":6,\"page_size\":10},\"sort\":{\"type\":\"Sor"
            "ting\",\"fields\":[{\"field\":\"last_name\",\"order\":\"asc\"}]}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_delete_recurring_record(self):
        """
        Delete recurring record.
        """
        # Parameters for the API call
        recurring_id = "11e95f8ec39de8fbdb0a4f1a"

        # Perform the API call through the SDK function
        result = self.controller.delete_recurring_record(
            recurring_id,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 204
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"Recurring\",\"data\":{\"account_vault_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"token_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cont"
            "act_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_vault_api_id\":\"t"
            "oken1234abcd\",\"token_api_id\":\"token1234abcd\",\"_joi\":{\"cond"
            "itions\":{}},\"active\":true,\"description\":\"Description\",\"end"
            "_date\":\"2021-12-01\",\"installment_total_count\":20,\"interval\""
            ":1,\"interval_type\":\"d\",\"location_id\":\"11e95f8ec39de8fbdb0a4"
            "f1a\",\"notification_days\":2,\"payment_method\":\"cc\",\"product_"
            "transaction_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"recurring_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"recurring_api_id\":\"recurring1234abcd"
            "\",\"start_date\":\"2021-12-01\",\"status\":\"active\",\"transacti"
            "on_amount\":300,\"terms_agree\":true,\"terms_agree_ip\":\"192.168."
            "0.10\",\"recurring_c1\":\"recurring custom data 1\",\"recurring_c2"
            "\":\"recurring custom data 2\",\"recurring_c3\":\"recurring custom"
            " data 3\",\"send_to_proc_as_recur\":true,\"tags\":[{\"location_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"title\":\"My terminal\",\"id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_"
            "ts\":1422040992}],\"secondary_amount\":100,\"currency\":\"USD\",\""
            "id\":\"11e95f8ec39de8fbdb0a4f1a\",\"next_run_date\":\"2021-12-01\""
            ",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"recurring_"
            "type_id\":\"i\",\"installment_amount_total\":99999999,\"created_us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"log_emails\":[{\"subject\":"
            "\"Payment Receipt - 12skiestech\",\"body\":\"This email is being s"
            "ent from a server.\",\"source_address\":\"\\\"12skiestech A7t3qi"
            "\\\" <noreply@zeamster.email>\",\"return_path\":\"\\\"12skiestech "
            "A7t3qi\\\" <noreply@zeamster.email>\",\"provider_id\":\"0100017e67"
            "bcc530-e1dd23b4-8a39-4a5b-8d5d-68d51c4c942f-000000\",\"domain_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\",\"reason_sent\":\"Contact Email\",\""
            "reason_model\":\"Transaction\",\"reason_model_id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"reply_to\":\"\\\"Zeamster\\\" <emma.p@zeamster.com"
            ">\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992}"
            "],\"contact\":{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"acco"
            "unt_number\":\"54545433332\",\"contact_api_id\":\"137\",\"first_na"
            "me\":\"John\",\"last_name\":\"Smith\",\"cell_phone\":\"3339998822"
            "\",\"balance\":245.36,\"address\":{\"city\":\"Novi\",\"state\":\"M"
            "ichigan\",\"postal_code\":\"48375\",\"country\":\"US\"},\"company_"
            "name\":\"Fortis Payment Systems, LLC\",\"header_message\":\"This i"
            "s a sample message for you\",\"date_of_birth\":\"2021-12-01\",\"em"
            "ail_trx_receipt\":true,\"home_phone\":\"3339998822\",\"office_phon"
            "e\":\"3339998822\",\"office_phone_ext\":\"5\",\"header_message_typ"
            "e\":0,\"update_if_exists\":1,\"contact_c1\":\"any\",\"contact_c2\""
            ":\"anything\",\"contact_c3\":\"something\",\"parent_id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":142"
            "2040992,\"active\":true,\"created_user_id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\"},\"account_vault\":{\"account_holder_name\":\"John Smith\","
            "\"account_vault_api_id\":\"accountvaultabcd\",\"token_api_id\":\"t"
            "okenabcd\",\"accountvault_c1\":\"accountvault custom 1\",\"account"
            "vault_c2\":\"accountvault custom 2\",\"accountvault_c3\":\"account"
            "vault custom 3\",\"token_c1\":\"token custom 1\",\"token_c2\":\"to"
            "ken custom 2\",\"token_c3\":\"token custom 3\",\"ach_sec_code\":\""
            "WEB\",\"billing_address\":{\"city\":\"Novi\",\"state\":\"Michigan"
            "\",\"postal_code\":\"48375\",\"phone\":\"3339998822\",\"country\":"
            "\"USA\"},\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"customer_id"
            "\":\"123456\",\"identity_verification\":{\"dl_state\":\"MI\",\"dl_"
            "number\":\"1235567\",\"ssn4\":\"8527\",\"dob_year\":\"1980\"},\"lo"
            "cation_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"previous_account_vault_"
            "api_id\":\"previousaccountvault123456\",\"previous_token_api_id\":"
            "\"previousaccountvault123456\",\"previous_account_vault_id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"previous_token_id\":\"11e95f8ec39de8fbdb"
            "0a4f1a\",\"previous_transaction_id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"account_number\":\"545454545454545\",\"terms_agree\":true,\"term"
            "s_agree_ip\":\"192.168.0.10\",\"title\":\"Test CC Account\",\"_joi"
            "\":{},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_type\":\"check"
            "ing\",\"active\":true,\"cau_summary_status_id\":1,\"created_ts\":1"
            "422040992,\"e_serial_number\":\"1234567890\",\"e_track_data\":null"
            ",\"e_format\":null,\"e_keyed_data\":null,\"expiring_in_months\":nu"
            "ll,\"exp_date\":\"0722\",\"first_six\":\"700953\",\"has_recurring"
            "\":false,\"last_four\":\"3657\",\"modified_ts\":1422040992,\"payme"
            "nt_method\":\"cc\",\"ticket\":null,\"track_data\":null,\"created_u"
            "ser_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cau_last_updated_ts\":1422"
            "040992,\"routing_number\":\"051904524\"},\"created_user\":{\"accou"
            "nt_number\":\"5454545454545454\",\"branding_domain_url\":\"{brandi"
            "ng_domain_url}\",\"cell_phone\":\"3339998822\",\"company_name\":\""
            "Fortis Payment Systems, LLC\",\"contact_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"date_of_birth\":\"2021-12-01\",\"domain_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"email_trx_recei"
            "pt\":true,\"home_phone\":\"3339998822\",\"first_name\":\"John\",\""
            "last_name\":\"Smith\",\"locale\":\"en-US\",\"office_phone\":\"3339"
            "998822\",\"office_ext_phone\":\"5\",\"primary_location_id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"requires_new_password\":null,\"terms_cond"
            "ition_code\":\"20220308\",\"tz\":\"America/New_York\",\"ui_prefs\""
            ":{\"entry_page\":\"dashboard\",\"page_size\":2,\"report_export_typ"
            "e\":\"csv\",\"process_method\":\"virtual_terminal\",\"default_term"
            "inal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"username\":\"{user_name}\","
            "\"user_api_key\":\"234bas8dfn8238f923w2\",\"user_hash_key\":null,"
            "\"user_type_code\":100,\"password\":null,\"zip\":\"48375\",\"locat"
            "ion_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status_code\":1,\"api_only"
            "\":false,\"is_invitation\":false,\"address\":{\"city\":\"Novi\",\""
            "state\":\"MI\",\"postal_code\":\"48375\",\"country\":\"US\"},\"id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\":true,\"login_attempts\""
            ":0,\"last_login_ts\":1422040992,\"created_ts\":1422040992,\"modifi"
            "ed_ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"terms_accepted_ts\":1422040992,\"terms_agree_ip\":\"192.168.0"
            ".10\",\"current_date_time\":\"2019-03-11T10:38:26-0700\",\"current"
            "_login\":1422040992,\"log_api_response_body_ts\":1422040992},\"sig"
            "nature\":{\"signature\":\"iVBORw0KGgoAAAANSUhEUgAAANwAAAAsCAYAAAAO"
            "yNaYAAACvklEQVR4nO3bLZOqUBjA8ScaNxqNRiKRaCQaiXwEG7cRiUajH8FINBqJRC"
            "KR+NxyD4OIXtaXw2H3/5s5MwZ39rgz/zkvuKKqgar+YTAYnx/y7wUACwgOsIjgAIsI"
            "znFlWerlcpl6GngTgnNYVVW6WCxURDTLsqmngzcgOMdtNhsVERURDYJA8zyfekp4Ac"
            "E5oCgKzfN8cOvYNM1VdCKiURRNMEu8A8FNrCzLm5j68Q1Fx2o3TwTngCzLNAiCq6D6"
            "UTVNo0mS6NfXF+HNGME5or+KeZ7XxrVcLjWOY83zXOu6vnqfeQ/bzHkgOIf0VzHP83"
            "Sz2eh6vW4D831fy7JsowvDsH1NdO4jOAfVdX0VXhRFWhSFRlHUrmr7/b4NLU3T9jVb"
            "TLcRnMO620ezep1Op3bF832/3XIORQr3EJzjumc7E9HQBUoYhjdnPKJzD8E5xjyT64"
            "7T6aSr1UpFRPf7ffveuq41TdOHZzyicwvBTeBeVGEY3jwaGBrmWV3/Z82K1z/jca5z"
            "B8F9wFBQY6JaLBYax7EmSXJ3DD2v624rzUpoVrsgCDjXOWRWwVVVNfUUrvTDGrNK3Y"
            "sqTdNRn69pGs2y7NshssV0w2yCK4pCRUSPx+Okc/hfWI9WqbFRPaMbYjc+s7ptt1ui"
            "c8BsgsvzXEVED4fDR3/P2PPVUFifDOo7THxmPiY03/fZXk7s1wR371z1zPnKlbDGuv"
            "c9TKKz78cE9yio3W436vbv1fOV6/oPx010/Ee5PbMLbrfbPRWU53kPb/9+SlRj9L8A"
            "LcJ/lNsym+DO5/PTQaVpqnVdT/0RnGLOed0LlikvpH6L2QSnqoPX4QT1mu4FC3/Dz5"
            "tVcMDcERxgEcEBFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBARYRHGARwQEWERxg"
            "EcEBFhEcYBHBARYRHGDRX+EC0ah++pNrAAAAAElFTkSuQmCC\",\"resource\":\""
            "Transaction\",\"resource_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_"
            "ts\":1422040992},\"payment_schedule\":[\"2021-12-01\"],\"location"
            "\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,"
            "\"modified_ts\":1422040992,\"account_number\":\"5454545454545454\""
            ",\"address\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":"
            "\"48375\",\"country\":\"US\"},\"branding_domain_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"contact_email_trx_receipt_default\":true,\"defau"
            "lt_ach\":\"11e608a7d515f1e093242bb2\",\"default_cc\":\"11e608a442a"
            "5f1e092242dda\",\"email_reply_to\":\"email@domain.com\",\"fax\":\""
            "3339998822\",\"location_api_id\":\"location-111111\",\"location_ap"
            "i_key\":\"AE34BBCAADF4AE34BBCAADF4\",\"location_c1\":\"custom 1\","
            "\"location_c2\":\"custom 2\",\"location_c3\":\"custom data 3\",\"n"
            "ame\":\"Sample Company Headquarters\",\"office_phone\":\"248123456"
            "7\",\"office_ext_phone\":\"1021021209\",\"tz\":\"America/New_York"
            "\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"show_contact_notes"
            "\":true,\"show_contact_files\":true,\"created_user_id\":\"11e95f8e"
            "c39de8fbdb0a4f1a\",\"location_type\":\"merchant\",\"ticket_hash_ke"
            "y\":\"A5F443CADF4AE34BBCAADF4\"},\"product_transaction\":{\"proces"
            "sor_version\":\"1_0_0\",\"title\":\"My terminal\",\"payment_method"
            "\":\"cc\",\"processor\":\"zgate\",\"mcc\":\"1111\",\"tax_surcharge"
            "_config\":2,\"partner\":\"standalone\",\"location_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"surcharge\":{},\"processor_data\":{},\"vt_cler"
            "k_number\":true,\"vt_billing_phone\":true,\"vt_enable_tip\":true,"
            "\"ach_allow_debit\":true,\"ach_allow_credit\":true,\"ach_allow_ref"
            "und\":true,\"vt_cvv\":true,\"vt_street\":true,\"vt_zip\":true,\"vt"
            "_order_num\":true,\"vt_enable\":true,\"receipt_show_contact_name\""
            ":true,\"display_avs\":true,\"card_type_visa\":true,\"card_type_mc"
            "\":true,\"card_type_disc\":true,\"card_type_amex\":true,\"card_typ"
            "e_diners\":true,\"card_type_jcb\":true,\"invoice_location\":true,"
            "\"allow_partial_authorization\":true,\"allow_recurring_partial_aut"
            "horization\":true,\"auto_decline_cvv\":true,\"auto_decline_street"
            "\":true,\"auto_decline_zip\":true,\"split_payments_allow\":true,\""
            "vt_show_custom_fields\":true,\"receipt_show_custom_fields\":true,"
            "\"vt_override_sales_tax_allowed\":true,\"vt_enable_sales_tax\":tru"
            "e,\"vt_require_zip\":true,\"vt_require_street\":true,\"auto_declin"
            "e_cavv\":true,\"current_batch\":34,\"dup_check_per_batch\":null,\""
            "paylink_allow\":false,\"quick_invoice_allow\":false,\"level3_allow"
            "\":false,\"payfac_enable\":false,\"sales_office_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"hosted_payment_page_allow\":false,\"surcharge_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"level3_default\":{},\"cau_subscr"
            "ibe_type_id\":0,\"location_billing_account_id\":\"11eb88b873980c64"
            "a21e5fd2\",\"product_billing_group_id\":\"nofees\",\"account_numbe"
            "r\":\"12345678\",\"run_avs_on_accountvault_create\":false,\"accoun"
            "tvault_expire_notification_email_enable\":false,\"debit_allow_void"
            "\":false,\"quick_invoice_text_to_pay\":false,\"sms_enable\":false,"
            "\"vt_show_currency\":true,\"receipt_show_currency\":false,\"allow_"
            "blind_refund\":false,\"vt_show_company_name\":false,\"receipt_show"
            "_company_name\":false,\"bank_funded_only\":false,\"require_cvv_on_"
            "keyed_cnp\":true,\"require_cvv_on_tokenized_cnp\":true,\"show_seco"
            "ndary_amount\":false,\"allow_secondary_amount\":false,\"show_googl"
            "e_pay\":true,\"show_apple_pay\":true,\"id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"active\":true,\"created_ts\":1422040992,\"modified_ts\":1"
            "422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modif"
            "ied_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"product_transaction_a"
            "pi_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"is_secondary_amount_allowed"
            "\":false,\"batch_risk_config\":{},\"fortis_id\":\"8149742\",\"prod"
            "uct_billing_group_code\":\"nofees\",\"cau_subscribe_type_code\":0}"
            ",\"next_run_date_min\":\"2021-12-01\",\"next_run_date_max\":\"2021"
            "-12-01\",\"all_tags\":[{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"title\":\"My terminal\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"created_ts\":1422040992,\"modified_ts\":1422040992}],\"changelog"
            "s\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":142204099"
            "2,\"action\":\"CREATE\",\"model\":\"TransactionRequest\",\"model_i"
            "d\":\"11ec829598f0d4008be9aba4\",\"user_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"changelog_details\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"changelog_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"field\":\"next_"
            "run_ts\",\"old_value\":\"1643616000\"}],\"user\":{\"id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"username\":\"email@domain.com\",\"first_name"
            "\":\"Bob\",\"last_name\":\"Fairview\"}}],\"forecast\":{\"id\":\"11"
            "e95f8ec39de8fbdb0a4f1a\",\"recurring_id\":\"Recurring ID\",\"creat"
            "ed_ts\":1422040992,\"modified_ts\":1422040992},\"recurring_splits"
            "\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992"
            ",\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}]}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_view_single_recurring_record(self):
        """
        View single recurring record.
        """
        # Parameters for the API call
        recurring_id = "11e95f8ec39de8fbdb0a4f1a"
        expand = None
        fields = None

        # Perform the API call through the SDK function
        result = self.controller.view_single_recurring_record(
            recurring_id,
            expand,
            fields,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 200
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"Recurring\",\"data\":{\"account_vault_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"token_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cont"
            "act_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_vault_api_id\":\"t"
            "oken1234abcd\",\"token_api_id\":\"token1234abcd\",\"_joi\":{\"cond"
            "itions\":{}},\"active\":true,\"description\":\"Description\",\"end"
            "_date\":\"2021-12-01\",\"installment_total_count\":20,\"interval\""
            ":1,\"interval_type\":\"d\",\"location_id\":\"11e95f8ec39de8fbdb0a4"
            "f1a\",\"notification_days\":2,\"payment_method\":\"cc\",\"product_"
            "transaction_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"recurring_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"recurring_api_id\":\"recurring1234abcd"
            "\",\"start_date\":\"2021-12-01\",\"status\":\"active\",\"transacti"
            "on_amount\":300,\"terms_agree\":true,\"terms_agree_ip\":\"192.168."
            "0.10\",\"recurring_c1\":\"recurring custom data 1\",\"recurring_c2"
            "\":\"recurring custom data 2\",\"recurring_c3\":\"recurring custom"
            " data 3\",\"send_to_proc_as_recur\":true,\"tags\":[{\"location_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"title\":\"My terminal\",\"id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_"
            "ts\":1422040992}],\"secondary_amount\":100,\"currency\":\"USD\",\""
            "id\":\"11e95f8ec39de8fbdb0a4f1a\",\"next_run_date\":\"2021-12-01\""
            ",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"recurring_"
            "type_id\":\"i\",\"installment_amount_total\":99999999,\"created_us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"log_emails\":[{\"subject\":"
            "\"Payment Receipt - 12skiestech\",\"body\":\"This email is being s"
            "ent from a server.\",\"source_address\":\"\\\"12skiestech A7t3qi"
            "\\\" <noreply@zeamster.email>\",\"return_path\":\"\\\"12skiestech "
            "A7t3qi\\\" <noreply@zeamster.email>\",\"provider_id\":\"0100017e67"
            "bcc530-e1dd23b4-8a39-4a5b-8d5d-68d51c4c942f-000000\",\"domain_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\",\"reason_sent\":\"Contact Email\",\""
            "reason_model\":\"Transaction\",\"reason_model_id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"reply_to\":\"\\\"Zeamster\\\" <emma.p@zeamster.com"
            ">\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992}"
            "],\"contact\":{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"acco"
            "unt_number\":\"54545433332\",\"contact_api_id\":\"137\",\"first_na"
            "me\":\"John\",\"last_name\":\"Smith\",\"cell_phone\":\"3339998822"
            "\",\"balance\":245.36,\"address\":{\"city\":\"Novi\",\"state\":\"M"
            "ichigan\",\"postal_code\":\"48375\",\"country\":\"US\"},\"company_"
            "name\":\"Fortis Payment Systems, LLC\",\"header_message\":\"This i"
            "s a sample message for you\",\"date_of_birth\":\"2021-12-01\",\"em"
            "ail_trx_receipt\":true,\"home_phone\":\"3339998822\",\"office_phon"
            "e\":\"3339998822\",\"office_phone_ext\":\"5\",\"header_message_typ"
            "e\":0,\"update_if_exists\":1,\"contact_c1\":\"any\",\"contact_c2\""
            ":\"anything\",\"contact_c3\":\"something\",\"parent_id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":142"
            "2040992,\"active\":true,\"created_user_id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\"},\"account_vault\":{\"account_holder_name\":\"John Smith\","
            "\"account_vault_api_id\":\"accountvaultabcd\",\"token_api_id\":\"t"
            "okenabcd\",\"accountvault_c1\":\"accountvault custom 1\",\"account"
            "vault_c2\":\"accountvault custom 2\",\"accountvault_c3\":\"account"
            "vault custom 3\",\"token_c1\":\"token custom 1\",\"token_c2\":\"to"
            "ken custom 2\",\"token_c3\":\"token custom 3\",\"ach_sec_code\":\""
            "WEB\",\"billing_address\":{\"city\":\"Novi\",\"state\":\"Michigan"
            "\",\"postal_code\":\"48375\",\"phone\":\"3339998822\",\"country\":"
            "\"USA\"},\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"customer_id"
            "\":\"123456\",\"identity_verification\":{\"dl_state\":\"MI\",\"dl_"
            "number\":\"1235567\",\"ssn4\":\"8527\",\"dob_year\":\"1980\"},\"lo"
            "cation_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"previous_account_vault_"
            "api_id\":\"previousaccountvault123456\",\"previous_token_api_id\":"
            "\"previousaccountvault123456\",\"previous_account_vault_id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"previous_token_id\":\"11e95f8ec39de8fbdb"
            "0a4f1a\",\"previous_transaction_id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"account_number\":\"545454545454545\",\"terms_agree\":true,\"term"
            "s_agree_ip\":\"192.168.0.10\",\"title\":\"Test CC Account\",\"_joi"
            "\":{},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_type\":\"check"
            "ing\",\"active\":true,\"cau_summary_status_id\":1,\"created_ts\":1"
            "422040992,\"e_serial_number\":\"1234567890\",\"e_track_data\":null"
            ",\"e_format\":null,\"e_keyed_data\":null,\"expiring_in_months\":nu"
            "ll,\"exp_date\":\"0722\",\"first_six\":\"700953\",\"has_recurring"
            "\":false,\"last_four\":\"3657\",\"modified_ts\":1422040992,\"payme"
            "nt_method\":\"cc\",\"ticket\":null,\"track_data\":null,\"created_u"
            "ser_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cau_last_updated_ts\":1422"
            "040992,\"routing_number\":\"051904524\"},\"created_user\":{\"accou"
            "nt_number\":\"5454545454545454\",\"branding_domain_url\":\"{brandi"
            "ng_domain_url}\",\"cell_phone\":\"3339998822\",\"company_name\":\""
            "Fortis Payment Systems, LLC\",\"contact_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"date_of_birth\":\"2021-12-01\",\"domain_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"email_trx_recei"
            "pt\":true,\"home_phone\":\"3339998822\",\"first_name\":\"John\",\""
            "last_name\":\"Smith\",\"locale\":\"en-US\",\"office_phone\":\"3339"
            "998822\",\"office_ext_phone\":\"5\",\"primary_location_id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"requires_new_password\":null,\"terms_cond"
            "ition_code\":\"20220308\",\"tz\":\"America/New_York\",\"ui_prefs\""
            ":{\"entry_page\":\"dashboard\",\"page_size\":2,\"report_export_typ"
            "e\":\"csv\",\"process_method\":\"virtual_terminal\",\"default_term"
            "inal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"username\":\"{user_name}\","
            "\"user_api_key\":\"234bas8dfn8238f923w2\",\"user_hash_key\":null,"
            "\"user_type_code\":100,\"password\":null,\"zip\":\"48375\",\"locat"
            "ion_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status_code\":1,\"api_only"
            "\":false,\"is_invitation\":false,\"address\":{\"city\":\"Novi\",\""
            "state\":\"MI\",\"postal_code\":\"48375\",\"country\":\"US\"},\"id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\":true,\"login_attempts\""
            ":0,\"last_login_ts\":1422040992,\"created_ts\":1422040992,\"modifi"
            "ed_ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"terms_accepted_ts\":1422040992,\"terms_agree_ip\":\"192.168.0"
            ".10\",\"current_date_time\":\"2019-03-11T10:38:26-0700\",\"current"
            "_login\":1422040992,\"log_api_response_body_ts\":1422040992},\"sig"
            "nature\":{\"signature\":\"iVBORw0KGgoAAAANSUhEUgAAANwAAAAsCAYAAAAO"
            "yNaYAAACvklEQVR4nO3bLZOqUBjA8ScaNxqNRiKRaCQaiXwEG7cRiUajH8FINBqJRC"
            "KR+NxyD4OIXtaXw2H3/5s5MwZ39rgz/zkvuKKqgar+YTAYnx/y7wUACwgOsIjgAIsI"
            "znFlWerlcpl6GngTgnNYVVW6WCxURDTLsqmngzcgOMdtNhsVERURDYJA8zyfekp4Ac"
            "E5oCgKzfN8cOvYNM1VdCKiURRNMEu8A8FNrCzLm5j68Q1Fx2o3TwTngCzLNAiCq6D6"
            "UTVNo0mS6NfXF+HNGME5or+KeZ7XxrVcLjWOY83zXOu6vnqfeQ/bzHkgOIf0VzHP83"
            "Sz2eh6vW4D831fy7JsowvDsH1NdO4jOAfVdX0VXhRFWhSFRlHUrmr7/b4NLU3T9jVb"
            "TLcRnMO620ezep1Op3bF832/3XIORQr3EJzjumc7E9HQBUoYhjdnPKJzD8E5xjyT64"
            "7T6aSr1UpFRPf7ffveuq41TdOHZzyicwvBTeBeVGEY3jwaGBrmWV3/Z82K1z/jca5z"
            "B8F9wFBQY6JaLBYax7EmSXJ3DD2v624rzUpoVrsgCDjXOWRWwVVVNfUUrvTDGrNK3Y"
            "sqTdNRn69pGs2y7NshssV0w2yCK4pCRUSPx+Okc/hfWI9WqbFRPaMbYjc+s7ptt1ui"
            "c8BsgsvzXEVED4fDR3/P2PPVUFifDOo7THxmPiY03/fZXk7s1wR371z1zPnKlbDGuv"
            "c9TKKz78cE9yio3W436vbv1fOV6/oPx010/Ee5PbMLbrfbPRWU53kPb/9+SlRj9L8A"
            "LcJ/lNsym+DO5/PTQaVpqnVdT/0RnGLOed0LlikvpH6L2QSnqoPX4QT1mu4FC3/Dz5"
            "tVcMDcERxgEcEBFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBARYRHGARwQEWERxg"
            "EcEBFhEcYBHBARYRHGDRX+EC0ah++pNrAAAAAElFTkSuQmCC\",\"resource\":\""
            "Transaction\",\"resource_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_"
            "ts\":1422040992},\"payment_schedule\":[\"2021-12-01\"],\"location"
            "\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,"
            "\"modified_ts\":1422040992,\"account_number\":\"5454545454545454\""
            ",\"address\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":"
            "\"48375\",\"country\":\"US\"},\"branding_domain_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"contact_email_trx_receipt_default\":true,\"defau"
            "lt_ach\":\"11e608a7d515f1e093242bb2\",\"default_cc\":\"11e608a442a"
            "5f1e092242dda\",\"email_reply_to\":\"email@domain.com\",\"fax\":\""
            "3339998822\",\"location_api_id\":\"location-111111\",\"location_ap"
            "i_key\":\"AE34BBCAADF4AE34BBCAADF4\",\"location_c1\":\"custom 1\","
            "\"location_c2\":\"custom 2\",\"location_c3\":\"custom data 3\",\"n"
            "ame\":\"Sample Company Headquarters\",\"office_phone\":\"248123456"
            "7\",\"office_ext_phone\":\"1021021209\",\"tz\":\"America/New_York"
            "\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"show_contact_notes"
            "\":true,\"show_contact_files\":true,\"created_user_id\":\"11e95f8e"
            "c39de8fbdb0a4f1a\",\"location_type\":\"merchant\",\"ticket_hash_ke"
            "y\":\"A5F443CADF4AE34BBCAADF4\"},\"product_transaction\":{\"proces"
            "sor_version\":\"1_0_0\",\"title\":\"My terminal\",\"payment_method"
            "\":\"cc\",\"processor\":\"zgate\",\"mcc\":\"1111\",\"tax_surcharge"
            "_config\":2,\"partner\":\"standalone\",\"location_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"surcharge\":{},\"processor_data\":{},\"vt_cler"
            "k_number\":true,\"vt_billing_phone\":true,\"vt_enable_tip\":true,"
            "\"ach_allow_debit\":true,\"ach_allow_credit\":true,\"ach_allow_ref"
            "und\":true,\"vt_cvv\":true,\"vt_street\":true,\"vt_zip\":true,\"vt"
            "_order_num\":true,\"vt_enable\":true,\"receipt_show_contact_name\""
            ":true,\"display_avs\":true,\"card_type_visa\":true,\"card_type_mc"
            "\":true,\"card_type_disc\":true,\"card_type_amex\":true,\"card_typ"
            "e_diners\":true,\"card_type_jcb\":true,\"invoice_location\":true,"
            "\"allow_partial_authorization\":true,\"allow_recurring_partial_aut"
            "horization\":true,\"auto_decline_cvv\":true,\"auto_decline_street"
            "\":true,\"auto_decline_zip\":true,\"split_payments_allow\":true,\""
            "vt_show_custom_fields\":true,\"receipt_show_custom_fields\":true,"
            "\"vt_override_sales_tax_allowed\":true,\"vt_enable_sales_tax\":tru"
            "e,\"vt_require_zip\":true,\"vt_require_street\":true,\"auto_declin"
            "e_cavv\":true,\"current_batch\":34,\"dup_check_per_batch\":null,\""
            "paylink_allow\":false,\"quick_invoice_allow\":false,\"level3_allow"
            "\":false,\"payfac_enable\":false,\"sales_office_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"hosted_payment_page_allow\":false,\"surcharge_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"level3_default\":{},\"cau_subscr"
            "ibe_type_id\":0,\"location_billing_account_id\":\"11eb88b873980c64"
            "a21e5fd2\",\"product_billing_group_id\":\"nofees\",\"account_numbe"
            "r\":\"12345678\",\"run_avs_on_accountvault_create\":false,\"accoun"
            "tvault_expire_notification_email_enable\":false,\"debit_allow_void"
            "\":false,\"quick_invoice_text_to_pay\":false,\"sms_enable\":false,"
            "\"vt_show_currency\":true,\"receipt_show_currency\":false,\"allow_"
            "blind_refund\":false,\"vt_show_company_name\":false,\"receipt_show"
            "_company_name\":false,\"bank_funded_only\":false,\"require_cvv_on_"
            "keyed_cnp\":true,\"require_cvv_on_tokenized_cnp\":true,\"show_seco"
            "ndary_amount\":false,\"allow_secondary_amount\":false,\"show_googl"
            "e_pay\":true,\"show_apple_pay\":true,\"id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"active\":true,\"created_ts\":1422040992,\"modified_ts\":1"
            "422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modif"
            "ied_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"product_transaction_a"
            "pi_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"is_secondary_amount_allowed"
            "\":false,\"batch_risk_config\":{},\"fortis_id\":\"8149742\",\"prod"
            "uct_billing_group_code\":\"nofees\",\"cau_subscribe_type_code\":0}"
            ",\"next_run_date_min\":\"2021-12-01\",\"next_run_date_max\":\"2021"
            "-12-01\",\"all_tags\":[{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"title\":\"My terminal\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"created_ts\":1422040992,\"modified_ts\":1422040992}],\"changelog"
            "s\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":142204099"
            "2,\"action\":\"CREATE\",\"model\":\"TransactionRequest\",\"model_i"
            "d\":\"11ec829598f0d4008be9aba4\",\"user_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"changelog_details\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"changelog_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"field\":\"next_"
            "run_ts\",\"old_value\":\"1643616000\"}],\"user\":{\"id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"username\":\"email@domain.com\",\"first_name"
            "\":\"Bob\",\"last_name\":\"Fairview\"}}],\"forecast\":{\"id\":\"11"
            "e95f8ec39de8fbdb0a4f1a\",\"recurring_id\":\"Recurring ID\",\"creat"
            "ed_ts\":1422040992,\"modified_ts\":1422040992},\"recurring_splits"
            "\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992"
            ",\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}]}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_activate_recurring_payment(self):
        """
        Activate recurring payment.
        """
        # Parameters for the API call
        recurring_id = "11e95f8ec39de8fbdb0a4f1a"
        expand = None

        # Perform the API call through the SDK function
        result = self.controller.activate_recurring_payment(
            recurring_id,
            expand,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 200
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"Recurring\",\"data\":{\"account_vault_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"token_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cont"
            "act_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_vault_api_id\":\"t"
            "oken1234abcd\",\"token_api_id\":\"token1234abcd\",\"_joi\":{\"cond"
            "itions\":{}},\"active\":true,\"description\":\"Description\",\"end"
            "_date\":\"2021-12-01\",\"installment_total_count\":20,\"interval\""
            ":1,\"interval_type\":\"d\",\"location_id\":\"11e95f8ec39de8fbdb0a4"
            "f1a\",\"notification_days\":2,\"payment_method\":\"cc\",\"product_"
            "transaction_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"recurring_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"recurring_api_id\":\"recurring1234abcd"
            "\",\"start_date\":\"2021-12-01\",\"status\":\"active\",\"transacti"
            "on_amount\":300,\"terms_agree\":true,\"terms_agree_ip\":\"192.168."
            "0.10\",\"recurring_c1\":\"recurring custom data 1\",\"recurring_c2"
            "\":\"recurring custom data 2\",\"recurring_c3\":\"recurring custom"
            " data 3\",\"send_to_proc_as_recur\":true,\"tags\":[{\"location_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"title\":\"My terminal\",\"id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_"
            "ts\":1422040992}],\"secondary_amount\":100,\"currency\":\"USD\",\""
            "id\":\"11e95f8ec39de8fbdb0a4f1a\",\"next_run_date\":\"2021-12-01\""
            ",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"recurring_"
            "type_id\":\"i\",\"installment_amount_total\":99999999,\"created_us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"log_emails\":[{\"subject\":"
            "\"Payment Receipt - 12skiestech\",\"body\":\"This email is being s"
            "ent from a server.\",\"source_address\":\"\\\"12skiestech A7t3qi"
            "\\\" <noreply@zeamster.email>\",\"return_path\":\"\\\"12skiestech "
            "A7t3qi\\\" <noreply@zeamster.email>\",\"provider_id\":\"0100017e67"
            "bcc530-e1dd23b4-8a39-4a5b-8d5d-68d51c4c942f-000000\",\"domain_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\",\"reason_sent\":\"Contact Email\",\""
            "reason_model\":\"Transaction\",\"reason_model_id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"reply_to\":\"\\\"Zeamster\\\" <emma.p@zeamster.com"
            ">\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992}"
            "],\"contact\":{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"acco"
            "unt_number\":\"54545433332\",\"contact_api_id\":\"137\",\"first_na"
            "me\":\"John\",\"last_name\":\"Smith\",\"cell_phone\":\"3339998822"
            "\",\"balance\":245.36,\"address\":{\"city\":\"Novi\",\"state\":\"M"
            "ichigan\",\"postal_code\":\"48375\",\"country\":\"US\"},\"company_"
            "name\":\"Fortis Payment Systems, LLC\",\"header_message\":\"This i"
            "s a sample message for you\",\"date_of_birth\":\"2021-12-01\",\"em"
            "ail_trx_receipt\":true,\"home_phone\":\"3339998822\",\"office_phon"
            "e\":\"3339998822\",\"office_phone_ext\":\"5\",\"header_message_typ"
            "e\":0,\"update_if_exists\":1,\"contact_c1\":\"any\",\"contact_c2\""
            ":\"anything\",\"contact_c3\":\"something\",\"parent_id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":142"
            "2040992,\"active\":true,\"created_user_id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\"},\"account_vault\":{\"account_holder_name\":\"John Smith\","
            "\"account_vault_api_id\":\"accountvaultabcd\",\"token_api_id\":\"t"
            "okenabcd\",\"accountvault_c1\":\"accountvault custom 1\",\"account"
            "vault_c2\":\"accountvault custom 2\",\"accountvault_c3\":\"account"
            "vault custom 3\",\"token_c1\":\"token custom 1\",\"token_c2\":\"to"
            "ken custom 2\",\"token_c3\":\"token custom 3\",\"ach_sec_code\":\""
            "WEB\",\"billing_address\":{\"city\":\"Novi\",\"state\":\"Michigan"
            "\",\"postal_code\":\"48375\",\"phone\":\"3339998822\",\"country\":"
            "\"USA\"},\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"customer_id"
            "\":\"123456\",\"identity_verification\":{\"dl_state\":\"MI\",\"dl_"
            "number\":\"1235567\",\"ssn4\":\"8527\",\"dob_year\":\"1980\"},\"lo"
            "cation_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"previous_account_vault_"
            "api_id\":\"previousaccountvault123456\",\"previous_token_api_id\":"
            "\"previousaccountvault123456\",\"previous_account_vault_id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"previous_token_id\":\"11e95f8ec39de8fbdb"
            "0a4f1a\",\"previous_transaction_id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"account_number\":\"545454545454545\",\"terms_agree\":true,\"term"
            "s_agree_ip\":\"192.168.0.10\",\"title\":\"Test CC Account\",\"_joi"
            "\":{},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_type\":\"check"
            "ing\",\"active\":true,\"cau_summary_status_id\":1,\"created_ts\":1"
            "422040992,\"e_serial_number\":\"1234567890\",\"e_track_data\":null"
            ",\"e_format\":null,\"e_keyed_data\":null,\"expiring_in_months\":nu"
            "ll,\"exp_date\":\"0722\",\"first_six\":\"700953\",\"has_recurring"
            "\":false,\"last_four\":\"3657\",\"modified_ts\":1422040992,\"payme"
            "nt_method\":\"cc\",\"ticket\":null,\"track_data\":null,\"created_u"
            "ser_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cau_last_updated_ts\":1422"
            "040992,\"routing_number\":\"051904524\"},\"created_user\":{\"accou"
            "nt_number\":\"5454545454545454\",\"branding_domain_url\":\"{brandi"
            "ng_domain_url}\",\"cell_phone\":\"3339998822\",\"company_name\":\""
            "Fortis Payment Systems, LLC\",\"contact_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"date_of_birth\":\"2021-12-01\",\"domain_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"email_trx_recei"
            "pt\":true,\"home_phone\":\"3339998822\",\"first_name\":\"John\",\""
            "last_name\":\"Smith\",\"locale\":\"en-US\",\"office_phone\":\"3339"
            "998822\",\"office_ext_phone\":\"5\",\"primary_location_id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"requires_new_password\":null,\"terms_cond"
            "ition_code\":\"20220308\",\"tz\":\"America/New_York\",\"ui_prefs\""
            ":{\"entry_page\":\"dashboard\",\"page_size\":2,\"report_export_typ"
            "e\":\"csv\",\"process_method\":\"virtual_terminal\",\"default_term"
            "inal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"username\":\"{user_name}\","
            "\"user_api_key\":\"234bas8dfn8238f923w2\",\"user_hash_key\":null,"
            "\"user_type_code\":100,\"password\":null,\"zip\":\"48375\",\"locat"
            "ion_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status_code\":1,\"api_only"
            "\":false,\"is_invitation\":false,\"address\":{\"city\":\"Novi\",\""
            "state\":\"MI\",\"postal_code\":\"48375\",\"country\":\"US\"},\"id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\":true,\"login_attempts\""
            ":0,\"last_login_ts\":1422040992,\"created_ts\":1422040992,\"modifi"
            "ed_ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"terms_accepted_ts\":1422040992,\"terms_agree_ip\":\"192.168.0"
            ".10\",\"current_date_time\":\"2019-03-11T10:38:26-0700\",\"current"
            "_login\":1422040992,\"log_api_response_body_ts\":1422040992},\"sig"
            "nature\":{\"signature\":\"iVBORw0KGgoAAAANSUhEUgAAANwAAAAsCAYAAAAO"
            "yNaYAAACvklEQVR4nO3bLZOqUBjA8ScaNxqNRiKRaCQaiXwEG7cRiUajH8FINBqJRC"
            "KR+NxyD4OIXtaXw2H3/5s5MwZ39rgz/zkvuKKqgar+YTAYnx/y7wUACwgOsIjgAIsI"
            "znFlWerlcpl6GngTgnNYVVW6WCxURDTLsqmngzcgOMdtNhsVERURDYJA8zyfekp4Ac"
            "E5oCgKzfN8cOvYNM1VdCKiURRNMEu8A8FNrCzLm5j68Q1Fx2o3TwTngCzLNAiCq6D6"
            "UTVNo0mS6NfXF+HNGME5or+KeZ7XxrVcLjWOY83zXOu6vnqfeQ/bzHkgOIf0VzHP83"
            "Sz2eh6vW4D831fy7JsowvDsH1NdO4jOAfVdX0VXhRFWhSFRlHUrmr7/b4NLU3T9jVb"
            "TLcRnMO620ezep1Op3bF832/3XIORQr3EJzjumc7E9HQBUoYhjdnPKJzD8E5xjyT64"
            "7T6aSr1UpFRPf7ffveuq41TdOHZzyicwvBTeBeVGEY3jwaGBrmWV3/Z82K1z/jca5z"
            "B8F9wFBQY6JaLBYax7EmSXJ3DD2v624rzUpoVrsgCDjXOWRWwVVVNfUUrvTDGrNK3Y"
            "sqTdNRn69pGs2y7NshssV0w2yCK4pCRUSPx+Okc/hfWI9WqbFRPaMbYjc+s7ptt1ui"
            "c8BsgsvzXEVED4fDR3/P2PPVUFifDOo7THxmPiY03/fZXk7s1wR371z1zPnKlbDGuv"
            "c9TKKz78cE9yio3W436vbv1fOV6/oPx010/Ee5PbMLbrfbPRWU53kPb/9+SlRj9L8A"
            "LcJ/lNsym+DO5/PTQaVpqnVdT/0RnGLOed0LlikvpH6L2QSnqoPX4QT1mu4FC3/Dz5"
            "tVcMDcERxgEcEBFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBARYRHGARwQEWERxg"
            "EcEBFhEcYBHBARYRHGDRX+EC0ah++pNrAAAAAElFTkSuQmCC\",\"resource\":\""
            "Transaction\",\"resource_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_"
            "ts\":1422040992},\"payment_schedule\":[\"2021-12-01\"],\"location"
            "\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,"
            "\"modified_ts\":1422040992,\"account_number\":\"5454545454545454\""
            ",\"address\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":"
            "\"48375\",\"country\":\"US\"},\"branding_domain_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"contact_email_trx_receipt_default\":true,\"defau"
            "lt_ach\":\"11e608a7d515f1e093242bb2\",\"default_cc\":\"11e608a442a"
            "5f1e092242dda\",\"email_reply_to\":\"email@domain.com\",\"fax\":\""
            "3339998822\",\"location_api_id\":\"location-111111\",\"location_ap"
            "i_key\":\"AE34BBCAADF4AE34BBCAADF4\",\"location_c1\":\"custom 1\","
            "\"location_c2\":\"custom 2\",\"location_c3\":\"custom data 3\",\"n"
            "ame\":\"Sample Company Headquarters\",\"office_phone\":\"248123456"
            "7\",\"office_ext_phone\":\"1021021209\",\"tz\":\"America/New_York"
            "\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"show_contact_notes"
            "\":true,\"show_contact_files\":true,\"created_user_id\":\"11e95f8e"
            "c39de8fbdb0a4f1a\",\"location_type\":\"merchant\",\"ticket_hash_ke"
            "y\":\"A5F443CADF4AE34BBCAADF4\"},\"product_transaction\":{\"proces"
            "sor_version\":\"1_0_0\",\"title\":\"My terminal\",\"payment_method"
            "\":\"cc\",\"processor\":\"zgate\",\"mcc\":\"1111\",\"tax_surcharge"
            "_config\":2,\"partner\":\"standalone\",\"location_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"surcharge\":{},\"processor_data\":{},\"vt_cler"
            "k_number\":true,\"vt_billing_phone\":true,\"vt_enable_tip\":true,"
            "\"ach_allow_debit\":true,\"ach_allow_credit\":true,\"ach_allow_ref"
            "und\":true,\"vt_cvv\":true,\"vt_street\":true,\"vt_zip\":true,\"vt"
            "_order_num\":true,\"vt_enable\":true,\"receipt_show_contact_name\""
            ":true,\"display_avs\":true,\"card_type_visa\":true,\"card_type_mc"
            "\":true,\"card_type_disc\":true,\"card_type_amex\":true,\"card_typ"
            "e_diners\":true,\"card_type_jcb\":true,\"invoice_location\":true,"
            "\"allow_partial_authorization\":true,\"allow_recurring_partial_aut"
            "horization\":true,\"auto_decline_cvv\":true,\"auto_decline_street"
            "\":true,\"auto_decline_zip\":true,\"split_payments_allow\":true,\""
            "vt_show_custom_fields\":true,\"receipt_show_custom_fields\":true,"
            "\"vt_override_sales_tax_allowed\":true,\"vt_enable_sales_tax\":tru"
            "e,\"vt_require_zip\":true,\"vt_require_street\":true,\"auto_declin"
            "e_cavv\":true,\"current_batch\":34,\"dup_check_per_batch\":null,\""
            "paylink_allow\":false,\"quick_invoice_allow\":false,\"level3_allow"
            "\":false,\"payfac_enable\":false,\"sales_office_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"hosted_payment_page_allow\":false,\"surcharge_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"level3_default\":{},\"cau_subscr"
            "ibe_type_id\":0,\"location_billing_account_id\":\"11eb88b873980c64"
            "a21e5fd2\",\"product_billing_group_id\":\"nofees\",\"account_numbe"
            "r\":\"12345678\",\"run_avs_on_accountvault_create\":false,\"accoun"
            "tvault_expire_notification_email_enable\":false,\"debit_allow_void"
            "\":false,\"quick_invoice_text_to_pay\":false,\"sms_enable\":false,"
            "\"vt_show_currency\":true,\"receipt_show_currency\":false,\"allow_"
            "blind_refund\":false,\"vt_show_company_name\":false,\"receipt_show"
            "_company_name\":false,\"bank_funded_only\":false,\"require_cvv_on_"
            "keyed_cnp\":true,\"require_cvv_on_tokenized_cnp\":true,\"show_seco"
            "ndary_amount\":false,\"allow_secondary_amount\":false,\"show_googl"
            "e_pay\":true,\"show_apple_pay\":true,\"id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"active\":true,\"created_ts\":1422040992,\"modified_ts\":1"
            "422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modif"
            "ied_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"product_transaction_a"
            "pi_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"is_secondary_amount_allowed"
            "\":false,\"batch_risk_config\":{},\"fortis_id\":\"8149742\",\"prod"
            "uct_billing_group_code\":\"nofees\",\"cau_subscribe_type_code\":0}"
            ",\"next_run_date_min\":\"2021-12-01\",\"next_run_date_max\":\"2021"
            "-12-01\",\"all_tags\":[{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"title\":\"My terminal\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"created_ts\":1422040992,\"modified_ts\":1422040992}],\"changelog"
            "s\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":142204099"
            "2,\"action\":\"CREATE\",\"model\":\"TransactionRequest\",\"model_i"
            "d\":\"11ec829598f0d4008be9aba4\",\"user_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"changelog_details\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"changelog_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"field\":\"next_"
            "run_ts\",\"old_value\":\"1643616000\"}],\"user\":{\"id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"username\":\"email@domain.com\",\"first_name"
            "\":\"Bob\",\"last_name\":\"Fairview\"}}],\"forecast\":{\"id\":\"11"
            "e95f8ec39de8fbdb0a4f1a\",\"recurring_id\":\"Recurring ID\",\"creat"
            "ed_ts\":1422040992,\"modified_ts\":1422040992},\"recurring_splits"
            "\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992"
            ",\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}]}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

    def test_place_on_hold_recurring_payment(self):
        """
        Place on hold recurring payment.
        """
        # Parameters for the API call
        recurring_id = "11e95f8ec39de8fbdb0a4f1a"
        expand = None

        # Perform the API call through the SDK function
        result = self.controller.place_on_hold_recurring_payment(
            recurring_id,
            expand,
        )
        # Test response code
        assert self.response_catcher.response.status_code == 200
        # Test headers
        expected_headers = {
            "content-type": "application/json",
        }

        assert ComparisonHelper.match_headers(
            expected_headers,
            self.response_catcher.response.headers,
        )
        # Test whether the captured response is as we expected
        assert result is not None
        expected_body = APIHelper.json_deserialize(
            "{\"type\":\"Recurring\",\"data\":{\"account_vault_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"token_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cont"
            "act_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_vault_api_id\":\"t"
            "oken1234abcd\",\"token_api_id\":\"token1234abcd\",\"_joi\":{\"cond"
            "itions\":{}},\"active\":true,\"description\":\"Description\",\"end"
            "_date\":\"2021-12-01\",\"installment_total_count\":20,\"interval\""
            ":1,\"interval_type\":\"d\",\"location_id\":\"11e95f8ec39de8fbdb0a4"
            "f1a\",\"notification_days\":2,\"payment_method\":\"cc\",\"product_"
            "transaction_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"recurring_id\":\"1"
            "1e95f8ec39de8fbdb0a4f1a\",\"recurring_api_id\":\"recurring1234abcd"
            "\",\"start_date\":\"2021-12-01\",\"status\":\"active\",\"transacti"
            "on_amount\":300,\"terms_agree\":true,\"terms_agree_ip\":\"192.168."
            "0.10\",\"recurring_c1\":\"recurring custom data 1\",\"recurring_c2"
            "\":\"recurring custom data 2\",\"recurring_c3\":\"recurring custom"
            " data 3\",\"send_to_proc_as_recur\":true,\"tags\":[{\"location_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"title\":\"My terminal\",\"id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_"
            "ts\":1422040992}],\"secondary_amount\":100,\"currency\":\"USD\",\""
            "id\":\"11e95f8ec39de8fbdb0a4f1a\",\"next_run_date\":\"2021-12-01\""
            ",\"created_ts\":1422040992,\"modified_ts\":1422040992,\"recurring_"
            "type_id\":\"i\",\"installment_amount_total\":99999999,\"created_us"
            "er_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"log_emails\":[{\"subject\":"
            "\"Payment Receipt - 12skiestech\",\"body\":\"This email is being s"
            "ent from a server.\",\"source_address\":\"\\\"12skiestech A7t3qi"
            "\\\" <noreply@zeamster.email>\",\"return_path\":\"\\\"12skiestech "
            "A7t3qi\\\" <noreply@zeamster.email>\",\"provider_id\":\"0100017e67"
            "bcc530-e1dd23b4-8a39-4a5b-8d5d-68d51c4c942f-000000\",\"domain_id\""
            ":\"11e95f8ec39de8fbdb0a4f1a\",\"reason_sent\":\"Contact Email\",\""
            "reason_model\":\"Transaction\",\"reason_model_id\":\"11e95f8ec39de"
            "8fbdb0a4f1a\",\"reply_to\":\"\\\"Zeamster\\\" <emma.p@zeamster.com"
            ">\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992}"
            "],\"contact\":{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"acco"
            "unt_number\":\"54545433332\",\"contact_api_id\":\"137\",\"first_na"
            "me\":\"John\",\"last_name\":\"Smith\",\"cell_phone\":\"3339998822"
            "\",\"balance\":245.36,\"address\":{\"city\":\"Novi\",\"state\":\"M"
            "ichigan\",\"postal_code\":\"48375\",\"country\":\"US\"},\"company_"
            "name\":\"Fortis Payment Systems, LLC\",\"header_message\":\"This i"
            "s a sample message for you\",\"date_of_birth\":\"2021-12-01\",\"em"
            "ail_trx_receipt\":true,\"home_phone\":\"3339998822\",\"office_phon"
            "e\":\"3339998822\",\"office_phone_ext\":\"5\",\"header_message_typ"
            "e\":0,\"update_if_exists\":1,\"contact_c1\":\"any\",\"contact_c2\""
            ":\"anything\",\"contact_c3\":\"something\",\"parent_id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"id\":\"11e95f"
            "8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_ts\":142"
            "2040992,\"active\":true,\"created_user_id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\"},\"account_vault\":{\"account_holder_name\":\"John Smith\","
            "\"account_vault_api_id\":\"accountvaultabcd\",\"token_api_id\":\"t"
            "okenabcd\",\"accountvault_c1\":\"accountvault custom 1\",\"account"
            "vault_c2\":\"accountvault custom 2\",\"accountvault_c3\":\"account"
            "vault custom 3\",\"token_c1\":\"token custom 1\",\"token_c2\":\"to"
            "ken custom 2\",\"token_c3\":\"token custom 3\",\"ach_sec_code\":\""
            "WEB\",\"billing_address\":{\"city\":\"Novi\",\"state\":\"Michigan"
            "\",\"postal_code\":\"48375\",\"phone\":\"3339998822\",\"country\":"
            "\"USA\"},\"contact_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"customer_id"
            "\":\"123456\",\"identity_verification\":{\"dl_state\":\"MI\",\"dl_"
            "number\":\"1235567\",\"ssn4\":\"8527\",\"dob_year\":\"1980\"},\"lo"
            "cation_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"previous_account_vault_"
            "api_id\":\"previousaccountvault123456\",\"previous_token_api_id\":"
            "\"previousaccountvault123456\",\"previous_account_vault_id\":\"11e"
            "95f8ec39de8fbdb0a4f1a\",\"previous_token_id\":\"11e95f8ec39de8fbdb"
            "0a4f1a\",\"previous_transaction_id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"account_number\":\"545454545454545\",\"terms_agree\":true,\"term"
            "s_agree_ip\":\"192.168.0.10\",\"title\":\"Test CC Account\",\"_joi"
            "\":{},\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"account_type\":\"check"
            "ing\",\"active\":true,\"cau_summary_status_id\":1,\"created_ts\":1"
            "422040992,\"e_serial_number\":\"1234567890\",\"e_track_data\":null"
            ",\"e_format\":null,\"e_keyed_data\":null,\"expiring_in_months\":nu"
            "ll,\"exp_date\":\"0722\",\"first_six\":\"700953\",\"has_recurring"
            "\":false,\"last_four\":\"3657\",\"modified_ts\":1422040992,\"payme"
            "nt_method\":\"cc\",\"ticket\":null,\"track_data\":null,\"created_u"
            "ser_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"cau_last_updated_ts\":1422"
            "040992,\"routing_number\":\"051904524\"},\"created_user\":{\"accou"
            "nt_number\":\"5454545454545454\",\"branding_domain_url\":\"{brandi"
            "ng_domain_url}\",\"cell_phone\":\"3339998822\",\"company_name\":\""
            "Fortis Payment Systems, LLC\",\"contact_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"date_of_birth\":\"2021-12-01\",\"domain_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"email\":\"email@domain.com\",\"email_trx_recei"
            "pt\":true,\"home_phone\":\"3339998822\",\"first_name\":\"John\",\""
            "last_name\":\"Smith\",\"locale\":\"en-US\",\"office_phone\":\"3339"
            "998822\",\"office_ext_phone\":\"5\",\"primary_location_id\":\"11e9"
            "5f8ec39de8fbdb0a4f1a\",\"requires_new_password\":null,\"terms_cond"
            "ition_code\":\"20220308\",\"tz\":\"America/New_York\",\"ui_prefs\""
            ":{\"entry_page\":\"dashboard\",\"page_size\":2,\"report_export_typ"
            "e\":\"csv\",\"process_method\":\"virtual_terminal\",\"default_term"
            "inal\":\"11e95f8ec39de8fbdb0a4f1a\"},\"username\":\"{user_name}\","
            "\"user_api_key\":\"234bas8dfn8238f923w2\",\"user_hash_key\":null,"
            "\"user_type_code\":100,\"password\":null,\"zip\":\"48375\",\"locat"
            "ion_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"status_code\":1,\"api_only"
            "\":false,\"is_invitation\":false,\"address\":{\"city\":\"Novi\",\""
            "state\":\"MI\",\"postal_code\":\"48375\",\"country\":\"US\"},\"id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"status\":true,\"login_attempts\""
            ":0,\"last_login_ts\":1422040992,\"created_ts\":1422040992,\"modifi"
            "ed_ts\":1422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"terms_accepted_ts\":1422040992,\"terms_agree_ip\":\"192.168.0"
            ".10\",\"current_date_time\":\"2019-03-11T10:38:26-0700\",\"current"
            "_login\":1422040992,\"log_api_response_body_ts\":1422040992},\"sig"
            "nature\":{\"signature\":\"iVBORw0KGgoAAAANSUhEUgAAANwAAAAsCAYAAAAO"
            "yNaYAAACvklEQVR4nO3bLZOqUBjA8ScaNxqNRiKRaCQaiXwEG7cRiUajH8FINBqJRC"
            "KR+NxyD4OIXtaXw2H3/5s5MwZ39rgz/zkvuKKqgar+YTAYnx/y7wUACwgOsIjgAIsI"
            "znFlWerlcpl6GngTgnNYVVW6WCxURDTLsqmngzcgOMdtNhsVERURDYJA8zyfekp4Ac"
            "E5oCgKzfN8cOvYNM1VdCKiURRNMEu8A8FNrCzLm5j68Q1Fx2o3TwTngCzLNAiCq6D6"
            "UTVNo0mS6NfXF+HNGME5or+KeZ7XxrVcLjWOY83zXOu6vnqfeQ/bzHkgOIf0VzHP83"
            "Sz2eh6vW4D831fy7JsowvDsH1NdO4jOAfVdX0VXhRFWhSFRlHUrmr7/b4NLU3T9jVb"
            "TLcRnMO620ezep1Op3bF832/3XIORQr3EJzjumc7E9HQBUoYhjdnPKJzD8E5xjyT64"
            "7T6aSr1UpFRPf7ffveuq41TdOHZzyicwvBTeBeVGEY3jwaGBrmWV3/Z82K1z/jca5z"
            "B8F9wFBQY6JaLBYax7EmSXJ3DD2v624rzUpoVrsgCDjXOWRWwVVVNfUUrvTDGrNK3Y"
            "sqTdNRn69pGs2y7NshssV0w2yCK4pCRUSPx+Okc/hfWI9WqbFRPaMbYjc+s7ptt1ui"
            "c8BsgsvzXEVED4fDR3/P2PPVUFifDOo7THxmPiY03/fZXk7s1wR371z1zPnKlbDGuv"
            "c9TKKz78cE9yio3W436vbv1fOV6/oPx010/Ee5PbMLbrfbPRWU53kPb/9+SlRj9L8A"
            "LcJ/lNsym+DO5/PTQaVpqnVdT/0RnGLOed0LlikvpH6L2QSnqoPX4QT1mu4FC3/Dz5"
            "tVcMDcERxgEcEBFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBARYRHGARwQEWERxg"
            "EcEBFhEcYBHBARYRHGDRX+EC0ah++pNrAAAAAElFTkSuQmCC\",\"resource\":\""
            "Transaction\",\"resource_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"id\":"
            "\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,\"modified_"
            "ts\":1422040992},\"payment_schedule\":[\"2021-12-01\"],\"location"
            "\":{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992,"
            "\"modified_ts\":1422040992,\"account_number\":\"5454545454545454\""
            ",\"address\":{\"city\":\"Novi\",\"state\":\"MI\",\"postal_code\":"
            "\"48375\",\"country\":\"US\"},\"branding_domain_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"contact_email_trx_receipt_default\":true,\"defau"
            "lt_ach\":\"11e608a7d515f1e093242bb2\",\"default_cc\":\"11e608a442a"
            "5f1e092242dda\",\"email_reply_to\":\"email@domain.com\",\"fax\":\""
            "3339998822\",\"location_api_id\":\"location-111111\",\"location_ap"
            "i_key\":\"AE34BBCAADF4AE34BBCAADF4\",\"location_c1\":\"custom 1\","
            "\"location_c2\":\"custom 2\",\"location_c3\":\"custom data 3\",\"n"
            "ame\":\"Sample Company Headquarters\",\"office_phone\":\"248123456"
            "7\",\"office_ext_phone\":\"1021021209\",\"tz\":\"America/New_York"
            "\",\"parent_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"show_contact_notes"
            "\":true,\"show_contact_files\":true,\"created_user_id\":\"11e95f8e"
            "c39de8fbdb0a4f1a\",\"location_type\":\"merchant\",\"ticket_hash_ke"
            "y\":\"A5F443CADF4AE34BBCAADF4\"},\"product_transaction\":{\"proces"
            "sor_version\":\"1_0_0\",\"title\":\"My terminal\",\"payment_method"
            "\":\"cc\",\"processor\":\"zgate\",\"mcc\":\"1111\",\"tax_surcharge"
            "_config\":2,\"partner\":\"standalone\",\"location_id\":\"11e95f8ec"
            "39de8fbdb0a4f1a\",\"surcharge\":{},\"processor_data\":{},\"vt_cler"
            "k_number\":true,\"vt_billing_phone\":true,\"vt_enable_tip\":true,"
            "\"ach_allow_debit\":true,\"ach_allow_credit\":true,\"ach_allow_ref"
            "und\":true,\"vt_cvv\":true,\"vt_street\":true,\"vt_zip\":true,\"vt"
            "_order_num\":true,\"vt_enable\":true,\"receipt_show_contact_name\""
            ":true,\"display_avs\":true,\"card_type_visa\":true,\"card_type_mc"
            "\":true,\"card_type_disc\":true,\"card_type_amex\":true,\"card_typ"
            "e_diners\":true,\"card_type_jcb\":true,\"invoice_location\":true,"
            "\"allow_partial_authorization\":true,\"allow_recurring_partial_aut"
            "horization\":true,\"auto_decline_cvv\":true,\"auto_decline_street"
            "\":true,\"auto_decline_zip\":true,\"split_payments_allow\":true,\""
            "vt_show_custom_fields\":true,\"receipt_show_custom_fields\":true,"
            "\"vt_override_sales_tax_allowed\":true,\"vt_enable_sales_tax\":tru"
            "e,\"vt_require_zip\":true,\"vt_require_street\":true,\"auto_declin"
            "e_cavv\":true,\"current_batch\":34,\"dup_check_per_batch\":null,\""
            "paylink_allow\":false,\"quick_invoice_allow\":false,\"level3_allow"
            "\":false,\"payfac_enable\":false,\"sales_office_id\":\"11e95f8ec39"
            "de8fbdb0a4f1a\",\"hosted_payment_page_allow\":false,\"surcharge_id"
            "\":\"11e95f8ec39de8fbdb0a4f1a\",\"level3_default\":{},\"cau_subscr"
            "ibe_type_id\":0,\"location_billing_account_id\":\"11eb88b873980c64"
            "a21e5fd2\",\"product_billing_group_id\":\"nofees\",\"account_numbe"
            "r\":\"12345678\",\"run_avs_on_accountvault_create\":false,\"accoun"
            "tvault_expire_notification_email_enable\":false,\"debit_allow_void"
            "\":false,\"quick_invoice_text_to_pay\":false,\"sms_enable\":false,"
            "\"vt_show_currency\":true,\"receipt_show_currency\":false,\"allow_"
            "blind_refund\":false,\"vt_show_company_name\":false,\"receipt_show"
            "_company_name\":false,\"bank_funded_only\":false,\"require_cvv_on_"
            "keyed_cnp\":true,\"require_cvv_on_tokenized_cnp\":true,\"show_seco"
            "ndary_amount\":false,\"allow_secondary_amount\":false,\"show_googl"
            "e_pay\":true,\"show_apple_pay\":true,\"id\":\"11e95f8ec39de8fbdb0a"
            "4f1a\",\"active\":true,\"created_ts\":1422040992,\"modified_ts\":1"
            "422040992,\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"modif"
            "ied_user_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"product_transaction_a"
            "pi_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"is_secondary_amount_allowed"
            "\":false,\"batch_risk_config\":{},\"fortis_id\":\"8149742\",\"prod"
            "uct_billing_group_code\":\"nofees\",\"cau_subscribe_type_code\":0}"
            ",\"next_run_date_min\":\"2021-12-01\",\"next_run_date_max\":\"2021"
            "-12-01\",\"all_tags\":[{\"location_id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"title\":\"My terminal\",\"id\":\"11e95f8ec39de8fbdb0a4f1a\","
            "\"created_ts\":1422040992,\"modified_ts\":1422040992}],\"changelog"
            "s\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":142204099"
            "2,\"action\":\"CREATE\",\"model\":\"TransactionRequest\",\"model_i"
            "d\":\"11ec829598f0d4008be9aba4\",\"user_id\":\"11e95f8ec39de8fbdb0"
            "a4f1a\",\"changelog_details\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a"
            "\",\"changelog_id\":\"11e95f8ec39de8fbdb0a4f1a\",\"field\":\"next_"
            "run_ts\",\"old_value\":\"1643616000\"}],\"user\":{\"id\":\"11e95f8"
            "ec39de8fbdb0a4f1a\",\"username\":\"email@domain.com\",\"first_name"
            "\":\"Bob\",\"last_name\":\"Fairview\"}}],\"forecast\":{\"id\":\"11"
            "e95f8ec39de8fbdb0a4f1a\",\"recurring_id\":\"Recurring ID\",\"creat"
            "ed_ts\":1422040992,\"modified_ts\":1422040992},\"recurring_splits"
            "\":[{\"id\":\"11e95f8ec39de8fbdb0a4f1a\",\"created_ts\":1422040992"
            ",\"created_user_id\":\"11e95f8ec39de8fbdb0a4f1a\"}]}}",
        )
        received_body = APIHelper.json_deserialize(
            self.response_catcher.response.text,
        )
        assert ComparisonHelper.match_body(
            expected_body,
            received_body,
        )

